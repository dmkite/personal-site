<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>Mod 2: Cyberbullying</title>
  <style title="Twine CSS">
    .messages,html{overflow-x:hidden}tw-icon,tw-passage,tw-sidebar{display:block}@-webkit-keyframes appear{0%{opacity:0}to{opacity:1}}@keyframes appear{0%{opacity:0}to{opacity:1}}@-webkit-keyframes fade-in-out{0%,to{opacity:0}50%{opacity:1}}@keyframes fade-in-out{0%,to{opacity:0}50%{opacity:1}}.show-invisibles{border-radius:3px;border:1px solid #999;background-color:#fff;font-size:inherit}tw-passage,tw-sidebar{background-color:rgba(235,235,235,.5)}.link,tw-icon,tw-link{cursor:pointer}tw-link{color:#4169E1;font-weight:700;text-decoration:none;transition:color .2s ease-in-out}tw-link:hover{color:#00bfff}tw-link:active{color:#DD4B39}.visited{color:#6941e1}.visited:hover{color:#E3E}html{margin:0;color:#000;height:100%;box-sizing:border-box}*,:after,:before{position:relative;box-sizing:inherit}body{margin:0;padding:0;background-image:url(https://www.transparenttextures.com/patterns/escheresque.png);background:url(https://www.transparenttextures.com/patterns/escheresque.png),linear-gradient(to bottom right,#aaffd3,#a5defc);background-attachment:fixed}tw-storydata{display:none}tw-story{display:-webkit-box;display:-webkit-flex;display:-moz-flex;display:-ms-flexbox;display:flex;-webkit-box-direction:normal;-webkit-box-orient:vertical;-webkit-flex-direction:column;-moz-flex-direction:column;-ms-flex-direction:column;flex-direction:column;width:90%!important;font-size:1.5em;line-height:1.5em;margin:5% 1% 5% 9%}@media screen and (max-width:1024px){tw-story{font-size:1.2em}}@media screen and (max-width:896px){tw-story{font-size:1.05em}}@media screen and (max-width:768px){tw-story{font-size:.9em}}tw-sidebar{left:-85px;top:-10px;width:3em;position:absolute;text-align:center}tw-icon{font-size:2.75em}tw-colour{border:1px solid #000;display:inline-block;width:1em;height:1em}.transition-in[data-t8n^=dissolve],[data-t8n^=fade-in].transition-in{-webkit-animation:appear .8s;animation:appear .8s}[data-t8n^=dissolve].transition-out{-webkit-animation:appear .8s reverse;animation:appear .8s reverse}.transition-in[data-t8n^=shudder],[data-t8n^=shudder-in].transition-in{display:inline-block;-webkit-animation:shudder-in .8s;animation:shudder-in .8s}.transition-out[data-t8n^=shudder],[data-t8n^=shudder-out].transition-out{display:inline-block;-webkit-animation:shudder-out .8s;animation:shudder-out .8s}.character,video{display:block}[data-t8n^=boxflash].transition-in{-webkit-animation:box-flash .8s;animation:box-flash .8s}[data-t8n^=pulse].transition-in{-webkit-animation:pulse .8s;animation:pulse .8s}[data-t8n^=pulse].transition-out{-webkit-animation:pulse .8s reverse;animation:pulse .8s reverse}[data-t8n$=fast]{animation-duration:.4s;-webkit-animation-duration:.4s}[data-t8n$=slow]{animation-duration:1.2s;-webkit-animation-duration:1.2s}tw-passage{font:300 24px/1.4em 'Open Sans',sans-serif;width:90%;margin:0 auto 10px;padding:20px;border-radius:30px;border:10px double #333}.banner,.displayed{margin:10px auto;height:auto;display:block}h5{font-size:16px}.displayed{max-width:50%;border:3px solid #333}.logo{float:right}tw-sidebar{border-radius:30px;border:3px solid #333}tw-icon{opacity:1;margin:15px auto}.cell,.character,.phone-img,video{margin:0 auto}tw-icon:hover{opacity:.75}.redo,.undo{color:#333;opacity:1}#wrap{height:100px;width:100px}video{width:50%;height:auto}#flexbox{width:100%;height:auto;display:flex}.flexitem{width:33%;height:auto}.flexitem img{width:45%;height:auto}.flexitem img:hover{transform:scale(.9,.9)}.cell{width:300px;height:600px;background-color:#222;border-radius:32px;position:relative;display:block}.circle,.screen,.utility{position:absolute}.screen{width:280px;height:490px;background-color:#fff;left:10px;top:40px}.circle{height:30px;width:30px;border:3px solid gray;border-radius:50%;bottom:20px;left:135px}.utility{width:280px;height:60px;background-color:#f8f8f8;border-bottom:2px solid #f0f0f0;top:0}.contact,.phone-back,.phone-link{font:700 18px/60px 'Open Sans',sans-serif;text-align:center;margin:0 auto}.contact{margin-top:-30px}.phone-back,.phone-link{font-size:14px;color:#4A66FF;width:22%;float:right}.tri-get,.tri-send{width:0;height:0;bottom:-10px}.phone-back{float:left}.msg-get,.msg-send{background-color:#E4E3E8;padding:10px 20px;border-radius:32px;margin:0 0 0 5px;display:inline-block;max-width:90%;position:relative;font:500 16px/1.2em 'Open Sans',sans-serif;text-align:left}.msg-bar,.msg-write,.msg-write p,.tri-get,.tri-send{position:absolute}.msg-next{margin-top:-20px!important}.msg-send{margin:-25px 5px 10px 25px;background-color:#64A4FC;color:#fff;float:right}.tri-get{border-top:15px solid #E4E3E8;border-right:20px solid transparent}.tri-send{border-top:15px solid #64A4FC;border-left:20px solid transparent;right:30px}.msg-bar{background-color:#f7f7f7;bottom:0;width:100%;height:55px;vertical-align:middle}.msg-write{border:1px solid #e0e0e0;padding:0;border-radius:5px;color:#C7C5CB;width:65%;height:35px;font:300 20px/35px 'Open Sans',sans-serif;top:10px;left:10px}.msg-write p{line-height:35px;padding:0;top:-20px;left:10px}.send{display:inline-block;font:600 20px/55px 'Open Sans',sans-serif;color:#9E9CA2;padding:0 10px;float:right;margin:-65px 10px 0 0}.messages{overflow-y:scroll;height:370px}div.messages::-webkit-scrollbar{width:8px}.messages::-webkit-scrollbar-track{background:#ddd}.messages::-webkit-scrollbar-thumb{background:#64A4FC;border-radius:4px}.messages::-webkit-scrollbar-thumb:hover{background:#4282da}.character{height:360px;width:360px;background-image:url('../assets/mod2/sprite-resize.png')}#allatoona{background-position:-360px 0}#angelica{background-position:-720px 0}#brandon{background-position:-1080px 0}#dad{background-position:-1440px 0}#frankie{background-position:-1800px 0}#grant{background-position:-2160px 0}#hannah{background-position:-2520px 0}#hoffman{background-position:-2880px 0}#jess{background-position:-3240px 0}#meera{background-position:-3600px 0}#micah{background-position:-3960px 0}#miller{background-position:-4320px 0}#willa{background-position:-4680px 0}#metro{background-position:-5040px 0}.phone-img{border:1px solid #333;height:478px;width:288px;background-image:url(../assets/mod2/sprite2.jpg);background-size:1700%}#pinterest{background-position:-4004px}#allatoona-exposed{background-position:-286px;}#meme-two{background-position:-2574px;} #twitter{background-position:-2860px}#willa-dm{background-position: -3148px;}#frankie-dm{background-position:-1715px}#willa-dm-two{background-position:-3431px}#angelica-two{background-position:287px}#angelica-photoshop{background-position:572px;}#anonymous{background-position:-1429px}#yearbook-snap{background-position:-3717px;}#meera-snap{background-position:-2287px}#angelica-snap-dm-two{background-position:-1142px}#angelica-snap-dm{background-position:-864px}#ig-dm{background-position:-2001px}#angelica-ig-post{background-position:-572px}.phone{border:3px solid #333; margin:0 auto; display:block;}.messages{height:340px;}.messages img[src*="meme"]{border-radius: 15px;margin-bottom:25px;}.tweet-box{width:600px;height:154px;margin:10px auto;background-image:url('../assets/mod2/sprite3.jpg');border:1px solid #333}#tweet5{background-position:0 -616px}#tweet4{background-position:0 -462px}#tweet3{background-position:0 -308px}#tweet2{background-position:0 -154px}.banner{border:3px solid #333;}</style>
  <link rel="stylesheet" href="main.css">
</head>

<body>

<tw-story></tw-story>

<tw-storydata name="Mod 1: Cyberbullying" startnode="1" creator="Twine" creator-version="2.1.3" ifid="00CB135E-24DE-416A-B8FB-FB3F295F2F18" format="Harlowe" format-version="1.2.4" options="" hidden><script role="script" id="twine-user-script" type="text/twine-javascript">


</script><tw-passagedata pid="1" name="The Beginning" tags="" position="2444,119.33333333333333">

Welcome to Washtenaw Area Council for Children's Cyber Safety Exploration Module. In this module you will act as an advisor to a high school Sophomore, helping her make tough decisions with serious consequences. To learn how to play, click the 'instructions' link below!

[[Instructions]]

<img class="banner" src="../assets/mod2/wacc-logo.jpg" alt="logo" width="594" height="116" style="width:50%;">
=><= 
######Copyright © 2017 Washtenaw Area Council for Children, All rights reserved.</tw-passagedata><tw-passagedata pid="2" name="bio_Hannah" tags="" position="2947,421"><div class="character" id="hannah"></div>
Hannah is 16 years old, a distance runner on the Allatoona track team, and recently received her learner&#x27;s permit.
<img class="logo" src="../assets/mod2/wacc-mini-logo.png" alt="logo" height="50" width="50">

</tw-passagedata><tw-passagedata pid="3" name="Instructions" tags="" position="2536,231">This is a story where you get to choose the path the adventure takes. Links within passages show you image and video artifacts that provide context for what&#x27;s going on in the story.

Links below passages are choices you can have the main character make. If you make a decision and want to change it, use the back arrow to the left of the text box.

[[Let&#x27;s get started!]]

<img class="logo" src="../assets/mod2/wacc-mini-logo.png" alt="logo" height="50" width="50"></tw-passagedata><tw-passagedata pid="4" name="Let&#x27;s get started!" tags="" position="2618,433">This is [[Hannah->bio_Hannah]]. She&#x27;s a Sophomore at [[Allatoona High School->pic_AHS]]. For Hannah, school isn&#x27;t very fun. Her classes are really challenging and despite her best efforts her grades have been slipping. 

Track, though, is another thing entirely. Last year she joined the JV track team and it totally changed her life - everything is so much simpler when she&#x27;s running. 

She has track practice pretty much everyday after school and when she gets home, she&#x27;s usually exhausted. To blow off steam Hannah wants to do something relaxing. What should she do? 

<div id="flexbox">
	<div class="flexitem">[[<img style="float:left;" src= "../assets/mod2/snapchat-logo.png" width= "100" height= "100" alt= "Snapchat icon">->snapchat]]</div>
	<div class="flexitem">[[<img style="display:block; margin:0 auto;" src= "../assets/mod2/twitter-logo.png" width= "100" height= "100" alt= "Twitter logo">->twitter]]</div>
	<div class="flexitem">[[<img style="float:right" src= "../assets/mod2/pinterest-logo.png" width= "100" height= "100" alt= "Pinterest Logo">->pinterest]]</div>
</div>
</tw-passagedata><tw-passagedata pid="5" name="snapchat" tags="" position="2146,268.3333333333333">Hannah opens snapchat to see if anyone has updated their story. She notices she&#x27;s gotten a [[snap->pic_snap_adam]] from a girl named [[Angelica->bio_angelica]].
 
Hannah and Angelica aren&#x27;t very close, but they&#x27;ve talked a few times. It&#x27;s pretty cool that Angelica sent her a snap, but this one was really mean. Hannah wonders how many other people got it too. 

What should Hannah do?
[[Tell Adam]]
[[Laugh]]   
[[Ignore it]]</tw-passagedata><tw-passagedata pid="6" name="twitter" tags="" position="4023.6666666666665,1500">Hannah pulls out her phone and checks out her [[feed->pic_feed]]. It&#x27;s been a while since she&#x27;s gone on Twitter - there are a lot of hilarious tweets for her to check out. 

Hannah usually tries to stay out of other people&#x27;s drama, but Willa and Frankie&#x27;s fights are usually too good to miss. They have some hilarious tweets, but this time it&#x27;s starting out really personally. What should Hannah do?

[[Side with Frankie]]
[[Side with Willa]]
[[Report them]]</tw-passagedata><tw-passagedata pid="7" name="pinterest" tags="" position="4218,317">Hannah lays back in bed and idly scrolls through her [[board]]. Her pins are pretty much exclusively track related. 

It&#x27;s nice to take her mind off of school, but all the track pins remind her that if her grades keep slipping she&#x27;ll be kicked off of the team. English is seriously tanking her GPA. She just doesn&#x27;t get it. 

[[Mr. Hoffman]] has offered a couple times to stay after school and offer some tutoring, but it always conflicts with track practice. 

To take her mind off of track she starts looking at other people&#x27;s boards. There&#x27;s one she sees where someone is takes different people&#x27;s profile pictures and turns them into memes. There&#x27;s even [[one of Hannah]]. What should she do?

[[Try and figure out who did it]]
[[Report it ]] </tw-passagedata><tw-passagedata pid="8" name="pic_AHS" tags="" position="2810,245"><div class="character" id="allatoona"></div>
With a student body of over 2,000, Allatoona High School is the largest school in the county. Every sports team is a source of pride at AHS - the Allatoona Raiders have an undefeated football team this year.
<img class="logo" src="../assets/mod2/wacc-mini-logo.png" alt="logo" height="50" width="50"></tw-passagedata><tw-passagedata pid="9" name="Tell Adam" tags="" position="1741.3333333333335,347.33333333333337">It&#x27;s kind of weird that Angelica would be snapping pictures of [[Adam->bio_adam]]. Hannah isn&#x27;t sure if she&#x27;s even seen the two of them talk before.

The snap is funny, but in a really mean way. Hannah would want to know if someone were talking behind her back, Adam probably would too. She decides to [[text->pic_text_adam]] to let him know what&#x27;s going on. 

Hannah goes back and checks out Meera&#x27;s updates. As usual, they&#x27;re hilarious. A few minutes go by before she gets a [[text->pic_text_angelica]] from an unknown number. What should she do? 

[[Respond]]
[[Ignore it->Ignore it 2]]</tw-passagedata><tw-passagedata pid="10" name="Laugh" tags="" position="2143,497">That snap was hilarious. Adam is one of the most annoying people Hannah can think of, so she doesn&#x27;t feel too bad that he&#x27;s getting made fun of.

Hannah also feels pretty good that Angelica is talking to her. Hannah was never popular, but she also wasn&#x27;t unpopular. Having someone - especially someone as cool as Angelica - include her is great. 

How should Hannah respond?
[[Send a snap back->snap back]]
[[Message her]]</tw-passagedata><tw-passagedata pid="11" name="Ignore it" tags="" position="2657,640">A few minutes later Hannah gets another [[snap->pic_snap_meera]]. This time it&#x27;s of Hannah&#x27;s best friend [[Meera->bio_meera]] . She doesn&#x27;t want anyone to make fun of her friend, but at the same time she also wants more friends. Maybe Angelica could be one.

What should Hannah do?

[[Tell her to stop]]
[[Pretend to like it]]
</tw-passagedata><tw-passagedata pid="12" name="pic_snap_adam" tags="" position="1964,413.6666666666667">
	<div class="phone-img"></div>
It looks like Angelica took a picture of her laptop screen. Adam does look ridiculous. He&#x27;s probably trying to make it seem like a cool party, but it actually seems more like his little brother&#x27;s bar mitzvah.
<img class="logo" src="../assets/mod2/wacc-mini-logo.png" alt="logo" height="50" width="50"></tw-passagedata><tw-passagedata pid="13" name="bio_angelica" tags="" position="1912.6666666666667,148"><div class="character" id="angelica"></div>
Angelica is in Hannah&#x27;s calc class. She&#x27;s in the art association, on the yearbook staff, and drives a BMW. Everyone thinks she&#x27;s incredible, but she&#x27;s not exactly the friendliest person.
<img class="logo" src="../assets/mod2/wacc-mini-logo.png" alt="logo" height="50" width="50">
</tw-passagedata><tw-passagedata pid="14" name="bio_adam" tags="" position="2141,124"><div class="character" id="adam"></div>
Adam isn&#x27;t a very popular guy. He was really annoying in middle school and doesn&#x27;t have many friends at Allatoona. He posts a lot of pictures of himself partying, but the parties all look suspiciously like they&#x27;re in his bedroom.
<img class="logo" src="../assets/mod2/wacc-mini-logo.png" alt="logo" height="50" width="50"></tw-passagedata><tw-passagedata pid="15" name="pic_text_adam" tags="" position="1726.6666666666667,87">
	<div class="cell">
    <div class="screen">
        <div class="utility">
            <p class="contact"><span class="phone-back"> < Back</span> Adam <span class="phone-link">contacts</span></p>
        </div>    
        <div class="messages">
	      	<div class="msg-send">Hey Adam. I have something I want to talk to you about<div class="tri-send"></div></div>
	        
	        <div class="msg-get">Sup, girl?<div class="tri-get"></div></div>
	        
	        <div class="msg-send">Angelica is sending a really mean snap of you around. I thought you would like to know. I'm sorry :-(<div class="tri-send"></div></div>

	        <div class="msg-get">Seriously? I don't even know her! Thanks for telling me... I guess...<div class="tri-get"></div></div>
    </div>

      <div class="msg-bar">
        <div class="msg-write">
          <p>Message</p>
        </div>
        <p class="send">Send</p>
      </div>
    </div>
    <div class="circle"></div>
    
</div>
Poor guy. He seems pretty upset. Hopefully he doesn&#x27;t confront Angelica and tell her that Hannah gave him a heads up. Hannah wants to do the right thing, but would rather not be pulled into this drama.
<img class="logo" src="../assets/mod2/wacc-mini-logo.png" alt="logo" height="50" width="50">
</tw-passagedata><tw-passagedata pid="16" name="pic_snap_meera" tags="" position="2817,602.3333333333333"><div class="phone-img" id="meera-snap"></div>
The infamous fedora picture. Meera didn&#x27;t really discover her fashionable side until recently - this a few years ago this picture got a lot of attention on Facebook.
<img class="logo" src="../assets/mod2/wacc-mini-logo.png" alt="logo" height="50" width="50"></tw-passagedata><tw-passagedata pid="17" name="snap back" tags="" position="2149,946">Hannah feels really good that Angelica sent her a snap. She always wanted to get to know her better. She decides to send Angelica a [[snap->pic_yearbook_snap]] to show she can be funny too.

A few seconds later Hannah gets a notification that Angelica has taken a screenshot of the snap. Hannah feels torn. It&#x27;s cool that she wanted to save it, but Hannah&#x27;s not happy that she has a permanent copy of the snap. 

Hannah and Angelica share a few more snaps and eventually Angelica asks Hannah to hang out after school. Hannah skips track practice and instead goes to get coffee with Angelica. 

Hannah has a really good time talking with Angelica - she can&#x27;t remember the last time she laughed so much. The two spend most of the time talking about people they don&#x27;t like. 

Naturally the two get to talking about their teachers and eventually [[Mr. Hoffman]] is brought up. Angelica //hates// him. Apparently he picks on her all the time. Angelica is planning on making a fake Facebook account pretending to be him. She asks Hannah if she&#x27;ll help her.

What should Hannah do?

[[Help Angelica]]
[[Report her]]
</tw-passagedata><tw-passagedata pid="18" name="Message her" tags="" position="1876,1170.3333333333333">Hannah decides to [[direct message]] Angelica. The two talk for a while and eventually Angelica asks Hannah to hang out after school. Hannah skips track practice and instead goes to get coffee with Angelica. 

Hannah has a really good time talking with Angelica - she can&#x27;t remember the last time she laughed so much. The two spend most of the time talking about people they don&#x27;t like. 

They eventually get to [[Mr. Hoffman]]. Angelica //hates// him. Apparently he picks on her all the time. Angelica is planning on making a fake Facebook account pretending to be him. She asks Hannah if she&#x27;ll help her.

What should Hannah do?

[[Help Angelica]]
[[Report her]]
</tw-passagedata><tw-passagedata pid="19" name="Tell her to stop" tags="" position="2831.3333333333335,1204.6666666666667">Hannah decides to send Angelica a [[direct->dm2]] message asking her to stop. Meera is her friend - there&#x27;s no way she&#x27;s going to let someone get away with making fun of her. 

She doesn&#x27;t get a response, but a few minutes later Hannah gets a text from Meera telling her to check out Angelica&#x27;s instagram. She posted this [[picture]]. 

Something needs to be done. Hannah knows that Angelica is doing similar stuff to other people. It has to stop. What should Hannah do about it?

[[Collect evidence]] 
[[Get revenge]] </tw-passagedata><tw-passagedata pid="20" name="Pretend to like it" tags="" position="2632,801.6666666666666">Hannah sends a direct message back pretending to like it. She didn&#x27;t know what else to do. It&#x27;s messed up that she&#x27;s sending mean snaps, but Hannah kind of wants to get to know her better.

The two talk for a while and eventually Angelica asks Hannah to hang out after school. Hannah skips track practice and instead goes to get coffee with Angelica. 

Hannah has a really good time talking with Angelica - she can&#x27;t remember the last time she laughed so much. The two spend most of the time talking about people they don&#x27;t like. 

They eventually get to [[Mr. Hoffman]]. Angelica //hates// him. Apparently he picks on her all the time. Angelica is planning on making a fake Facebook account pretending to be him. She asks Hannah if she&#x27;ll help her.

What should Hannah do?

[[Help Angelica]]
[[Report her]]
</tw-passagedata><tw-passagedata pid="21" name="bio_meera" tags="" position="2467,566"><div class="character" id="meera"></div>
Meera is Hannah&#x27;s best friend. She&#x27;s an amazing student, but she doesn&#x27;t take things too seriously. To Hannah, Meera is the funniest person in the world - she&#x27;s always got something to lighten the mood.
<img class="logo" src="../assets/mod2/wacc-mini-logo.png" alt="logo" height="50" width="50"></tw-passagedata><tw-passagedata pid="22" name="pic_yearbook_snap" tags="" position="2390,1018"><div class="phone-img" id="yearbook-snap"></div>
Hannah gets out her Allatoona yearbook from last year. She flips to Beth&#x27;s picture and writes a message. Beth is in line to be the Sophomore valedictorian, but she never seems to do anything aside from school work.  
<img class="logo" src="../assets/mod2/wacc-mini-logo.png" alt="logo" height="50" width="50"></tw-passagedata><tw-passagedata pid="23" name="pic_text_angelica" tags="" position="1558,93.33333333333333">

	<div class="cell">
    <div class="screen">
        <div class="utility">
            <p class="contact"><span class="phone-back"> < Back</span>(734) 555 2099 <span class="phone-link">contacts</span></p>
        </div>    
        <div class="messages">
			<div class="msg-get">So... you told adam.<div class="tri-get"></div></div>
		</div>
      <div class="msg-bar">
        <div class="msg-write">
          <p>Message</p>
        </div>
        <p class="send">Send</p>
      </div>
    </div>
    <div class="circle"></div>
</div>
Well, it looks like Adam talked to somebody about the snap. Now Hannah&#x27;s going to have to deal with it. She really doesn&#x27;t like getting messages from people she doesn&#x27;t know. How&#x27;d this person get her number anyway?
<img class="logo" src="../assets/mod2/wacc-mini-logo.png" alt="logo" height="50" width="50"></tw-passagedata><tw-passagedata pid="24" name="Respond" tags="" position="1335.3333333333333,349.3333333333333">Hannah decides to respond to the text. It already says &#x27;viewed&#x27; at the bottom, so there&#x27;s no use pretending like she didn&#x27;t see it. 

From their [[conversation->pic_text_angelica2]] it&#x27;s clear Angelica is really mad. Hannah is a little worried: what if Angelica tries to get revenge?

That night before Hannah goes to bed, she gets a [[text->pic_text_meera]] from [[Meera->bio_meera]]. Well, it looks like her worrying was warranted. Why would anyone believe that she and Adam would hook up? 

What should Hannah do?
[[Confront Angelica]]
[[Ask Meera for help]]
[[Get revenge]]</tw-passagedata><tw-passagedata pid="25" name="Ignore it 2" tags="" position="1541.6666666666665,566.6666666666669">That didn&#x27;t look good. Hannah doesn&#x27;t want to text a number she doesn&#x27;t know. It&#x27;s probably Angelica, but Hannah doesn&#x27;t really want to talk to her anyway. Angelica is probably mad she told Adam about the snap.


Hannah gets a [[text->angelica_text]] and it&#x27;s pretty clear Angelica is mad. Hannah is a little worried: what if Angelica tries to get revenge - what did she mean when she said Hannah had a thing for Adam?

That night before Hannah goes to bed, she gets a [[text->pic_text_meera]] from [[Meera->bio_meera]]. Well, it looks like her worrying was warranted. Why would anyone believe that she and Adam would hook up? 

What should Hannah do?
[[Confront Angelica]]
[[Ask Meera for help]]
[[Get revenge]]</tw-passagedata><tw-passagedata pid="26" name="pic_text_angelica2" tags="" position="1457,202.33333333333331">

	<div class="cell">
    <div class="screen">
        <div class="utility">
            <p class="contact"><span class="phone-back"> < Back</span> (734) 555 2099 <span class="phone-link">contacts</span></p>
        </div>    
		<div class="messages">
			<div class="msg-get">So... you told adam.<div class="tri-get"></div></div>
			 
			<div class="msg-send">Who is this?<div class="tri-send"></div></div>
			 
			<div class="msg-get">What are you an idiot? It's Angelica <div class="tri-get"></div></div>

			<div class="msg-get">Why are you snitching? I didn't know you had such a thing for him. <div class="tri-get"></div></div>
		</div>
		
      <div class="msg-bar">
        <div class="msg-write">
          <p>Message</p>
        </div>
        <p class="send">Send</p>
      </div>
    </div>
    <div class="circle"></div>
</div>


It was pretty obvious the text was from Angelica, but it never hurts to ask. Hannah doesn&#x27;t like that Angelica implied she had a thing for Adam. Hopefully she was just joking when she said that. 
<img class="logo" src="../assets/mod2/wacc-mini-logo.png" alt="logo" height="50" width="50"></tw-passagedata><tw-passagedata pid="27" name="pic_text_meera" tags="" position="1083,59">

	<div class="cell">
    <div class="screen">
        <div class="utility">
            <p class="contact"><span class="phone-back"> < Back</span> Meera <span class="phone-link">contacts</span></p>
        </div>    
        
		<div class="messages">
			 <div class="msg-get">You're secretly hooking up with Adam?! I'm insulted you didn't tel me ;)<div class="tri-get"></div></div>
			 
			 <div class="msg-send">What are you talking about?!?<div class="tri-send"></div></div>
			 
			 <div class="msg-get">Rolanda just told me. What are people saying that? <div class="tri-get"></div></div>

			 <div class="msg-send">Ugh... It's Angelica. She sent this snap about Adam and I told him<div class="tri-send"></div></div>

			 <div class="msg-get">You got that too? I guess she sent it to everyone<div class="tri-get"></div></div>
		</div>
		
      <div class="msg-bar">
        <div class="msg-write">
          <p>Message</p>
        </div>
        <p class="send">Send</p>
      </div>
    </div>
    <div class="circle"></div>
</div>

Well this isn&#x27;t good. Meera&#x27;s being optimistic, but Hannah knows that tomorrow is going to be full of people whispering as she passes them in the halls.
<img class="logo" src="../assets/mod2/wacc-mini-logo.png" alt="logo" height="50" width="50"></tw-passagedata><tw-passagedata pid="28" name="Confront Angelica" tags="" position="762.3333333333334,59">The next day at school Hannah goes up to Angelica hoping to have a serious conversation with her. Unfortunately, Angelica just laughed it off - no matter how Hannah approached the conversation.

It seems pretty clear that telling her to stop isn&#x27;t going to help. Maybe she should consider some other options.

[[Get revenge]]
[[Ask Meera for help]] 

</tw-passagedata><tw-passagedata pid="29" name="Ask Meera for help" tags="" position="1280,554.9999999999999">After[[texting->pic_text_meera_2]] Meera to get some advice, Hannah feels like this is a pretty good plan. There&#x27;s got to be a lot of things online that she can use to prove Angelica&#x27;s hurting people online. 

Hannah feels ready to [[Collect evidence]].</tw-passagedata><tw-passagedata pid="30" name="Get revenge" tags="" position="718.6666666666667,269">Enough is enough. Let&#x27;s see if Angelica likes it when people talk behind //her// back. Hannah needs something really good. What should Hannah do?

[[photoshop her picture]]
[[hack her phone]]
[[Troll her Instagram account]]</tw-passagedata><tw-passagedata pid="31" name="board" tags="" position="4301,172"><div class="phone-img" id="pinterest"></div>
Hannah loves Pinterest! Whether it&#x27;s finding motivational pictures or cool new running shoes, there&#x27;s always something interesting to see.
<img class="logo" src="../assets/mod2/wacc-mini-logo.png" alt="logo" height="50" width="50"></tw-passagedata><tw-passagedata pid="32" name="Mr. Hoffman" tags="" position="4180,166"><div class="character" id="hoffman"></div>
Mr. Hoffman is Hannah&#x27;s English teacher. He&#x27;s known for making a lot of jokes - some of them at his student&#x27;s expense. He&#x27;s always been nice to Hannah, though.
<img class="logo" src="../assets/mod2/wacc-mini-logo.png" alt="logo" height="50" width="50">
</tw-passagedata><tw-passagedata pid="33" name="photoshop her picture" tags="" position="738,559">It&#x27;s pretty obvious that Angelica thinks she looks good. She posts so many pictures on Instagram it&#x27;s not even funny. After scrolling through endless selfies, Hannah decides [[this->pic_angelica]] is the pictures she&#x27;s going to use.

After a few minutes of hard(ish) work, Hannah is admiring the [[outcome]]. The only thing left to do is post it for everyone to see. How should Hannah do it?

[[On her own Instagram]]
[[Anonymously on PostKandid]]</tw-passagedata><tw-passagedata pid="34" name="hack her phone" tags="" position="385,364">What is Angelica&#x27;s passcode?

[[try 0000]]
[[try 1234]]
[[try 2001]]

</tw-passagedata><tw-passagedata pid="35" name="Troll her Instagram account" tags="" position="428,128">Angelica spends so much time on instagram it&#x27;s ridiculous - trolling her account is probably the best way to get on her nerves. 

Angelica has over a thousand followers, so it&#x27;s pretty obvious she accepts requests from people she doesn&#x27;t know. Hannah carefully creates a fake profile she adds a few pictures to make the account believable. She sends a follower request and waits for Angelica to accept it. 

An hour or so later her request is accepted! Hannah then proceeds to spam all of Angelica&#x27;s posts with hateful messages like [[this one]]. 

Hannah feels content with her work. She sits back and relaxes. A few hours later she checks to see if Angelica has made and new posts, but she realizes she&#x27;s been blocked! 

If she tries to make another account she&#x27;ll probably just get blocked again. What should Hannah try this time?

[[hack her phone]] 
[[photoshop her picture]] </tw-passagedata><tw-passagedata pid="36" name="outcome" tags="" position="1058.3333333333333,479.6666666666667"><div class="phone-img" id="angelica-photoshop"></div>
It&#x27;s not perfect, but someone out there will think it&#x27;s real. Besides, it&#x27;s more about sending a message than anything else. 
<img class="logo" src="../assets/mod2/wacc-mini-logo.png" alt="logo" height="50" width="50"></tw-passagedata><tw-passagedata pid="37" name="On her own Instagram" tags="" position="1377.6666666666667,697">Hannah&#x27;s not afraid of Angelica. She&#x27;s not the kind of person who would sneak around when she wants to get revenge, either. She&#x27;s an upfront person. 

Hannah posts the picture to her Instagram profile, tags Angelica, and waits for people to react. It isn&#x27;t long before people start liking it and making comments.

With each person that likes her post, Hannah feels better and better. 

Unfortunately, the next day at school she&#x27;s approached by [[Mr. Grant->bio_mr_grant]]. This can&#x27;t be good.

When they get to his office, Mr. Grant asks Hannah if there&#x27;s anything she wants to tell him. 

What should Hannah do?

[[Come clean]]
[[Say she didn&#x27;t do anything]]</tw-passagedata><tw-passagedata pid="38" name="Anonymously on PostKandid" tags="" position="928,701">PostKandid isn&#x27;t nearly as popular as it was in middle school, but for some reason, there are still a good number of people who use it at Allatoona. Overall, fewer people will see the post, but that&#x27;s the trade off for anonymity.

After making her [[post]], Hannah decides to turn in for the night. She wakes up late in the morning and in the rush to get ready to school she completely forgets about her post from last night. She&#x27;s reminded of it on the bus to school when Meera asks her if she was the one who made the post. Should Hannah tell the truth?

[[Yes]]
[[No]]

</tw-passagedata><tw-passagedata pid="39" name="pic_angelica" tags="" position="886.6666666666667,420"><div class="phone-img" id="angelica-two"></div>
This is a great one. It&#x27;ll be pretty easy to photoshop. 
<img class="logo" src="../assets/mod2/wacc-mini-logo.png" alt="logo" height="50" width="50">
</tw-passagedata><tw-passagedata pid="40" name="post" tags="" position="1134,708"><div class="phone-img" id="anonymous"></div>
After a few minutes the post starts to get some attention. Pretty soon someone will crosspost it to another social media platform and then everyone will see it.
<img class="logo" src="../assets/mod2/wacc-mini-logo.png" alt="logo" height="50" width="50"></tw-passagedata><tw-passagedata pid="41" name="Yes" tags="" position="765.6666666666666,817.3333333333333">Hannah comes clean and tells Meera the truth. She tells her all about how she crafted the post and how good it felt to be mean to Angelica. The entire time Hannah tells her the details, Meera has a disapproving look on her face.

Meera is pretty cold towards Hannah for the rest of the bus ride, and she doesn&#x27;t show up to sit with Hannah at lunch. It&#x27;s pretty obvious that Hannah&#x27;s actions have upset her. 

On the bus home Meera tells Hannah that she reported her to school administration.

How could she do this?! What should Hannah do?

[[Ask why she did it]]
[[Yell at Meera]]</tw-passagedata><tw-passagedata pid="42" name="No" tags="" position="1044.6666666666667,876.3333333333334">Hannah lies and asks Meera what she&#x27;s talking about. Meera shows her the picture. Hannah&#x27;s plan is working - someone has already posted it on instagram. 

If Meera didn&#x27;t believe Hannah, she&#x27;s not calling her out on it. During school Hannah overheard a couple people talking about the post. Hannah felt weirdly proud that people liked her work. 

Angelica has definitely seen the post. She looked angry the whole day. Someone called her a caveman in class and she ran out crying. Hannah was actually surprised she took it so seriously - it kind of seems like Angelica doesn&#x27;t care about anything. 

Should she talk to Angelica?

[[Yes->talk to Angelica]]
[[No->don&#x27;t talk to Angelica]]</tw-passagedata><tw-passagedata pid="43" name="pic_text_meera_2" tags="" position="896,189">

	<div class="cell">
    <div class="screen">
        <div class="utility">
            <p class="contact"><span class="phone-back"> < Back</span> Meera <span class="phone-link">contacts</span></p>
        </div>    

		 <div class="msg-get msg-next">You got that too? I guess she sent it to everyone<div class="tri-get"></div></div>

		 <div class="msg-send msg-next">Meera this is serious. What should I do!?<div class="tri-send"></div></div>
		 
		 <div class="msg-get msg-next">If you really want to do something we could report her.<div class="tri-get"></div></div>

		 <div class="msg-send msg-next">We'll need evidence. I didn't take a screenshot of the snap.<div class="tri-send"></div></div>

		 <div class="msg-get msg-next">She's done way worse than start a rumor - I'll come over tomorrow and we can get screenshots of all the other annoying stuff she's done<div class="tri-get"></div></div>
		
      <div class="msg-bar">
        <div class="msg-write">
          <p>Message</p>
        </div>
        <p class="send">Send</p>
      </div>
    </div>
    <div class="circle"></div>
</div>
This is great! Even though it would be great to see Angelica&#x27;s face after making a post, this definitely feels like the right thing to do.
<img class="logo" src="../assets/mod2/wacc-mini-logo.png" alt="logo" height="50" width="50"></tw-passagedata><tw-passagedata pid="44" name="Bad End" tags="" position="1878.6666666666665,2593">This module was intended to illustrate the ease in which people can get caught up in cyberbullying - whether it&#x27;s a way of getting revenge, to make friends laugh, or to make yourself feel better. Nearly half of all teens are cyberbullied at one point or another - and there can be serious, long-lasting consequences. It&#x27;s our job as a community to make sure there are as few instances of cyberbullying as possible.

There were definitely some better decisions that could have been made - [[click here->Let&#x27;s get started!]] if you want to make some different choices.

Visit <a href="https://www.michigan.gov/ok2say">ok2say.org</a> to make a report if you or someone you know is being cyberbullied.

Thanks for playing our game!  

<img class="displayed" src="../assets/mod2/wacc-logo.jpg" alt="logo">
=><= 
######Copyright © 2017 Washtenaw Area Council for Children, All rights reserved.</tw-passagedata><tw-passagedata pid="45" name="talk to Angelica" tags="" position="871.3333333333334,1357.6666666666667">Hannah goes up to Angelica during lunch. She tells Angelica that she was the one who made the post. Hannah also said she didn&#x27;t mean to hurt her feelings so badly - she just wanted to make her think twice before making fun of other people.

Hannah thought that Angelica would appreciate her honesty - that maybe they could have a real conversation, but things didn&#x27;t work out the way she planned. 

Angelica got really angry and stormed off. [[Mr. Grant->bio_mr_grant]] came into Hannah&#x27;s next class and asked her to follow him to his office. 

When they get to his office, Mr. Grant asks Hannah if there&#x27;s anything she wants to tell him. 

What should Hannah do?

[[Come clean]]
[[Don&#x27;t say anything]]</tw-passagedata><tw-passagedata pid="46" name="don&#x27;t talk to Angelica" tags="" position="1381,1098">Hannah&#x27;s not going to comfort Angelica. If she can&#x27;t handle getting made fun of, she shouldn&#x27;t have made fun of other people. 

After school, on her way to the bus, Hannah is approached by Angelica. She&#x27;s so angry she looks kind of crazy. She accuses Hannah of making the post. 

How should Hannah respond?

[[Lie]]
[[Taunt her]]</tw-passagedata><tw-passagedata pid="47" name="Lie" tags="" position="1381,1236">Hannah tells Angelica she doesn&#x27;t know what she&#x27;s talking about. She says she never made any post, but Angelica doesn&#x27;t believe her. 

She says she&#x27;s going to report Hannah to school administration. Hannah&#x27;s not sure if Angelica&#x27;s telling the truth or not, but she&#x27;s definitely nervous. 

What should Hannah do?
[[Collect evidence]]
[[Ignore it->Ignore it 3]]</tw-passagedata><tw-passagedata pid="48" name="Taunt her" tags="" position="1501,1236">Hannah tells Angelica that it&#x27;s too bad she can&#x27;t prove anything. That night, there are lots of tweets about Angelica. Hannah [[makes one]] too. She&#x27;s sick of Angelica pretending to be a victim. 

The next day, when Hannah gets off the bus, [[Mr. Grant->bio_mr_grant]] comes up to her and asks her to follow him to his office. This can&#x27;t be good.

When they get to his office, Mr. Grant asks Hannah if there&#x27;s anything she wants to tell him. 

What should Hannah do?

[[Come clean]]
[[Don&#x27;t say anything]]</tw-passagedata><tw-passagedata pid="49" name="makes one" tags="" position="1649.6666666666667,978.3333333333333"><div class="tweet-box"></div>

Sometimes you just have to call people out on their crap. 
<img class="logo" src="../assets/mod2/wacc-mini-logo.png" alt="logo" height="50" width="50"></tw-passagedata><tw-passagedata pid="50" name="bio_mr_grant" tags="" position="1565.6666666666667,846.6666666666666"><div class="character" id="grant"></div>
Mr. Grant is Allatoona&#x27;s discipline administrator. He&#x27;s ex-military, very patriotic, and the most strict person Hannah has ever met. If you&#x27;re talking to him, you&#x27;re usually in a lot of trouble.
<img class="logo" src="../assets/mod2/wacc-mini-logo.png" alt="logo" height="50" width="50">
</tw-passagedata><tw-passagedata pid="51" name="Come clean" tags="" position="1503,1373">It&#x27;s pretty obvious Mr. Grant knows what&#x27;s going on. Maybe if Hannah tells the truth she won&#x27;t get in as much trouble.

Hannah tells Mr. Grant the whole story - starting with the snap she got about Adam. Mr. Grant says he believes Hannah, but without evidence there&#x27;s not much he can do. Unfortunately he //does// have evidence of Hannah&#x27;s posts about Angelica.

Mr. Grant tells Hannah that administration is going to look into her posts and in the meantime she can no longer participate in athletics. Also, depending on what they find, she may also be suspended! This is terrible!


[[The End->Bad End]]</tw-passagedata><tw-passagedata pid="52" name="Don&#x27;t say anything" tags="" position="1675,1342">There&#x27;s nothing Hannah is going to say - she&#x27;s not going to admit  to what she&#x27;s done. Unfortunately, she doesn&#x27;t have to. Apparently someone showed Mr. Grant screenshots of Hannah&#x27;s tweet. 

Mr. Grant also showed Hannah screenshots of posts making fun of Angelica. Some were Instagram posts that Hannah didn&#x27;t make and one was the PostKandid post. 

Mr. Grant said he suspects Hannah made the posts, but there&#x27;s not much he can do to prove it. He said that while it&#x27;s being investigated Hannah can no longer participate in athletics - depending on what they find she may also be suspended!

Without any proof, there&#x27;s no way that Mr. Grant is going to believe her when she says Angelica started everything! This is so unfair!

[[The End->Bad End]]</tw-passagedata><tw-passagedata pid="53" name="Collect evidence" tags="" position="1149,1494">The next day after school Meera drops by Hannah&#x27;s house to help her collect evidence. They sit down on the couch, grab some snacks, pull out their laptops and brace themselves for the posts they&#x27;re about to see.

It&#x27;s not long before Hannah happens upon a [[terrible post]] Angelica made. How could she treat another person that way? It&#x27;s not fair that Angelica treats people however she wants and never gets in trouble for it. Gathering evidence and reporting her definitely seems like the right thing to do.

After an hour of evidence gathering the two are ready to make their report. The only question is: should they make the report...

[[in person]]
[[online]]</tw-passagedata><tw-passagedata pid="54" name="Ignore it 3" tags="" position="1374,1379">Hannah felt nervous all evening. She could barely focus on her homework and she didn&#x27;t feel like eating. Cyberbullying is illegal - what if she gets in trouble?

The next day, when Hannah gets off the bus, [[Mr. Grant->bio_mr_grant]] comes up to her and asks her to follow him to his office. This can&#x27;t be good.

When they get to his office, Mr. Grant asks Hannah if there&#x27;s anything she wants to tell him. 

What should Hannah do?

[[Come clean]]
[[Say she didn&#x27;t do anything]]</tw-passagedata><tw-passagedata pid="55" name="Say she didn&#x27;t do anything" tags="" position="1390,1526">There&#x27;s nothing Hannah is going to say - she&#x27;s not going to admit  to what she&#x27;s done. Unfortunately, she doesn&#x27;t have to. 

Mr. Grant tells Hannah that someone has reported her as a cyberbully. The school administration is going to look into her posts and in the meantime she can no longer participate in athletics. Also, depending on what they find, she may also be suspended! This is terrible!

[[The End->Bad End]]</tw-passagedata><tw-passagedata pid="56" name="try 0000" tags="" position="565,448.3333333333333">Nope. That didn&#x27;t work. Hannah should try again. What should she guess?

[[try 1234]]
[[try 2001->2001 pt 2]]</tw-passagedata><tw-passagedata pid="57" name="try 1234" tags="" position="444.66666666666663,661.9999999999999">Seriously? Her passcode is 1234? Angelica has got to be the dumbest person in the world.

Now that Hannah&#x27;s in, she needs to change something. She goes in and puts her own phone number in the spot for [[Brandon->bio_brandon]]. Now when Angelica thinks she&#x27;s texting him, she&#x27;ll actually be texting Hannah! 

Luckily pretty much everyone has been spacing out in class. No one seems to have noticed Hannah&#x27;s work. 

That night after track practice she [[texts->text brandon]] Angelica.

How should Hannah trick Angelica?

[[Make Angelica think Brandon hates her]]
[[Make Angelica think Brandon likes her]]</tw-passagedata><tw-passagedata pid="58" name="try 2001" tags="" position="327.33333333333326,509.6666666666667">Angelica was probably born in 2001, Hannah should try that one. Uh-oh. It didn&#x27;t work.

What should Hannah guess now? She needs to hurry before Angelica gets back from the bathroom!

[[try 0000->0000 pt 2]]
[[try 1234]]
</tw-passagedata><tw-passagedata pid="59" name="0000 pt 2" tags="" position="289,636.3333333333334">That didn&#x27;t work. There&#x27;s not much time for Hannah to guess the password and change stuff in Angelica&#x27;s phone. Hannah tries 1234 and it works!

Seriously? Her passcode is 1234? Angelica has got to be the dumbest person in the world.

Now that Hannah&#x27;s in, she needs to change something. She goes in and puts her own phone number in the spot for [[Brandon->bio_brandon]]. Now when Angelica thinks she&#x27;s texting him, she&#x27;ll actually be texting Hannah! 

Luckily pretty much everyone has been spacing out in class. No one seems to have noticed Hannah&#x27;s work. 

That night after track practice she [[texts->text brandon]] Angelica.

How should Hannah trick Angelica?

[[Make Angelica think Brandon hates her]]
[[Make Angelica think Brandon likes her]]</tw-passagedata><tw-passagedata pid="60" name="2001 pt 2" tags="" position="636.3333333333334,653">It wasn&#x27;t her birth year... This is making Hannah nervous now. She needs to get it right and work fast. Hannah tries 1234 next and it works!

Seriously? Her passcode is 1234? Angelica has got to be the dumbest person in the world.

Now that Hannah&#x27;s in, she needs to change something. She goes in and puts her own phone number in the spot for [[Brandon->bio_brandon]]. Now when Angelica thinks she&#x27;s texting him, she&#x27;ll actually be texting Hannah! 

Luckily pretty much everyone has been spacing out in class. No one seems to have noticed Hannah&#x27;s work. 

That night after track practice she [[texts->text brandon]] Angelica.

How should Hannah trick Angelica?

[[Make Angelica think Brandon hates her]]
[[Make Angelica think Brandon likes her]]</tw-passagedata><tw-passagedata pid="61" name="bio_brandon" tags="" position="267,1097"><div class="character" id="brandon"></div>
Brandon is awesome. No matter what group you&#x27;re in, Brandon is nice to you. He&#x27;s friends with pretty much everyone in the school. He&#x27;s also a really talented actor - he&#x27;s been in almost all of Allatoona&#x27;s school productions.
<img class="logo" src="../assets/mod2/wacc-mini-logo.png" alt="logo" height="50" width="50">
</tw-passagedata><tw-passagedata pid="62" name="text brandon" tags="" position="587,1122.3333333333333">
	<div class="cell">
    <div class="screen">
        <div class="utility">
            <p class="contact"><span class="phone-back"> < Back</span> Angelica <span class="phone-link">contacts</span></p>
        </div>    
		<div class="messages">
		 <div class="msg-get">Heyyy Brandon. I'm having a party tonight and I really want to see you. Will you come?<div class="tri-get"></div></div>
		</div>
      <div class="msg-bar">
        <div class="msg-write">
          <p>Message</p>
        </div>
        <p class="send">Send</p>
      </div>
    </div>
    <div class="circle"></div>
</div>
This is perfect! Look how many y's she put in 'hey'. t&#x27;s so obvious that Angelica likes Brandon. There&#x27;s so many ways Hannah can mess with her now!
<img class="logo" src="../assets/mod2/wacc-mini-logo.png" alt="logo" height="50" width="50"></tw-passagedata><tw-passagedata pid="63" name="Make Angelica think Brandon hates her" tags="" position="385,1397">Hannah responds to the [[text->brandon text bad]] in the meanest way she can think. It feels so good to give Angelica what she deserves. 

The next day, after the morning announcements, she sees that Brandon&#x27;s name is on the [[honor court]] list. Hannah&#x27;s stomach drops. Could this be because of what she texted Angelica?

Hannah feels terrible all afternoon. How could she have not thought about how this would affect Brandon? in her last class of the day [[Mr. Grant->bio_mr_grant]] comes into the class and asks her to follow him to his office.

Apparently, Angelica reported Brandon. When they talked to Brandon to get his side of things, they discovered that he wasn&#x27;t the one Angelica had been talking to. It wasn&#x27;t long before everyone figured out it was Hannah. 

This is terrible! The punishments for cyberbullying people are really severe. Hannah could get suspended or kicked off of the track team!

[[The End->Bad End]]</tw-passagedata><tw-passagedata pid="64" name="Make Angelica think Brandon likes her" tags="" position="527,1250">Hannah [[texts->brandon text good]] Angelica back, pretending to be Brandon. She also emails school administration and says that she knows someone is going to Allatoona tonight at midnight to vandalize the school.

With any luck school security will catch Angelica going on school property and arrest her. This seems like the perfect plan. Hannah goes to sleep that night satisfied that justice will be served. 

The next day, when Hannah gets off the bus, she&#x27;s approached by [[Mr. Grant->bio_mr_grant]] This can&#x27;t be good.

She follows him to his office where he explains what&#x27;s going on. Apparently, Angelica did go on campus at midnight last night and she //did// get caught. When she was explaining herself, though, it became clear that she hadn&#x27;t been talking to Brandon at all.

It also became clear that tip school administration had received wasn&#x27;t real. Now Hannah is in serious trouble. Impersonating other people and making fake reports are both punished very severely. Hannah might get suspended and kicked off of the track team! This is terrible!

[[The End->Bad End]] </tw-passagedata><tw-passagedata pid="65" name="brandon text bad" tags="" position="390,1263.6666666666667">

	<div class="cell">
    <div class="screen">
        <div class="utility">
            <p class="contact"><span class="phone-back"> < Back</span> Angelica <span class="phone-link">contacts</span></p>
        </div>    
        <div class="messages">
		 <div class="msg-get">Heyyy Brandon. I'm having a party tonight and I really want to see you. Will you come?<div class="tri-get"></div></div>

		 <div class="msg-send">Ew. No, Angelica. You're disgusting. You're literally the worst person I've met.<div class="tri-send"></div></div>
		 
		 <div class="msg-get">I can't believe you're being so mean<div class="tri-get"></div></div>
		 
		 <div class="msg-send">Believe it. No one would care if something bad happened to you.<div class="tri-send"></div></div>
		</div>
		
      <div class="msg-bar">
        <div class="msg-write">
          <p>Message</p>
        </div>
        <p class="send">Send</p>
      </div>
    </div>
    <div class="circle"></div>
</div>

These messages are brutal. It&#x27;s nothing less than Angelica deserves, though!
<img class="logo" src="../assets/mod2/wacc-mini-logo.png" alt="logo" height="50" width="50"></tw-passagedata><tw-passagedata pid="66" name="brandon text good" tags="" position="689.6666666666666,1250">

	<div class="cell">
    <div class="screen">
        <div class="utility">
            <p class="contact"><span class="phone-back"> < Back</span> Angelica <span class="phone-link">contacts</span></p>
        </div>    
        <div class="messages">
		 <div class="msg-get">Heyyy Brandon. I'm having a party tonight and I really want to see you. Will you come?<div class="tri-get"></div></div>

		 <div class="msg-send">I'd rather see you sooner ;)<div class="tri-send"></div></div>

		 <div class="msg-send">Can you meet me at Allatoona tonight at midnight?<div class="tri-send"></div></div>
		 
		 <div class="msg-get">At midnight? I could make that work ;)<div class="tri-get"></div></div>
		</div>
      <div class="msg-bar">
        <div class="msg-write">
          <p>Message</p>
        </div>
        <p class="send">Send</p>
      </div>
    </div>
    <div class="circle"></div>
</div>


This is almost too easy! Everything is going according to plan. Angelica is going to regret ever being mean to Hannah.
<img class="logo" src="../assets/mod2/wacc-mini-logo.png" alt="logo" height="50" width="50"></tw-passagedata><tw-passagedata pid="67" name="honor court" tags="" position="243,1265">Allatoona has a system where students that get in trouble go to the honor court after the first class of the day. The point is for students to get a chance to defend themselves, but they almost always get punished anyways. Most of the time it&#x27;s to discuss things like detention and referrals, but sometimes it&#x27;s for more serious stuff. 
<img class="logo" src="../assets/mod2/wacc-mini-logo.png" alt="logo" height="50" width="50"></tw-passagedata><tw-passagedata pid="68" name="terrible post" tags="" position="992.6666666666666,1448.3333333333333"><div class="tweet-box" id="tweet5"></div>
Angelica is such a jerk. That tweet wasn&#x27;t even funny... It was just mean. 
<img class="logo" src="../assets/mod2/wacc-mini-logo.png" alt="logo" height="50" width="50"></tw-passagedata><tw-passagedata pid="69" name="in person" tags="" position="767,1770.3333333333333">The next day Hannah stops by the office to talk to [[Mr. Grant->bio_mr_grant]]. She shows him the different screen shots she found. Mr. Grant didn&#x27;t do much talking, but at the end he thanked Hannah and told her that Allatoona takes cyberbullying really seriously. 

He told her that the school administration was going to look into Angelica&#x27;s behavior. Hopefully Hannah and her classmates can now go online without worrying about being bullied.

[[The End->Good End]]</tw-passagedata><tw-passagedata pid="70" name="online" tags="" position="1137.6666666666667,1948">Meera said something about a way to make confidential reports using [[OK2Say]].

The two check out the website ok2say.org and find that it&#x27;s really easy to provide the necessary information and link the screenshots they took of Angelica&#x27;s posts. 

It&#x27;s also great because, for the time being, they won&#x27;t have to talk to any adults about it. Also nobody will know who made the report!


[[The End->Good End]]</tw-passagedata><tw-passagedata pid="71" name="OK2Say" tags="" position="1399,1697"><img class= "displayed" src= "http://www.michigan.gov/images/ok2say/OK2SAY_School_485494_7.png" alt= "Ok 2 Say poster">
These Ok2Say posters are all over Allatoona. Hannah&#x27;s never really noticed them or wondered what they were for. Good thing Meera was paying attention. 
<img class="logo" src="../assets/mod2/wacc-mini-logo.png" alt="logo" height="50" width="50"></tw-passagedata><tw-passagedata pid="72" name="Good End" tags="" position="2381.6666666666665,2602.6666666666665">This module was intended to illustrate the ease in which people can get caught up in cyberbullying - whether it&#x27;s a way of getting revenge, to make friends laugh, or to make yourself feel better. Nearly half of all teens are cyberbullied at one point or another - and there can be serious, long-lasting consequences. It&#x27;s our job as a community to make sure there are as few instances of cyberbullying as possible.

In this case, making a report was the right thing to do. [[Click here->Let&#x27;s get started!]] if you want to go back and explore a different path.

Visit <a href="https://www.michigan.gov/ok2say">ok2say.org</a> to make a report if you or someone you know is being cyberbullied.

Thanks for playing our game!  

<img class="displayed" src="../assets/mod2/wacc-logo.jpg" alt="logo">
=><= 
######Copyright © 2017 Washtenaw Area Council for Children, All rights reserved.</tw-passagedata><tw-passagedata pid="73" name="Ask why she did it" tags="" position="839.3333333333334,992">Hannah is really upset. Even though she&#x27;s angry at Meera she tries to stay calm. She asks Meera why she would tell on her friend and the answer surprised her.

Meera is staunchly against cyberbullying - even against Angelica - because her older brother was severely cyberbullied. He couldn&#x27;t go online without being harassed by his classmates. Any post he would make would immediately get filled with hateful comments. His grades dropped, he stopped talking to his friends and family, and became really depressed. 

Meera doesn&#x27;t want anyone, no matter how annoying, to have to deal with what her brother had to. She also didn&#x27;t want to see her friend become someone so full of hate. 

That evening Hannah&#x27;s father tells her that he received a call from [[Mr. Grant->bio_mr_grant]]. Tomorrow they have to go to a parent-teacher meeting to discuss what Hannah did. 

She might get kicked off the track team or even suspended! This is terrible!

[[The End->Bad End]] </tw-passagedata><tw-passagedata pid="74" name="Yell at Meera" tags="" position="1039.6666666666667,1218.6666666666667">Hannah can&#x27;t control herself - Meera betrayed her! She yells at Meera in front of the whole bus. When she calms down. Meera tells her that she understands why Hannah is upset she also wants Hannah to know why she did it. 

Meera is staunchly against cyberbullying - even against Angelica - because her older brother was severely cyberbullied. He couldn&#x27;t go online without being harassed by his classmates. Any post he would make would immediately get filled with hateful comments. His grades dropped, he stopped talking to his friends and family, and became really depressed. 

Meera doesn&#x27;t want anyone, no matter how annoying, to have to deal with what her brother had to. She also didn&#x27;t want to see her friend become someone so full of hate. 

That evening Hannah&#x27;s father tells her that he received a call from [[Mr. Grant->bio_mr_grant]]. Tomorrow they have to go to a parent-teacher meeting to discuss what Hannah did. 

She might get kicked off the track team or even suspended! This is terrible!

[[The End->Bad End]] </tw-passagedata><tw-passagedata pid="75" name="this one" tags="" position="210.66666666666666,144.33333333333331"><div class="phone-img" id="angelica-ig-post"></div>
Hannah spends almost an hour posting something on just about every one of Angelica&#x27;s photos. Hopefully this will teach her a lesson.
<img class="logo" src="../assets/mod2/wacc-mini-logo.png" alt="logo" height="50" width="50"></tw-passagedata><tw-passagedata pid="76" name="direct message" tags="" position="2035,1019"><div class="phone-img" id="angelica-snap-dm"></div>
It seems like the easiest way to talk to some people is to talk about things you both hate - they both seems to dislike Adam. Hannah wonders what it would like to be friends with Angelica.
<img class="logo" src="../assets/mod2/wacc-mini-logo.png" alt="logo" height="50" width="50"></tw-passagedata><tw-passagedata pid="77" name="Help Angelica" tags="" position="2186,1405">A fake account is a great idea. Since he&#x27;s so old probably all of his friends are using Facebook. Also, if he&#x27;s picking on Angelica he probably deserves it! The two get started on their plan!

By using the staff directory on the school website, the duo are able to create a fairly convincing and funny [[account]] for Mr. Hoffman. Angelica looks at Mr. Hoffman&#x27;s real profile and begins sending friend requests to some of his friends.

Hannah starts to feel a little uncomfortable. Making fun of him and creating an account were fun at first, but now this seems like it could end badly. Hannah tries to ignore her instincts and just have a good time, but it&#x27;s hard. 

The next day at school Mr. Hoffman seems on edge. People are talking about the account too - apparently Angelica told some of her friends that she and Hannah made it. Hannah really hopes that it won&#x27;t get out, but at the end of the day she&#x27;s approached by [[Mr. Grant->bio_mr_grant]]. This can&#x27;t be good.

The two go to his office where he asks Hannah if she as anything to tell him. What should Hannah do?

[[Tell the truth]] 
[[Blame Angelica]]
</tw-passagedata><tw-passagedata pid="78" name="Report her" tags="" position="2301,1203">Hannah knows that for a report to hold any weight there needs to be evidence. The next day after school Meera drops by Hannah&#x27;s house to help her collect some. They sit down on the couch, grab some snacks, pull out their laptops and brace themselves for the posts they&#x27;re about to see.

It&#x27;s not long before Hannah happens upon a [[terrible post]] Angelica made. How could she treat another person that way? It&#x27;s not fair that Angelica treats people however she wants and never gets in trouble for it. Gathering evidence and reporting her definitely seems like the right thing to do.

After an hour of evidence gathering the two are ready to make their report. The only question is: should they make the report...

[[in person]]
[[online]]</tw-passagedata><tw-passagedata pid="79" name="account" tags="" position="2045,1540"><img class="displayed" src="../assets/mod2/facebook.png" alt="fb">
Making this profile with Angelica was pretty fun. Mr. Hoffman never bothered Hannah, but she believes what Angelica said about him. 
<img class="logo" src="../assets/mod2/wacc-mini-logo.png" alt="logo" height="50" width="50"></tw-passagedata><tw-passagedata pid="80" name="Tell the truth" tags="" position="1860,1536">It&#x27;s pretty obvious Mr. Grant knows what&#x27;s going on. Maybe if Hannah tells the truth she won&#x27;t get in as much trouble.

Hannah tells Mr. Grant the whole story - starting with the snap she got about Adam. 

Mr. Grant tells Hannah that impersonating someone - especially a school employee - is a very serious offense. Hannah is going to be suspended and removed from the track team. This is terrible!


[[The End->Bad End]]</tw-passagedata><tw-passagedata pid="81" name="Blame Angelica" tags="" position="1837,1395">Maybe Hannah can pin this on Angelica, she planned most of it anyways. She tells Mr. Grant that Angelica was the one who made the account - she only watched.

Mr. Grant laughs and tells Hannah that Angelica said the whole thing was Hannah&#x27;s idea. Seriously?! 

He goes on to say that impersonating someone - especially a school employee - is a very serious offense. Hannah is going to be suspended and removed from the track team. This is terrible!


[[The End->Bad End]]
</tw-passagedata><tw-passagedata pid="82" name="dm2" tags="" position="2595,1122"><div class="phone-img" id="angelica-snap-dm-two"></div>
Hannah really hopes that standing up to Angelica will make her stop. She didn&#x27;t want to call attention to herself, but when someone is making fun of her friends, she can&#x27;t just look the other way.
<img class="logo" src="../assets/mod2/wacc-mini-logo.png" alt="logo" height="50" width="50"></tw-passagedata><tw-passagedata pid="83" name="picture" tags="" position="2715,1416"><img class="displayed" src="../assets/mod2/photoshop.jpg" alt="photoshop 2">
Angelica has posted this picture with the caption "Hannah and her boyfriend." At this point Hannah isn&#x27;t even hurt - she&#x27;s just confused. This is really weird. 
<img class="logo" src="../assets/mod2/wacc-mini-logo.png" alt="logo" height="50" width="50"></tw-passagedata><tw-passagedata pid="84" name="one of Hannah" tags="" position="4430,179"><img class= "displayed" src= "../assets/mod2/meme.jpg" alt= "meme">
That only happened one time! It&#x27;s not even a funny meme. Hannah is determined to find out who made these different images. 
<img class="logo" src="../assets/mod2/wacc-mini-logo.png" alt="logo" height="50" width="50"></tw-passagedata><tw-passagedata pid="85" name="Try and figure out who did it" tags="" position="4067,601">Hannah has so many questions: who&#x27;s board is it? did the person who pinned the memes make them, or did they just find them? Why would somebody do this?

Hannah decides to go to her friend [[Meera->bio_meera]] for help. She sends her a [[text->meera_text]]. It seems like there&#x27;s way more cyberbullying going on than Hannah knew about. Hannah decides to check out the [[Allatoona Exposed]] Instagram page. This is really serious. There are so many embarrassing posts about people. Do they even know they&#x27;re being talked about?

What should Hannah do?

[[Report it ]]
[[Send a them a direct message]]
[[Ask around to see who is making these pages]]
</tw-passagedata><tw-passagedata pid="86" name="meera_text" tags="" position="4055,475">

<div class="cell">
    <div class="screen">
        <div class="utility">
            <p class="contact"><span class="phone-back"> < Back</span> Angelica <span class="phone-link">contacts</span></p>
        </div>    
        
		<div class="messages">
		 <div class="msg-send">I was poking around pinterest and I saw this<div class="tri-send"></div></div>

		 <img src="../assets/mod2/meme.jpg" width="100" height="70" alt="meme" style="border:3px solid white; float:right; margin-right:5px;">
 
		 <div class="msg-send">Did you know stuff like this was going around?<div class="tri-send"></div></div>
		 
		 <div class="msg-get">That's terrible... I didn't know it was happening on pinterest. I've seen stuff like that on allatoona exposed though.<div class="tri-get"></div></div>
		 
		 <div class="msg-send">What's that?<div class="tri-send"></div></div>

		 <div class="msg-get">It's an IG page w/ a bunch of embarassing stuff. It's terrible.<div class="tri-get"></div></div>
		</div>
      <div class="msg-bar">
        <div class="msg-write">
          <p>Message</p>
        </div>
        <p class="send">Send</p>
      </div>
    </div>
    <div class="circle"></div>
</div>

Allatoona Exposed sounds like really bad news. What is wrong with some people? Why can&#x27;t everyone just leave each other alone?
<img class="logo" src="../assets/mod2/wacc-mini-logo.png" alt="logo" height="50" width="50">
</tw-passagedata><tw-passagedata pid="87" name="Allatoona Exposed" tags="" position="4240,614"><div class="phone-img" id="allatoona-exposed"></div>
This page is pretty intense. There are dozens of embarrassing posts about people from Allatoona High - people that Hannah knows! Somebody should really do something about it.
<img class="logo" src="../assets/mod2/wacc-mini-logo.png" alt="logo" height="50" width="50"></tw-passagedata><tw-passagedata pid="88" name="Report it " tags="" position="4428,475">Someone has to do something about this. On the way to school the next day Hannah talks to Meera about making a report. 

Hannah&#x27;s not sure who to report this kind of thing to. If she makes a report to the website they may not do anything about it. If she tells her parents they&#x27;ll totally freak out - they may even take her phone away. If she goes the school administration people may find out she&#x27;s the one who told. 

Meera and Hannah talk about all the different gossip and bullying pages that they&#x27;ve heard about at Allatoona. It seems like there are dozens. Both agree that they have to do something about it. Meera has a great idea: if they get a bunch of students to come forward with them, the Allatoona administration will have to do something about it.

That day Hannah and Meera talk to pretty much everyone they know about whether or not they&#x27;ve been cyberbullied. It seems like around half the people they talk to have been bullied at one time or another. One of them suggests something interesting. All the people that have been bullied should make their own instagram page and get revenge by making posts about the people that bullied them. 

Should Hannah help make a page like that?

[[Yes->make page]]
[[No->make a report]]</tw-passagedata><tw-passagedata pid="89" name="Send a them a direct message" tags="" position="4073,817">Hannah decided a direct approach would be best. She sent a [[direct message->instagram_dm]] asking whoever made the page to take it down. Hannah would be lying if she said she wasn&#x27;t nervous about that exchange. She decides to take a screenshot of the conversation and the exposed page just in case. 

The next morning when Hannah turns on her phone she thinks something must be broken. She has 73 missed calls, 51 text message, and 130 emails. She looks at them - a lot are random spam, but most are hateful, threatening messages from bots, random instagram pages, and other throwaway accounts. 

This must be related to the message she sent. Hannah is wondering how they got her number when she remembers: in her profile information she put her phone number and email! That was such a bad idea! 

Her phone is buzzing constantly - she has to do something. What should she do?

[[Tell her parents]]
[[Ask administration for help]]</tw-passagedata><tw-passagedata pid="90" name="Ask around to see who is making these pages" tags="" position="3850,559">Hannah is determined to find out who is making these pages. She talks to pretty much everyone she knows - and a lot of people she doesn&#x27;t - asking about the meme board and the exposed page. A few people didn&#x27;t know what she was talking about, but most did. In fact, lots of people said they check out the page from time to time. 

No one seemed to know who made the page, though. Hannah was just about to give up when [[Micah->bio_micah]] approached her after school.

He had overheard that Hannah was looking for whomever created the Allatoona Exposed page. Micah said that he had also been trying to figure out who ran the site. Apparently his older sister had been exposed on the page. It completely ruined her life. She had to switch schools, she started therapy, and it seemed like she would never get over it.

Micah said he had figured out who had created the page. By looking at some of the photo&#x27;s geotags he was able to find the address where most of the pictures were taken. Using whitepages he was able to find out who owned the house. 

The person that created the page was [[Tyler Giddings]]. Micah suggests they get revenge - they should really scare Tyler for what he&#x27;s done. 

What should they do?

[[report Tyler]]
[[scare Tyler]]</tw-passagedata><tw-passagedata pid="91" name="make page" tags="" position="4406,610">The idea to make a slam page is really appealing. This is a chance for everyone that feels bullied to get revenge. This could be really big. Hannah knows she could get in trouble for doing it though, so she&#x27;ll have to be smart about it. 

Hannah makes a new an email account under a fake name. She then uses that account to make a new instagram profile. She makes the account private and then sends specific people follower requests with the username and password for the account. That way Hannah doesn&#x27;t have to be the one to make all the posts. 

In Hannah&#x27;s mind, the key to not getting caught is to make sure there weren&#x27;t too many people involved. She also didn&#x27;t want it getting out that she was the one who made it. 

Pretty soon her page was filled with posts. Some of them were [[great posts]] but Hannah started noticing [[posts]] she didn&#x27;t like. It really seems like this site is getting out of control. 

What should she do?

[[Report it]]
[[Ask Meera for advice]]</tw-passagedata><tw-passagedata pid="92" name="make a report" tags="" position="4573,517">If Hannah makes a slam page then she&#x27;s no better than the people who made Allatoona Exposed. It&#x27;s better if she just reports the page.

Hannah was just about to walk into the office when [[Micah->bio_micah]] approached her.

He had overheard that Hannah talking  Allatoona Exposed page. Micah said that he had also been trying to figure out who ran the site. Apparently his older sister had been exposed on the page. It completely ruined her life. She had to switch schools, she started therapy, and it seemed like she would never get over it.

Micah said he had figured out who had created the page. By looking at some of the photo&#x27;s geotags he was able to find the address where most of the pictures were taken. Using whitepages he was able to find out who owned the house. 

The person that created the page was [[Tyler Giddings]]. Micah suggests they get revenge - they should really scare Tyler for what he&#x27;s done. 

What should they do?

[[report Tyler]]
[[scare Tyler]]</tw-passagedata><tw-passagedata pid="93" name="instagram_dm" tags="" position="3960,814"><div class="phone-img" id="ig-dm"></div>
Hannah hopes the person is just messing around. She doesn&#x27;t want any trouble - she just wants people to be able to go online and not be afraid that someone will be mean to them.
<img class="logo" src="../assets/mod2/wacc-mini-logo.png" alt="logo" height="50" width="50"></tw-passagedata><tw-passagedata pid="94" name="Tell her parents" tags="" position="4012,1150">Hannah doesn&#x27;t know who else to go to. This is serious, she&#x27;s starting to feel unsafe based on all these messages. How is she getting them from so many people?

When she goes into the kitchen her dad can tell she&#x27;s visibly upset. She tells him the whole story about the different websites. To Hannah&#x27;s surprise, he&#x27;s really supportive. She wasn&#x27;t sure if he would understand or not. He told Hannah to keep her phone turned off and that he would take her to the police station after school. 

School is pretty rough today. Apparently, after she sent the message, whoever is running the page made a bunch of posts about her. Everyone seems to know that she&#x27;s trying to get the page taken down. Somebody also wrote the word "snitch" on her locker. 

Hannah feels terrible. It seems like everyone is looking at her - like everyone is talking about her. At lunch a freshman named [[Jess->bio_jess]] came up to Hannah. She thanked Hannah for trying to get the site down. She said she saw what other people had posted about Hannah and asked if she was ok.

Just one person checking in to see if she was alright made Hannah feel a million times better. 

That evening Hannah and her father go to the police station. Hopefully, with their help, everything will end up fine!

[[The End->Good End]] </tw-passagedata><tw-passagedata pid="95" name="Ask administration for help" tags="" position="4128,1060">During lunch Hannah goes to [[Mr. Grant&#x27;s->bio_mr_grant]] office to explain her problems. 

Mr. Grant seems very concerned at the news Hannah gives him, but he also asks for proof. Hannah is a little annoyed that he doesn&#x27;t trust her, but at the same time she kind of understands the need for proof. 

She shows him the various slam pages she&#x27;s found and the messages she&#x27;s received. He thanks her for bringing the information to his attention and says that the administration will do something about the problem.

When Hannah presses him for more information he says he can&#x27;t tell her what they&#x27;re going to do specifically. Hannah is frustrated, but she doesn&#x27;t really have any other choice than to trust Mr. Grant will solve the problem.

[[The End->Good End]] </tw-passagedata><tw-passagedata pid="96" name="bio_jess" tags="" position="3881,995"><div class="character" id="jess"></div>
Hannah doesn&#x27;t know Jess too well. They&#x27;ve had a few conversations and from what Hannah can tell she&#x27;s really nice. She&#x27;s heard some rumors that Jess has had her own kind of cyberbullying problems.
<img class="logo" src="../assets/mod2/wacc-mini-logo.png" alt="logo" height="50" width="50">
</tw-passagedata><tw-passagedata pid="97" name="great posts" tags="" position="4286,742"><img class= "displayed" src= "../assets/mod2/boomerang.gif" alt= "gif">
This boomerang of Kyle is exactly what the site is for. He&#x27;s one of the biggest bullies. Hannah doesn&#x27;t know how the person got the footage, but she is so grateful she can watch him fall on an infinite loop. 
<img class="logo" src="../assets/mod2/wacc-mini-logo.png" alt="logo" height="50" width="50">
</tw-passagedata><tw-passagedata pid="98" name="posts" tags="" position="4470,735"><div class="phone-img" id="meme-two"></div>
This picture of Jackson is just mean - it misses the whole point of the site. The posts are supposed to make fun of people that deserve it. Hannah has never seen Jackson make fun of anyone!
<img class="logo" src="../assets/mod2/wacc-mini-logo.png" alt="logo" height="50" width="50"></tw-passagedata><tw-passagedata pid="99" name="Report it" tags="" position="4335,1152">Hannah doesn&#x27;t know what else to do. She has to report it. At school she decides to go to [[Mr. Grant&#x27;s->bio_mr_grant]] office during lunch. 

Hannah tells Mr. Grant about the different slam pages she&#x27;s discovered over the past days. She even tells him about the one she made. Hannah feels so wrought with guilt that she could create something like Allatoona Exposed. It was a terrible idea.

Mr. Grant says that he appreciates her honesty, but there still have to be consequences. Hannah is afraid - she could get suspended and kicked off of the track team! This is horrible!

[[The End->Bad End]] </tw-passagedata><tw-passagedata pid="100" name="Ask Meera for advice" tags="" position="4667,1061">Meera will definitely know what to do. After Hannah tells her everything she can see that Meera is really disappointed. 

Meera explains that her brother was cyberbullied really badly. People were so mean to him that he became completely depressed. He didn&#x27;t want to do any of the things he used to love, he rarely talked to his family, and he hardly even left his room for months. 

Despite being disappointed Meera still wants to help Hannah solve her problem. She mentioned something called [[OK2Say]]. Hannah has seen posters for it all over her school. 

Apparently it&#x27;s a great way to make a confidential report. Hannah will enter in some information, attach some evidence, and then the right people will make sure the site gets shut down. In the meantime Hannah thinks it&#x27;s a good idea to stay away from the site for a while. 

[[The End->Good End]] </tw-passagedata><tw-passagedata pid="101" name="bio_micah" tags="" position="3656,562.3333333333334"><div class="character" id="micah"></div>
Micah is pretty quiet. He&#x27;s not unpopular, but he never seems to hang out with anybody - he&#x27;s definitely a loner. 
<img class="logo" src="../assets/mod2/wacc-mini-logo.png" alt="logo" height="50" width="50"></tw-passagedata><tw-passagedata pid="102" name="Tyler Giddings" tags="" position="4776,519"><img class= "displayed" src= "../assets/mod2/facebook-two.png" alt= "fb2">
This is so creepy! That guy is 34 years old - why is he interested in getting pictures of high school students? 
<img class="logo" src="../assets/mod2/wacc-mini-logo.png" alt="logo" height="50" width="50">
</tw-passagedata><tw-passagedata pid="103" name="report Tyler" tags="" position="4720,817">This guy clearly doesn&#x27;t care about breaking the law. He doesn&#x27;t seem like the kind of person you should mess with. Hannah convinces Micah that the smartest thing to do is to report him.

After thinking about it for a while Micah agrees. He suggests the two use [[OK2Say]] to make their report. The two visit the website, type a brief description of the problem, and attach the evidence they have amassed. 

Making the report feels like the right thing to do. There&#x27;s no telling what other misdeeds Tyler is doing. 

[[The End->Good End]] 
</tw-passagedata><tw-passagedata pid="104" name="scare Tyler" tags="" position="4976,830">Someone like Tyler really deserves to be treated the same way they treat other people. Hannah and Micah figure out a way to hide their phone numbers and they each [[text->tyler text]] Tyler the same thing. 

It seems like Tyler is pretty freaked out. The two go home - satisfied that they have solved the problem. 

A few days later, before school starts, they check - sure enough the page has been taken down. It worked! That afternoon, however, they&#x27;re approached by [[Mr. Grant->bio_mr_grant]]. He asks Hannah to join him in his office. He says that police have contacted him regarding Allatoona students threatening someone. 

Hannah immediately gives Mr. Grant the whole story - what Tyler did was way worse than anything she and Micah did. Apparently Mr. Grant knew the entire story. After Tyler had reported the threats, the police did some research of their own. Even though he had deleted the slam sites, he had left behind some evidence of all the weird things he had been up to. 

He was arrested, but that doesn&#x27;t excuse the things Hannah and Micah did. The police have decided to allow school administration to handle the incident. This could lead to suspension and getting kicked off of the track team! This is terrible!

[[The End->Bad End]]
</tw-passagedata><tw-passagedata pid="105" name="tyler text" tags="" position="5173,818">

	<div class="cell">
    <div class="screen">
        <div class="utility">
            <p class="contact"><span class="phone-back"> < Back</span> (734) 555-2751 <span class="phone-link">contacts</span></p>
        </div>    
        
		<div class="messages">
		 <div class="msg-send">We know who you are. We know what you've done<div class="tri-send"></div></div>
		 
		 <div class="msg-get">Who is this?<div class="tri-get"></div></div>
		 
		 <div class="msg-send">You should watch your back. Lots of things could happen to you.<div class="tri-send"></div></div>

		 <div class="msg-get">Seriously! Who is this?!?<div class="tri-get"></div></div>

		 <div class="msg-send">Take down the Allatoona Exposed page.<div class="tri-send"></div></div>

		 <div class="msg-get">If I found out who you are it's all over for you.<div class="tri-get"></div></div>
		</div>
      <div class="msg-bar">
        <div class="msg-write">
          <p>Message</p>
        </div>
        <p class="send">Send</p>
      </div>
    </div>
    <div class="circle"></div>
</div>
It feels kind of weird threatening someone like that. Hopefully this will scare him enough to delete the pages he&#x27;s made. 
<img class="logo" src="../assets/mod2/wacc-mini-logo.png" alt="logo" height="50" width="50"></tw-passagedata><tw-passagedata pid="106" name="pic_feed" tags="" position="4237.000000000001,1535"><div class="phone-img" id="twitter"></div>
Looks like Willa and Frankie are back at it. Their Twitter beefs are legendary and have a way of drawing in a lot of people.
<img class="logo" src="../assets/mod2/wacc-mini-logo.png" alt="logo" height="50" width="50"></tw-passagedata><tw-passagedata pid="107" name="Side with Frankie" tags="" position="3895.3333333333326,1875">What [[Willa->bio_willa]] said to [[Frankie->bio_frankie]] was seriously messed up. It doesn&#x27;t matter what Frankie did in the first place - that got personal really fast. To show her support Hannah makes a tweet about Willa with #teamfrankie at the end. 

A few minutes later she gets a [[direct message->willa_dm]] from Willa. What she said was surprisingly mean. Hannah always grew up thinking that it didn&#x27;t matter what other people said, but this makes her think otherwise. She&#x27;s never had someone actually try to hurt her. 

What can Hannah do to take her mind off of it?

[[Go for a run]]
[[Scroll through reddit]]
[[Do her homework]]</tw-passagedata><tw-passagedata pid="108" name="Side with Willa" tags="" position="4481.333333333334,1978.6666666666665">[[Frankie->bio_frankie]] is usually the instigator - it kind of seems like she&#x27;s getting what she deserves. Hannah wonders if what [[Willa->bio_willa]] said about her boyfriend asking her to prom is actually true. Hannah likes and retweets Willa&#x27;s message.

A few minutes later she gets a [[direct message->frankie_dm]] from Frankie. What she said was surprisingly mean. Hannah always grew up thinking that it didn&#x27;t matter what other people said, but this makes her think otherwise. She&#x27;s never had someone actually try to hurt her. 

What can Hannah do to take her mind off of it?

[[Go for a run->Go for a run 2]]
[[Scroll through reddit->Scroll through Reddit 2]]
[[Do her homework->Do her homework 2]]</tw-passagedata><tw-passagedata pid="109" name="Report them" tags="" position="5518.666666666667,1645">Hannah doesn&#x27;t know why, but it seems like this one is going to get out of hand really quickly. She reports [[Willa->bio_willa]] and [[Frankie->bio_frankie]].

A few minutes go by and she gets a [[text->brandon_text]] from [[Brandon->bio_brandon]]. Hannah has been so bored recently - finally she has something to look forward to. 

The next day school takes forever to end. Hannah and Meera are really excited to start their weekend off with a party. After what feels like days, they&#x27;re finally on their way to Brandon&#x27;s house. When they arrive Brandon&#x27;s house is packed. There are lots of people from Allatoona - a couple of them seem really drunk. 

Hannah and Meera see a bunch of people crowded around a corner. Somebody Hannah doesn&#x27;t recognize is on the ground passed out. Everyone around him is taking pictures and videos. This girl [[Angelica->bio_angelica]] already posted [[this]] to her snap story. 

What should Hannah do?

[[Call 911]]
[[See if he&#x27;s alive]]
[[Leave the party]]</tw-passagedata><tw-passagedata pid="110" name="frankie_dm" tags="" position="4245.333333333333,1695"><div class="phone-img" id="frankie-dm"></div>
Whoa. That was really mean. Hannah was just playing around - she didn&#x27;t want to make Frankie mad. That really hurt. 
<img class="logo" src="../assets/mod2/wacc-mini-logo.png" alt="logo" height="50" width="50"></tw-passagedata><tw-passagedata pid="111" name="willa_dm" tags="" position="3880.3333333333335,1698.3333333333335"><div class="phone-img" id="willa-dm"></div>
Whoa. That was really mean. Hannah was just playing around - she didn&#x27;t want to make Willa mad. That really hurt. 
<img class="logo" src="../assets/mod2/wacc-mini-logo.png" alt="logo" height="50" width="50"></tw-passagedata><tw-passagedata pid="112" name="bio_frankie" tags="" position="4000.3333333333335,1690"><img class= "displayed" src= "../assets/mod2/frankie.png" alt= "bio_frankie">
Frankie is in Hannah&#x27;s english class. Anytime anyone who&#x27;s not in her friend group tries to talk to her, she acts like she just wants to be left alone.
<img class="logo" src="../assets/mod2/wacc-mini-logo.png" alt="logo" height="50" width="50"></tw-passagedata><tw-passagedata pid="113" name="bio_willa" tags="" position="4128.666666666666,1695"><div class="character" id="willa"></div>
Willa is a junior at Allatoona. Hannah and Willa were in the same gym class last year. She always had a joke ready, which helped to make the class at least somewhat tolerable.
<img class="logo" src="../assets/mod2/wacc-mini-logo.png" alt="logo" height="50" width="50"></tw-passagedata><tw-passagedata pid="114" name="Go for a run" tags="" position="3765.6666666666674,2058.3333333333335">Nothing clears Hannah&#x27;s head like a run through her town. She slips on her running shoes and heads out. When she runs, it&#x27;s like her mind shuts off. She&#x27;s able to stop thinking about things that bother her and getting exercise really helps improve her mood.

As she&#x27;s running she passes by [[The Metro]] and decides to stop in for an iced coffee. She gets in line and notices she&#x27;s behind [[Adam->bio_adam]]. Hannah really hopes he doesn&#x27;t see her, but a few seconds later he turns around and starts to talk to her.

He says that he saw some of the mean posts about Hannah and asks if she&#x27;s doing alright.

Wait, there are mean posts now? A direct message is one thing, but a post for everyone to see is really annoying. What is Willa even saying about her?

Should Hannah look at the posts?

[[Yes->look at posts]]
[[No->don&#x27;t look at posts]]</tw-passagedata><tw-passagedata pid="115" name="Scroll through reddit" tags="" position="3937.333333333334,2058.3333333333335">Hannah goes on Reddit and scrolls through the frontpage aimlessly. She tries to focus on what she&#x27;s looking at, but she finds herself reading the same comments over and over without actually understanding them.  Her mind is definitely elsewhere.

She can only imagine what other things Willa is saying about her. Should Hannah look at Willa&#x27;s accounts to see what she&#x27;s saying?

[[Yes->look at posts]]
[[No->don&#x27;t look at posts]]</tw-passagedata><tw-passagedata pid="116" name="Do her homework" tags="" position="4110.666666666668,2053.333333333334">Hannah tries to do her assigned reading for English class, but it gets to the point where Hannah has read the same paragraph four times and she has no idea what it says. 

She can&#x27;t stop thinking about that message. What Willa said to Hannah was really mean. If that&#x27;s what she&#x27;s saying to her face, what is Willa saying about Hannah behind her back?

Should Hannah check Willa&#x27;s different accounts to see what she&#x27;s saying?

[[Yes->look at posts]]
[[No->don&#x27;t look at posts]]</tw-passagedata><tw-passagedata pid="117" name="The Metro" tags="" position="4244,1971.6666666666667"><div class="character" id="metro"></div>
The Metro seems like the only cool place in Hannah&#x27;s town. Ton of people from Allatoona go there to do homework or hang out. It&#x27;s a very rare occasion if Hannah doesn&#x27;t see someone from school there.
<img class="logo" src="../assets/mod2/wacc-mini-logo.png" alt="logo" height="50" width="50"></tw-passagedata><tw-passagedata pid="118" name="look at posts" tags="" position="4004,2200.0000000000005">Hannah can&#x27;t help it - she&#x27;s too curious and too upset to ignore what&#x27;s going on. Hannah goes on twitter and sees that Willa has made a post about her. She called Hannah really terrible names. The worst part was the amount of people who liked it or  retweeted it. People that Hannah thought were her friends were now taking part in making fun of her.

Hannah made a mistake when she got in Frankie and Willa&#x27;s business. She just wants this to be over and for people to stop talking about her. 

The next day at school was really hard. It seemed like everyone was talking about her. People she usually hung out with kept their distance. Hannah felt like everyone had turned on her, like no one liked her anymore. She felt like there was nothing she could do.

After English class [[Mr. Hoffman]] asked Hannah to stay behind. Once everyone had left the room, he asked if everything was alright. He said it seemed like Hannah was not her usual self.

What should Hannah do? 

[[Tell him about Willa]]
[[Tell him nothing]]</tw-passagedata><tw-passagedata pid="119" name="don&#x27;t look at posts" tags="" position="3764,2225.0000000000005">If Hannah looks at the posts she&#x27;s going to get really mad and she might post something to make things worse. Since trying to distract herself didn&#x27;t work, it might be helpful to talk about it. 

She texts Meera, but fifteen minutes go by and she hasn&#x27;t gotten a response. Is she trying to avoid Hannah?

Hannah is getting really upset at this point. It feels like everyone hates her and she has no one to talk to about it. She&#x27;s so upset that she barely eats anything at dinner. She can&#x27;t focus on her homework and she spends the whole night tossing and turning. 

The next day at school people are quoting some of Willa&#x27;s tweets and calling Hannah terrible names. No one has ever really been mean to Hannah&#x27;s face before - she has no idea how to react. 

Meera wasn&#x27;t at school that day, so she ate lunch alone - it was totally humiliating. Right as she was finishing eating  [[Adam->bio_adam]] comes up to talk to her.

How should Hannah react?

[[Tell him to leave her alone]]
[[Ask him what he wants]]</tw-passagedata><tw-passagedata pid="120" name="Go for a run 2" tags="" position="4703.666666666667,2100">Nothing clears Hannah&#x27;s head like a run through her town. She slips on her running shoes and heads out. When she runs, it&#x27;s like her mind shuts off. She&#x27;s able to stop thinking about things that bother her and getting exercise really helps improve her mood.

As she&#x27;s running she passes by [[The Metro]] and decides to stop in for an iced coffee. She gets in line and notices she&#x27;s behind [[Adam->bio_adam]]. Hannah really hopes he doesn&#x27;t see her, but a few seconds later he turns around and starts to talk to her.

He says that he saw some of the mean posts about Hannah and asks if she&#x27;s doing alright.

Wait, there are mean posts now? A direct message is one thing, but a post for everyone to see is really annoying. What is she even saying about Hannah?

Should Hannah look at the posts?

[[Yes->look at posts 2]]
[[No->don&#x27;t look at posts 2]]</tw-passagedata><tw-passagedata pid="121" name="Scroll through Reddit 2" tags="" position="4890.333333333334,2063.333333333334">Hannah goes on Reddit and scrolls through the frontpage aimlessly. She tries to focus on what she&#x27;s looking at, but she finds herself reading the same comments over and over without actually understanding them.  Her mind is definitely elsewhere.

She can only imagine what other things Frankie is saying about her. Should Hannah look at Frankie&#x27;s accounts to see what she&#x27;s saying?

[[Yes->look at posts 2]]
[[No->don&#x27;t look at posts 2]]</tw-passagedata><tw-passagedata pid="122" name="Do her homework 2" tags="" position="5102,2105">Hannah tries to do her assigned reading for English class, but it gets to the point where Hannah has read the same paragraph four times and she has no idea what it says. 

She can&#x27;t stop thinking about that message. What Frankie said to Hannah was really mean. If that&#x27;s what she&#x27;s saying to her face, what is Frankie saying about Hannah behind her back?

Should Hannah check Frankie&#x27;s different accounts to see what she&#x27;s saying?

[[Yes->look at posts 2]]
[[No->don&#x27;t look at posts 2]]</tw-passagedata><tw-passagedata pid="123" name="look at posts 2" tags="" position="4788.666666666667,2255">Hannah can&#x27;t help it - she&#x27;s too curious and too upset to ignore what&#x27;s going on. Hannah goes on twitter and sees that Frankie has made a post about her. She called Hannah really terrible names. The worst part was the amount of people who liked it or  retweeted it. People that Hannah thought were her friends were now taking part in making fun of her.

Hannah made a mistake when she got in Frankie and Willa&#x27;s business. She just wants this to be over and for people to stop talking about her. 

The next day at school was really hard. It seemed like everyone was talking about her. People she usually hung out with kept their distance. Hannah felt like everyone had turned on her, like no one liked her anymore. She felt like there was nothing she could do.

After English class [[Mr. Hoffman]] asked Hannah to stay behind. Once everyone had left the room, he asked if everything was alright. He noticed that Hannah wasn&#x27;t acting normally.

What should Hannah do? 

[[Tell him about Frankie]]
[[Tell him nothing->Tell him nothing 2]]</tw-passagedata><tw-passagedata pid="124" name="don&#x27;t look at posts 2" tags="" position="5188.666666666667,2285.0000000000005">If Hannah looks at the posts she&#x27;s going to get really mad and she might post something to make things worse. Since trying to distract herself didn&#x27;t work, it might be helpful to talk about it. 

She texts Meera, but fifteen minutes go by and she hasn&#x27;t gotten a response. Is she trying to avoid Hannah?

Hannah is getting really upset at this point. It feels like everyone hates her and she has no one to talk to about it. She&#x27;s so upset that she barely eats anything at dinner. She can&#x27;t focus on her homework and she spends the whole night tossing and turning. 

The next day at school people are quoting some of Willa&#x27;s tweets and calling Hannah terrible names. No one has ever really been mean to Hannah&#x27;s face before - she has no idea how to react. 

Meera wasn&#x27;t at school that day, so she ate lunch alone - it was totally humiliating. Right as she was finishing eating  [[Adam->bio_adam]] comes up to talk to her.

How should Hannah react?

[[Tell him to leave her alone->Tell him to leave her alone 2]]
[[Ask him what he wants->Ask him what he wants 2]]</tw-passagedata><tw-passagedata pid="125" name="Tell him about Willa" tags="" position="4223.666666666667,3492">Hannah can&#x27;t take it anymore. She&#x27;s feeling too stressed about everything. She needs to open up to someone - to anyone, really. 

She tells Mr. Hoffman about the mean messages she&#x27;s been getting and she tells him about how everyone is ignoring her, or worse, making fun of her. 

Mr. Hoffman asks what he can do to help. Hannah doesn&#x27;t know what to say - she was hoping he had answers!

She asks Mr. Hoffman how she can get other students to leave her alone.  He suggests talking to school administration. He said that in the past few years, Allatoona has started taking cases of cyberbullying really seriously. He helps Hannah set up an appointment with [[Mr. Grant->bio_mr_grant]].

Just having a plan makes Hannah feel a lot better. Hopefully the bullying will stop soon.

[[The End->Good End]]</tw-passagedata><tw-passagedata pid="126" name="Tell him nothing" tags="" position="4123.333333333334,2794.6666666666674">She can&#x27;t tell him about Willa. She doesn&#x27;t want people to think she&#x27;s a tattletale. Besides, Hannah&#x27;s so frustrated she doubts she could talk about it all right now. 

She tells Mr. Hoffman that she&#x27;s fine - just tired. He says ok, but Hannah can tell he doesn&#x27;t believe her. 

At home she gets the same question from her [[dad->bio_dad]]. There&#x27;s no way she&#x27;s going to tell him, though. He might freak out and take her phone away. 

It feels like there is literally no one she can go to about this problem. At this point Hannah is willing to try anything. The next day she goes to the office to speak with her guidance counselor, [[Ms. Miller->bio_ms_miller]]. 

She was nervous at first, but after talking for a few minutes Hannah really feels like she can open up to Ms. Miller. She tells her all about what&#x27;s been going on with the posts. Ms. Miller says that the school takes bullying really seriously. 

The two set up time to talk to [[Mr. Grant->bio_mr_grant]] later that week. Just having a plan makes Hannah feel so much better!

[[The End->Good End]] </tw-passagedata><tw-passagedata pid="127" name="Tell him about Frankie" tags="" position="4866.000000000001,3281.333333333333">Hannah can&#x27;t take it anymore. She&#x27;s feeling too stressed about everything. She needs to open up to someone - to anyone, really. 

She tells Mr. Hoffman about the mean messages she&#x27;s been getting and she tells him about how everyone is ignoring her, or worse, making fun of her. 

Mr. Hoffman asks what he can do to help. Hannah doesn&#x27;t know what to say - she was hoping he had answers!

She asks Mr. Hoffman how she can get other students to leave her alone.  He suggests talking to school administration. He said that in the past few years, Allatoona has started taking cases of cyberbullying really seriously. He helps Hannah set up an appointment with [[Mr. Grant->bio_mr_grant]].

Just having a plan makes Hannah feel a lot better. Hopefully the bullying will stop soon.

[[The End->Good End]]</tw-passagedata><tw-passagedata pid="128" name="Tell him nothing 2" tags="" position="4878.666666666668,2486.6666666666656">She can&#x27;t tell him about Frankie. She doesn&#x27;t want people to think she&#x27;s a tattletale. Besides, Hannah&#x27;s so frustrated she doubts she could talk about it all right now. 

She tells Mr. Hoffman that she&#x27;s fine - just tired. He says ok, but Hannah can tell he doesn&#x27;t believe her. 

At home she gets the same question from her [[dad->bio_dad]]. There&#x27;s no way she&#x27;s going to tell him, though. He might freak out and take her phone away. 

It feels like there is literally no one she can go to about this problem. At this point Hannah is willing to try anything. The next day she goes to the office to speak with her guidance counselor, [[Ms. Miller->bio_ms_miller]]. 

She was nervous at first, but after talking for a few minutes Hannah really feels like she can open up to Ms. Miller. She tells her all about what&#x27;s been going on with Frankie. Ms. Miller says that the school takes bullying really seriously. 

The two set up time to talk to [[Mr. Grant->bio_mr_grant]] later that week. Just having a plan makes Hannah feel so much better!

[[The End->Good End]] </tw-passagedata><tw-passagedata pid="129" name="Tell him to leave her alone" tags="" position="3617.3333333333335,2576.666666666667">Adam is the last person she wants to talk to right now. When he starts talking to her she snaps and tells him to go away. Adam looks startled at Hannah&#x27;s outburst. Without saying anything he turns around and walks away. 

It felt good in the moment, but Hannah realizes that she hurt his feelings. She may not like him very much, but she doesn&#x27;t want him to feel bad either. Why did she yell at him?

That interaction on top of everything else that&#x27;s going on made Hannah feel really hopeless. She needs to talk to someone soon because she feels like she&#x27;s going to explode.

Who should she talk to?

[[Her dad]]
[[Her guidance counselor]]
[[Meera]]</tw-passagedata><tw-passagedata pid="130" name="Ask him what he wants" tags="" position="4356.333333333334,2471.333333333334">Hannah asks Adam why he&#x27;s coming over to talk to her. He says that he saw the posts that had been made about Hannah. He said he just wants to check in and see if she&#x27;s doing alright. 

Wow. Hannah doesn&#x27;t even know him that well - it&#x27;s pretty nice of him to see if she&#x27;s alright. Hannah&#x27;s kind of surprised at how she opens up to Adam. She tells him the whole story more or less. 

He shares that he&#x27;s been bullied too. He says that he tried ignoring it and it didn&#x27;t stop, he told the bullies to leave him alone and they just laughed. He said the only thing that actually helped him was using this thing called [[OK2Say]].

He offered to show Hannah how it works after school. 

What should she do?

[[Accept his help]]
[[Tell him no]]</tw-passagedata><tw-passagedata pid="131" name="Tell him to leave her alone 2" tags="" position="5068.666666666667,2395.0000000000005">Adam is the last person she wants to talk to right now. When he starts talking to her she snaps and tells him to go away. Adam looks startled at Hannah&#x27;s outburst. Without saying anything he turns around and walks away. 

It felt good in the moment, but Hannah realizes that she hurt his feelings. She may not like him very much, but she doesn&#x27;t want him to feel bad either. Why did she yell at him?

That interaction on top of everything else that&#x27;s going on made Hannah feel really hopeless. She needs to talk to someone soon because she feels like she&#x27;s going to explode.

Who should she talk to?

[[Her dad->Her dad 2]]
[[Her guidance counselor->Her guidance counselor 2]]
[[Meera->Meera 2]]</tw-passagedata><tw-passagedata pid="132" name="Ask him what he wants 2" tags="" position="4610.333333333333,2430.0000000000005">Hannah asks Adam why he&#x27;s coming over to talk to her. He says that he saw the posts that had been made about Hannah. He said he just wants to check in and see if she&#x27;s doing alright. 

Wow. Hannah doesn&#x27;t even know him that well - it&#x27;s pretty nice of him to see if she&#x27;s alright. Hannah&#x27;s kind of surprised at how she opens up to Adam. She tells him the whole story more or less. 

He shares that he&#x27;s been bullied too. He says that he tried ignoring it and it didn&#x27;t stop, he told the bullies to leave him alone and they just laughed. He said the only thing that actually helped him was using this thing called [[OK2Say]].

He offered to show Hannah how it works after school. 

What should she do?

[[Accept his help]]
[[Tell him no]]</tw-passagedata><tw-passagedata pid="133" name="Her dad" tags="" position="3692.333333333334,2963.333333333334">That night Hannah opens up to her [[dad->bio_dad]]. She shares everything that has been going on with Willa and how everyone at school is being mean to her. The whole situation has made her feel worthless and crushingly sad. 

She expected her dad to freak out - to take her phone - maybe even go to the school and make a scene, but the way he reacted really surprised her. He was really calm, he asked her questions, and then asked if he could help.

At first Hannah felt really stupid going to her dad - like she was a baby or something, but they were able to make a plan to help. 

Her dad suggested that she shut down her accounts for a little while and talk to someone at school. At this point Hannah is willing to try anything. She plans on talking to [[Ms. Miller->bio_ms_miller]] tomorrow about what she&#x27;s been going through.

[[The End->Good End 2]]</tw-passagedata><tw-passagedata pid="134" name="Her guidance counselor" tags="" position="3909.0000000000005,2631.6666666666674">Hannah feels like she can talk to [[Ms. Miller->bio_ms_miller]] about this. If she tells her dad he&#x27;ll just freak out and she doesn&#x27;t think Meera will know what to do. 

During lunch she stops by the office to talk to her. She tells Ms. Miller the entire story about Willa and how everyone is treating her now. Ms. Miller is really sympathetic and asks a lot of questions. Eventually she suggests that the two talk to school administration. She says that the school takes bullying really seriously. 

The two set up time to talk to [[Mr. Grant->bio_mr_grant]] later that week. Just having a plan makes Hannah feel so much better!

[[The End->Good End]] </tw-passagedata><tw-passagedata pid="135" name="Meera" tags="" position="3828.3333333333335,3372.0000000000005">[[Meera->bio_meera]] always seems to know what to do - maybe she can help. The two meet up and Hannah tells her everything. 

Meera says that her brother had been cyberbullied before. She said when it happened to him he became really depressed - he didn&#x27;t want to leave his room, he stopped talking to his friends, and it seemed like he would never feel better. 

Eventually he opened up and talked to her about what had happened. He made a report and started hanging out with different people. The bullying didn&#x27;t stop right away, but eventually it got better. Meera suggested talking to Hannah&#x27;s [[guidance counselor->bio_ms_miller]].

After thinking about it for a while Hannah thinks it&#x27;s a good idea - just having a plan makes things easier!

[[The End->Good End 3]]</tw-passagedata><tw-passagedata pid="136" name="Her dad 2" tags="" position="5093.666666666668,2673.333333333333">That night Hannah opens up to her [[dad->bio_dad]]. She shares everything that has been going on with Frankie and how everyone at school is being mean to her. The whole situation has made her feel worthless and crushingly sad. 

She expected her dad to freak out - to take her phone - maybe even go to the school and make a scene, but the way he reacted really surprised her. He was really calm, he asked her questions, and then asked if he could help.

At first Hannah felt really stupid going to her dad - like she was a baby or something, but they were able to make a plan to help. 

Her dad suggested that she shut down her accounts for a little while and talk to someone at school. At this point Hannah is willing to try anything. She plans on talking to [[Ms. Miller->bio_ms_miller]] tomorrow about what she&#x27;s been going through.

[[The End->Good End 2]]</tw-passagedata><tw-passagedata pid="137" name="Her guidance counselor 2" tags="" position="5272.000000000002,2678.333333333334">Hannah feels like she can talk to [[Ms. Miller->bio_ms_miller]] about this. If she tells her dad he&#x27;ll just freak out and she doesn&#x27;t think Meera will know what to do. 

During lunch she stops by the office to talk to her. She tells Ms. Miller the entire story about Frankie and how everyone is treating her now. Ms. Miller is really sympathetic and asks a lot of questions. Eventually she suggests that the two talk to school administration. She says that the school takes bullying really seriously. 

The two set up time to talk to [[Mr. Grant->bio_mr_grant]] later that week. Just having a plan makes Hannah feel so much better!

[[The End->Good End]] </tw-passagedata><tw-passagedata pid="138" name="Meera 2" tags="" position="5235.333333333335,3111.6666666666674">[[Meera->bio_meera]] always seems to know what to do - maybe she can help. The two meet up and Hannah tells her everything. 

Meera says that her brother had been cyberbullied before. She said when it happened to him he became really depressed - he didn&#x27;t want to leave his room, he stopped talking to his friends, and it seemed like he would never feel better. 

Eventually he opened up and talked to her about what had happened. He made a report and started hanging out with different people. The bullying didn&#x27;t stop right away, but eventually it got better. Meera suggested talking to Hannah&#x27;s [[guidance counselor->bio_ms_miller]].

After thinking about it for a while Hannah thinks it&#x27;s a good idea - just having a plan makes things easier!

[[The End->Good End 3]]</tw-passagedata><tw-passagedata pid="139" name="bio_dad" tags="" position="4345.333333333334,2115.6666666666665"><div class="character" id="dad"></div>
Hannah&#x27;s dad is like the classic dad. His jokes are pretty terrible, but that doesn&#x27;t stop him from making them. Hannah loves him, but she doesn&#x27;t always feel comfortable telling him about her life. 
<img class="logo" src="../assets/mod2/wacc-mini-logo.png" alt="logo" height="50" width="50"></tw-passagedata><tw-passagedata pid="140" name="bio_ms_miller" tags="" position="4344.000000000001,2245.0000000000005"><div class="character" id="miller"></div>
Ms. Miller is Hannah&#x27;s guidance counselor. Hannah doesn&#x27;t know her too well, but Ms. Miller has been super friendly. She seems like the kind of person Hannah can trust.
<img class="logo" src="../assets/mod2/wacc-mini-logo.png" alt="logo" height="50" width="50"></tw-passagedata><tw-passagedata pid="141" name="Accept his help" tags="" position="4307.000000000002,2697.666666666667">Hannah has had enough of being bullied. If something doesn&#x27;t happen soon to end it, she feels like she&#x27;s going to die. 

She meets up with Adam after school and he shows her the site. Making a report was actually really easy. She took some screenshots of the tweets, entered in some lines of info, and sent it off. 

Hannah feels pretty optimistic about this - just making the report brightened her day a little bit. The only things left to do is to sit back and wait. At least she knows now that //everyone// doesn&#x27;t hate her. 

[[The End->Good End]] </tw-passagedata><tw-passagedata pid="142" name="Tell him no" tags="" position="4621.333333333334,2816.3333333333344">Hannah thanks him for being so nice, but she wants to handle things herself. She&#x27;s not so sure she wants to make a report. She&#x27;ll just wait and see if things get better in the next few days. 

A few days go by and things do start to get a little bit better. She notices that people have started being mean to someone else now. Hannah feels relieved, but also a little guilty for feeling that way. 

After thinking about it for a while, she decides that she&#x27;s going to make a report. She doesn&#x27;t want anyone else to go through what she had to.

She decides to go talk to [[Mr. Grant->bio_mr_grant]] about what&#x27;s been going on. On her way she sees a poster for something called [[OK2Say]]. This seems like it could be helpful. 

How should Hannah make the report?

[[In person]]
[[Using OK2Say]]</tw-passagedata><tw-passagedata pid="143" name="In person" tags="" position="4399.666666666667,2998.000000000001">Hannah sucks it up and goes to the office. This will be uncomfortable, but she has to do it. She knocks on Mr. Grant's door, sits down, and begins to tell him everything that's happened over the last few days.


[[The End->Good End]] </tw-passagedata><tw-passagedata pid="144" name="Using OK2Say" tags="" position="4606.333333333334,3098.000000000001">Hannah visits ok2say.org. She expected it to look really outdated and confusing, but it was actually really easy. She found out that she can report way more things than just cyber bullying. She can't believe she never knew about this.

[[The End->Good End]] </tw-passagedata><tw-passagedata pid="145" name="Good End 2" tags="" position="2752.0000000000005,2608.0000000000005">This module was intended to illustrate the ease in which people can get caught up in cyberbullying - whether it&#x27;s a way of getting revenge, to make friends laugh, or to make yourself feel better. Nearly half of all teens are cyberbullied at one point or another - and there can be serious, long-lasting consequences. It&#x27;s our job as a community to make sure there are as few instances of cyberbullying as possible.

Good job getting help when you needed it. Shutting down an account can be tough, but sometimes it&#x27;s the right thing to do. [[Click here->Let&#x27;s get started!]] if you want to go back and explore a different path.

Visit <a href="https://www.michigan.gov/ok2say">ok2say.org</a> to make a report if you or someone you know is being cyberbullied.

Thanks for playing our game!  

<img class="displayed" src="../assets/mod2/wacc-logo.jpg" alt="logo">
=><= 
######Copyright © 2017 Washtenaw Area Council for Children, All rights reserved.</tw-passagedata><tw-passagedata pid="146" name="Good End 3" tags="" position="2877,2618.333333333334">This module was intended to illustrate the ease in which people can get caught up in cyberbullying - whether it&#x27;s a way of getting revenge, to make friends laugh, or to make yourself feel better. Nearly half of all teens are cyberbullied at one point or another - and there can be serious, long-lasting consequences. It&#x27;s our job as a community to make sure there are as few instances of cyberbullying as possible.

Good job getting help when you needed it. Opening up and talking about cyberbullying can be tough at first, but it can also make things a lot easier in the long run. [[Click here->Let&#x27;s get started!]] if you want to go back and explore a different path.

Visit <a href="https://www.michigan.gov/ok2say">ok2say.org</a> to make a report if you or someone you know is being cyberbullied.

Thanks for playing our game!  

<img class="displayed" src="../assets/mod2/wacc-logo.jpg" alt="logo">
=><= 
######Copyright © 2017 Washtenaw Area Council for Children, All rights reserved.</tw-passagedata><tw-passagedata pid="147" name="angelica_text" tags="" position="1813.3333333333335,723.3333333333335">
	<div class="cell">
    <div class="screen">
        <div class="utility">
            <p class="contact"><span class="phone-back"> < Back</span>(734) 555 2099 <span class="phone-link">contacts</span></p>
        </div>    
        <div class="messages">
			<div class="msg-get">So... you told adam.<div class="tri-get"></div></div>

			<div class="msg-get">I know you saw that text. What are you too afraid to answer?<div class="tri-get"></div></div>

			<div class="msg-get">I didn't know you had such a thing for him...<div class="tri-get"></div></div>
		</div>
		
      <div class="msg-bar">
        <div class="msg-write">
          <p>Message</p>
        </div>
        <p class="send">Send</p>
      </div>
    </div>
    <div class="circle"></div>
</div>
This doesn&#x27;t seem good. Angelica seems really annoyed - hopefully she&#x27;s not going to do anything, but Hannah is a little concerned.
<img class="logo" src="../assets/mod2/wacc-mini-logo.png" alt="logo" height="50" width="50"></tw-passagedata><tw-passagedata pid="148" name="brandon_text" tags="" position="5512.000000000002,1526.6666666666665">
	<div class="cell">
    <div class="screen">
        <div class="utility">
            <p class="contact"><span class="phone-back"> < Back</span>(734) 555 2099 <span class="phone-link">contacts</span></p>
        </div>    
        <div class="messages">
			<div class="msg-get">Hey Hannah! My parents are out of town tomorrow night so I'm having some people over. If you're free you should come over around 10.<div class="tri-get"></div></div>

			<div class= "msg-send">Sounds fun! I'll stop by.<div class="tri-send"></div></div>
		</div>
      <div class="msg-bar">
        <div class="msg-write">
          <p>Message</p>
        </div>
        <p class="send">Send</p>
      </div>
    </div>
    <div class="circle"></div>
</div>
Brandon is known for throwing some really great parties. Hannah&#x27;s excited to have some fun Friday night!
<img class="logo" src="../assets/mod2/wacc-mini-logo.png" alt="logo" height="50" width="50">
</tw-passagedata><tw-passagedata pid="149" name="this" tags="" position="5820.333333333333,1606.6666666666665"><img class="phone" src= "../assets/mod2/snap.jpg" alt= "party_snap">
Even if it auto deletes, why would anyone want evidence that they were at this party? It definitely seems like things are getting out of control.
<img class="logo" src="../assets/mod2/wacc-mini-logo.png" alt="logo" height="50" width="50"></tw-passagedata><tw-passagedata pid="150" name="Call 911" tags="" position="5400.333333333333,1891.6666666666667">This party is getting crazy. Is that guy going to be alright? Why is no one helping him?

Hannah steps into another room and calls an ambulance - somebody has to do something. She also decides that it&#x27;s a good time to leave. She grabs Meera and the two leave the house. 

That night the two are talking about how weird that party was. Hannah tells Meera that she called 911. Meera totally agrees that Hannah did the right thing. Unfortunately, not everyone shares their view point. 

Pretty soon their social media feeds are filled with people complaining about the police showing up, talking about how much trouble they&#x27;re in, or talking about who they think made the call. 

It&#x27;s not long before Angelica tweets [[this-> angelica_tweet]]

What should Hannah do?

[[Cop to it]]
[[Ignore it->partyignore]]</tw-passagedata><tw-passagedata pid="151" name="See if he&#x27;s alive" tags="" position="5845.333333333333,1963.3333333333333">Everyone is being a bystander. This guy could be dying and we&#x27;re just watching him. Hannah has to do something. 

She pushes her way through the crowd and kneels next to him. She looks closely and can see that he&#x27;s breathing. She pokes him and he rolls over. It seems like he&#x27;s ok, but just to be sure she pulls him forward and places him in recovery position. She then stands up and realizes that everyone has been taking pictures and videos of her!

It&#x27;s not long before she gets a notification from Instagram. Ugh! People have tagged pictures of her and that guy! The angle of the picture makes it look totally inappropriate - and people are already liking it and writing nasty comments!

Hannah is so upset that she leaves the party. All night her phone is blowing up. How can people make fun of her like that?

What should Hannah do?

[[Tell everyone to stop]]
[[Ignore it->ignorepictures]]
</tw-passagedata><tw-passagedata pid="152" name="Leave the party" tags="" position="6559,1862.6666666666663">This party is a little too intense for Hannah, she grabs Meera, turns around and makes a bee line for the door.

When the two get to Meera&#x27;s house they start talking about what was going on at that party and whether or not they should have helped that guy. 

Hannah and Meera get a [[text->angelica_text_2]] from Angelica.

Pretty soon the mean messages start pouring in. Hannah even gets [[this one->willa_dm_2]] from Willa. 

This is terrible! Everyone is being so mean. Hannah feels overwhelmed. There&#x27;s too much going on! Luckily Meera has a plan. 

She thinks that they can make a report on [[OK2Say]] to get the bullying to stop.

It&#x27;s worth a shot. They take some screenshots of the messages and make a report. Within 10 minutes they&#x27;re all finished up.

The mean messages are still coming in, but by Monday night they&#x27;ve stopped. [[Mr. Grant->bio_mr_grant]] made an announcement telling the whole school that he had received confidential reports about cyberbullying. He said he would be calling people into the office to talk about it throughout the day.

Hannah is so relieved that this worked! It feels like a weight has been lifted off of her!

[[The End->Good End]] </tw-passagedata><tw-passagedata pid="153" name=" angelica_tweet" tags="" position="5325.333333333334,1743.3333333333333"><div class="tweet-box" id="tweet4"></div>
Seriously? The only reason why anyone would post that is because they want to start drama. Angelica is the worst.
<img class="logo" src="../assets/mod2/wacc-mini-logo.png" alt="logo" height="50" width="50"></tw-passagedata><tw-passagedata pid="154" name="Cop to it" tags="" position="5527.000000000001,2165.0000000000005">Hannah sent out this [[tweet]] in response.

Almost instantly, Hannah is blasted with angry direct messages and texts. People are also making mean posts about her. She can&#x27;t even fall asleep because she&#x27;s getting so many notifications.

She gets this [[message->willa_dm_2]] from Willa and decides to turn her phone off. This is too much. 

The weekend goes by and Hannah is dreading going to school. She feels sick to her stomach.

Monday was a really hard day. It seemed like everyone was talking about her. People she usually hung out with kept their distance. Hannah felt like everyone had turned on her, like no one liked her anymore. She felt like there was nothing she could do.

After English class [[Mr. Hoffman]] asked Hannah to stay behind. Once everyone had left the room, he asked if everything was alright. He noticed that Hannah wasn&#x27;t acting normally.

What should Hannah do? 

[[Tell him about what happened]]
[[Don&#x27;t tell him what happened]]</tw-passagedata><tw-passagedata pid="155" name="partyignore" tags="" position="5568.666666666666,1893.3333333333337">Why would she call Hannah out like that? 

Almost instantly, Hannah is blasted with angry direct messages and texts. People are also making mean posts about her. She can&#x27;t even fall asleep because she&#x27;s getting so many notifications.

She gets this [[message->willa_dm_2]] from Willa and decides to turn her phone off. This is too much. 

The weekend goes by and Hannah is dreading going to school. She feels sick to her stomach.

Monday was a really hard day. It seemed like everyone was talking about her. People she usually hung out with kept their distance. Hannah felt like everyone had turned on her, like no one liked her anymore. She felt like there was nothing she could do.

After English class [[Mr. Hoffman]] asked Hannah to stay behind. Once everyone had left the room, he asked if everything was alright. He noticed that Hannah wasn&#x27;t acting normally.

What should Hannah do? 

[[Tell him about what happened]]
[[Don&#x27;t tell him what happened]]</tw-passagedata><tw-passagedata pid="156" name="willa_dm_2" tags="" position="6255.333333333332,1706.6666666666667"><div class="phone-img" id="willa-dm-two"></div>
How can someone say that? Hannah was only trying to do the right thing. That guy could have died. What is wrong with everyone?
<img class="logo" src="../assets/mod2/wacc-mini-logo.png" alt="logo" height="50" width="50"></tw-passagedata><tw-passagedata pid="157" name="Tell him about what happened" tags="" position="5458.666666666666,2503.3333333333335">Hannah can&#x27;t take it anymore. She&#x27;s feeling too stressed about everything. She needs to open up to someone - to anyone, really. 

She tells Mr. Hoffman about the party, about the guy who was passed out, about how she called the police, and how people have been threatening her online.

Mr. Hoffman raises his eyebrows. He definitely wasn&#x27;t expecting all that. He asks what he can do to help. Hannah doesn&#x27;t know what to say - she was hoping he had answers!

She asks Mr. Hoffman how she can get other students to leave her alone.  He suggests talking to school administration. He said that in the past few years, Allatoona has started taking cases of cyberbullying really seriously. He helps Hannah set up an appointment with [[Mr. Grant->bio_mr_grant]].

Just having a plan makes Hannah feel a lot better. Hopefully people will just leave her alone soon.

[[The End->Good End]]</tw-passagedata><tw-passagedata pid="158" name="Don&#x27;t tell him what happened" tags="" position="5606.999999999999,2681.666666666667">She can&#x27;t tell him about the party - she could get people in even more trouble. She doesn&#x27;t want people to think she&#x27;s any more of a tattletale than they already do. Besides, Hannah&#x27;s so frustrated she doubts she could talk about it all right now. 

She tells Mr. Hoffman that she&#x27;s fine - just tired. He says ok, but Hannah can tell he doesn&#x27;t believe her. 

At home she gets the same question from her [[dad->bio_dad]]. There&#x27;s no way she&#x27;s going to tell him, though. He would freak out if he knew she went to a party without telling him.

It feels like there is literally no one she can go to about this problem. At this point Hannah is willing to try anything. The next day she goes to the office to speak with her guidance counselor, [[Ms. Miller->bio_ms_miller]]. 

She was nervous at first, but after talking for a few minutes Hannah really feels like she can open up to Ms. Miller. She tells her all about Friday night and all the mean messages and threats she&#x27;s been getting because of it. 

Ms. Miller seems to really care about the way people are treating Hannah. She tells Hannah that she did the right thing dialing 911. She wants to make it her mission to get people to leave Hannah alone. The two set up time to talk to [[Mr. Grant->bio_mr_grant]] later that week about what they can do.

Just having a plan makes her feel better.

[[The End->Good End]] </tw-passagedata><tw-passagedata pid="159" name="tweet" tags="" position="6107.000000000001,1803.333333333334"><div class="tweet-box" id="tweet3"></div>
Hopefully this will help people see her side - Hannah can see why some people would be upset, but they shouldn&#x27;t be upset with her!
<img class="logo" src="../assets/mod2/wacc-mini-logo.png" alt="logo" height="50" width="50"></tw-passagedata><tw-passagedata pid="160" name="Tell everyone to stop" tags="" position="5901.999999999999,2303.333333333333">Hannah has had enough. She&#x27;s not sure if this will make things better or worse, but it&#x27;s worth a try. She sends out this [[tweet->stopittweet]].

It&#x27;s kind of surprising, but after she tweets that message, it seems like there are less people making fun of her. Pretty much everyone but Angelica has stopped. 

On Monday Hannah approaches Angelica at lunch. Hannah tells her that those posts are really bothering her - she asks Angelica to stop. 

Angelica rolls her eyes and tells Hannah that she&#x27;s not going to stop - Angelica thinks the posts are hilarious and they show how up-tight Hannah is about everything. 

Well that went as expected.

What should she try now?

[[Go to an administrator]]
[[Ask Meera for help->meera help 2]]
</tw-passagedata><tw-passagedata pid="161" name="ignorepictures" tags="" position="6247,2027.9999999999993">Hannah is ignoring everyone&#x27;s comments, but they keep coming in. There are at least a dozen posts, pictures, and comments. It&#x27;s getting to be too much.

Even though Hannah did the right thing she feels terrible. The way people are making fun of her makes her feel worthless and embarrassed.

The weekend goes by and Hannah is dreading going to school. She feels sick to her stomach.

Monday was a really hard day. It seemed like everyone was talking about her. Hannah felt like everyone had turned on her, like no one liked her anymore. She felt like there was nothing she could do.

After English class [[Mr. Hoffman]] asked Hannah to stay behind. Once everyone had left the room, he asked if everything was alright. He noticed that Hannah wasn&#x27;t acting normally.

What should Hannah do? 

[[Tell him about what happened->what happened]]
[[Don&#x27;t tell him what happened->not what happened]]</tw-passagedata><tw-passagedata pid="162" name="stopittweet" tags="" position="5781.999999999999,2141.666666666666"><div class="tweet-box" id="tweet2"></div>
Maybe this will get people to think about what they&#x27;re doing. Hannah really hopes this doesn&#x27;t make people do it more.
<img class="logo" src="../assets/mod2/wacc-mini-logo.png" alt="logo" height="50" width="50">
</tw-passagedata><tw-passagedata pid="163" name="Go to an administrator" tags="" position="6043.666666666666,2282">On Tuesday, Hannah goes to the office instead of her calc class. She walks into [[Mr. Grant&#x27;s->bio_mr_grant]] office and tells him everything - she tells him about the party, about how she helped that guy, and about how people have been cyberbullying her.

Mr Grant tells Hannah that in recent years school administration has started taking cyber bullying really seriously. He says he&#x27;s going to personally look into the matter and make sure that everyone is living up to Allatoona standards. He tells her that even though the bullying is happening after school hours, Angelica can still get in trouble in school. 

It feels like a weight has been lifted off of Hannah. Talking about it and making a report has been such a relief. Hopefully Angelica will just calm down and leave Hannah alone soon.

[[The End->Good End]] </tw-passagedata><tw-passagedata pid="164" name="meera help 2" tags="" position="6017.999999999999,2489.333333333333">Meera usually knows what to do. After [[texting]] for a while, they form a plan.

Meera comes over to help collect evidence. They want to find a lot of proof - even posts that Angelica has made about other people. It&#x27;s not long before Hannah happens upon a [[terrible post]] Angelica made. How could she treat another person that way? It&#x27;s not fair that Angelica treats people however she wants and never gets in trouble for it. Gathering evidence and reporting her definitely seems like the right thing to do.

After an hour of evidence gathering the two are ready to make their report. Meera tells Hannah about [[OK2Say]], which is the perfect way to make a report. In less than 10 minutes, everything is done. 

Hannah feels like a weight has been lifted off of her! Hopefully this will make Angelica calm down and leave Hannah alone!

[[The End ->Good End]] </tw-passagedata><tw-passagedata pid="165" name="texting" tags="" position="5729.999999999999,2442.333333333333">
	<div class="cell">
    <div class="screen">
        <div class="utility">
            <p class="contact"><span class="phone-back"> < Back</span>(734) 555 2099 <span class="phone-link">contacts</span></p>
        </div>    
        <div class="messages">
			<div class="msg-send">Angelica said she wouldn't stop posting crap about me >:(<div class="tri-send"></div></div>

			<div class="msg-get">That's so annoying!!! :( :( :(<div class="tri-get"></div></div>

			<div class="msg-send">What should I do?<div class="tri-send"></div></div>

			<div class="msg-get">We can get some evidence of the dumb stuff she's doing and report her online.<div class="tri-get"></div></div>

			<div class="msg-send">I never thought of that. Let's try it I guess.<div class="tri-send"></div></div>

			<div class="msg-get">Cool! I'll come over tomorrow to help!<div class="tri-get"></div></div>
		</div>
		
      <div class="msg-bar">
        <div class="msg-write">
          <p>Message</p>
        </div>
        <p class="send">Send</p>
      </div>
    </div>
    <div class="circle"></div>
</div>
Meera is so smart! This is the perfect way to get Angelica to stop. She won&#x27;t even have to talk to anyone, she can just make a report.
<img class="logo" src="../assets/mod2/wacc-mini-logo.png" alt="logo" height="50" width="50"></tw-passagedata><tw-passagedata pid="166" name="what happened" tags="" position="6090.333333333333,2097.9999999999995">Hannah can&#x27;t take it anymore. She&#x27;s feeling too stressed about everything. She needs to open up to someone - to anyone, really. 

She tells Mr. Hoffman about the party, about the guy who was passed out, about how she helped him, and how people have been posting pictures of her without her permission.

Mr. Hoffman raises his eyebrows. He definitely wasn&#x27;t expecting all that. He asks what he can do to help. Hannah doesn&#x27;t know what to say - she was hoping he had answers!

She asks Mr. Hoffman how she can get other students to leave her alone.  He suggests talking to school administration. He said that in the past few years, Allatoona has started taking cases of cyberbullying really seriously. He helps Hannah set up an appointment with [[Mr. Grant->bio_mr_grant]].

Just having a plan makes Hannah feel a lot better. Hopefully people will just leave her alone soon.

[[The End->Good End]]</tw-passagedata><tw-passagedata pid="167" name="not what happened" tags="" position="6322,2177.9999999999995">She can&#x27;t tell him about the party - she could get people in trouble. Besides, Hannah&#x27;s so frustrated she doubts she could talk about it all right now. 

She tells Mr. Hoffman that she&#x27;s fine - just tired. He says ok, but Hannah can tell he doesn&#x27;t believe her. 

At home she gets the same question from her [[dad->bio_dad]]. There&#x27;s no way she&#x27;s going to tell him, though. He would freak out if he knew she went to a party without telling him.

It feels like there is literally no one she can go to about this problem. At this point Hannah is willing to try anything. The next day she goes to the office to speak with her guidance counselor, [[Ms. Miller->bio_ms_miller]]. 

She was nervous at first, but after talking for a few minutes Hannah really feels like she can open up to Ms. Miller. She tells her all about Friday night and all the mean messages and threats she&#x27;s been getting because of it. 

Ms. Miller seems to really care about the way people are treating Hannah. She tells Hannah that she did the right thing by helping the kid that had passed out. She wants to make it her mission to get people to leave Hannah alone. The two set up time to talk to [[Mr. Grant->bio_mr_grant]] later that week about what they can do.

Just having a plan makes her feel better.

[[The End->Good End]] </tw-passagedata><tw-passagedata pid="168" name="angelica_text_2" tags="" position="6687.333333333333,1862.6666666666663">
	<div class="cell">
    <div class="screen">
        <div class="utility">
            <p class="contact"><span class="phone-back"> < Back</span> Angelica <span class="phone-link">contacts</span></p>
        </div>    
        <div class="messages">
			<div class="msg-get">Are you freaking kidding me, Hannah? Why did you call the cops?!<div class="tri-get"></div></div>

			<div class="msg-send">What? I swear we didn't!<div class="tri-send"></div></div>

			<div class="msg-get">I'm not stupid. 5 minutes after you run away cops show up. People are in so much trouble because of you<div class="tri-get"></div></div>
		</div>
      <div class="msg-bar">
        <div class="msg-write">
          <p>Message</p>
        </div>
        <p class="send">Send</p>
      </div>
    </div>
    <div class="circle"></div>
</div>
Why would they think Hannah and Meera did it!? Just because they left doesn&#x27;t mean they called the police!
<img class="logo" src="../assets/mod2/wacc-mini-logo.png" alt="logo" height="50" width="50"></tw-passagedata></tw-storydata>

<script title="Twine engine code" data-main="harlowe">"use strict";function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var _slicedToArray=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(){/**
 * @license almond 0.3.3 Copyright jQuery Foundation and other contributors.
 * Released under MIT license, http://github.com/requirejs/almond/LICENSE
 */
var requirejs,require,define;!function(e){function t(e,t){return v.call(e,t)}function n(e,t){var n,r,o,i,a,s,u,c,l,f,p,d,h=t&&t.split("/"),g=y.map,m=g&&g["*"]||{};if(e){for(e=e.split("/"),a=e.length-1,y.nodeIdCompat&&w.test(e[a])&&(e[a]=e[a].replace(w,"")),"."===e[0].charAt(0)&&h&&(d=h.slice(0,h.length-1),e=d.concat(e)),l=0;l<e.length;l++)if(p=e[l],"."===p)e.splice(l,1),l-=1;else if(".."===p){if(0===l||1===l&&".."===e[2]||".."===e[l-1])continue;l>0&&(e.splice(l-1,2),l-=2)}e=e.join("/")}if((h||m)&&g){for(n=e.split("/"),l=n.length;l>0;l-=1){if(r=n.slice(0,l).join("/"),h)for(f=h.length;f>0;f-=1)if(o=g[h.slice(0,f).join("/")],o&&(o=o[r])){i=o,s=l;break}if(i)break;!u&&m&&m[r]&&(u=m[r],c=l)}!i&&u&&(i=u,s=c),i&&(n.splice(0,s,i),e=n.join("/"))}return e}function r(t,n){return function(){var r=b.call(arguments,0);return"string"!=typeof r[0]&&1===r.length&&r.push(null),f.apply(e,r.concat([t,n]))}}function o(e){return function(t){return n(t,e)}}function i(e){return function(t){h[e]=t}}function a(n){if(t(g,n)){var r=g[n];delete g[n],m[n]=!0,l.apply(e,r)}if(!t(h,n)&&!t(m,n))throw new Error("No "+n);return h[n]}function s(e){var t,n=e?e.indexOf("!"):-1;return n>-1&&(t=e.substring(0,n),e=e.substring(n+1,e.length)),[t,e]}function u(e){return e?s(e):[]}function c(e){return function(){return y&&y.config&&y.config[e]||{}}}var l,f,p,d,h={},g={},y={},m={},v=Object.prototype.hasOwnProperty,b=[].slice,w=/\.js$/;p=function(e,t){var r,i=s(e),u=i[0],c=t[1];return e=i[1],u&&(u=n(u,c),r=a(u)),u?e=r&&r.normalize?r.normalize(e,o(c)):n(e,c):(e=n(e,c),i=s(e),u=i[0],e=i[1],u&&(r=a(u))),{f:u?u+"!"+e:e,n:e,pr:u,p:r}},d={require:function(e){return r(e)},exports:function(e){var t=h[e];return"undefined"!=typeof t?t:h[e]={}},module:function(e){return{id:e,uri:"",exports:h[e],config:c(e)}}},l=function(n,o,s,c){var l,f,y,v,b,w,x,T=[],O="undefined"==typeof s?"undefined":_typeof(s);if(c=c||n,w=u(c),"undefined"===O||"function"===O){for(o=!o.length&&s.length?["require","exports","module"]:o,b=0;b<o.length;b+=1)if(v=p(o[b],w),f=v.f,"require"===f)T[b]=d.require(n);else if("exports"===f)T[b]=d.exports(n),x=!0;else if("module"===f)l=T[b]=d.module(n);else if(t(h,f)||t(g,f)||t(m,f))T[b]=a(f);else{if(!v.p)throw new Error(n+" missing "+f);v.p.load(v.n,r(c,!0),i(f),{}),T[b]=h[f]}y=s?s.apply(h[n],T):void 0,n&&(l&&l.exports!==e&&l.exports!==h[n]?h[n]=l.exports:y===e&&x||(h[n]=y))}else n&&(h[n]=s)},requirejs=require=f=function(t,n,r,o,i){if("string"==typeof t)return d[t]?d[t](n):a(p(t,u(n)).f);if(!t.splice){if(y=t,y.deps&&f(y.deps,y.callback),!n)return;n.splice?(t=n,n=r,r=null):t=e}return n=n||function(){},"function"==typeof r&&(r=o,o=i),o?l(e,t,n,r):setTimeout(function(){l(e,t,n,r)},4),f},f.config=function(e){return f(e)},requirejs._defined=h,define=function(e,n,r){if("string"!=typeof e)throw new Error("See almond README: incorrect module build, no module name");n.splice||(r=n,n=[]),t(h,e)||t(g,e)||(g[e]=[e,n,r])},define.amd={jQuery:!0}}(),define("almond",function(){}),function(e,t){"object"===("undefined"==typeof module?"undefined":_typeof(module))&&"object"===_typeof(module.exports)?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){function n(e,t){t=t||te;var n=t.createElement("script");n.text=e,t.head.appendChild(n).parentNode.removeChild(n)}function r(e){var t=!!e&&"length"in e&&e.length,n=he.type(e);return"function"===n||he.isWindow(e)?!1:"array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e}function o(e,t,n){return he.isFunction(t)?he.grep(e,function(e,r){return!!t.call(e,r,e)!==n}):t.nodeType?he.grep(e,function(e){return e===t!==n}):"string"!=typeof t?he.grep(e,function(e){return ae.call(t,e)>-1!==n}):je.test(t)?he.filter(t,e,n):(t=he.filter(t,e),he.grep(e,function(e){return ae.call(t,e)>-1!==n&&1===e.nodeType}))}function i(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function a(e){var t={};return he.each(e.match(Ne)||[],function(e,n){t[n]=!0}),t}function s(e){return e}function u(e){throw e}function c(e,t,n){var r;try{e&&he.isFunction(r=e.promise)?r.call(e).done(t).fail(n):e&&he.isFunction(r=e.then)?r.call(e,t,n):t.call(void 0,e)}catch(e){n.call(void 0,e)}}function l(){te.removeEventListener("DOMContentLoaded",l),e.removeEventListener("load",l),he.ready()}function f(){this.expando=he.expando+f.uid++}function p(e){return"true"===e?!0:"false"===e?!1:"null"===e?null:e===+e+""?+e:Le.test(e)?JSON.parse(e):e}function d(e,t,n){var r;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(qe,"-$&").toLowerCase(),n=e.getAttribute(r),"string"==typeof n){try{n=p(n)}catch(e){}De.set(e,t,n)}else n=void 0;return n}function h(e,t,n,r){var o,i=1,a=20,s=r?function(){return r.cur()}:function(){return he.css(e,t,"")},u=s(),c=n&&n[3]||(he.cssNumber[t]?"":"px"),l=(he.cssNumber[t]||"px"!==c&&+u)&&He.exec(he.css(e,t));if(l&&l[3]!==c){c=c||l[3],n=n||[],l=+u||1;do i=i||".5",l/=i,he.style(e,t,l+c);while(i!==(i=s()/u)&&1!==i&&--a)}return n&&(l=+l||+u||0,o=n[1]?l+(n[1]+1)*n[2]:+n[2],r&&(r.unit=c,r.start=l,r.end=o)),o}function g(e){var t,n=e.ownerDocument,r=e.nodeName,o=Be[r];return o?o:(t=n.body.appendChild(n.createElement(r)),o=he.css(t,"display"),t.parentNode.removeChild(t),"none"===o&&(o="block"),Be[r]=o,o)}function y(e,t){for(var n,r,o=[],i=0,a=e.length;a>i;i++)r=e[i],r.style&&(n=r.style.display,t?("none"===n&&(o[i]=Fe.get(r,"display")||null,o[i]||(r.style.display="")),""===r.style.display&&ze(r)&&(o[i]=g(r))):"none"!==n&&(o[i]="none",Fe.set(r,"display",n)));for(i=0;a>i;i++)null!=o[i]&&(e[i].style.display=o[i]);return e}function m(e,t){var n;return n="undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t||"*"):"undefined"!=typeof e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&he.nodeName(e,t)?he.merge([e],n):n}function v(e,t){for(var n=0,r=e.length;r>n;n++)Fe.set(e[n],"globalEval",!t||Fe.get(t[n],"globalEval"))}function b(e,t,n,r,o){for(var i,a,s,u,c,l,f=t.createDocumentFragment(),p=[],d=0,h=e.length;h>d;d++)if(i=e[d],i||0===i)if("object"===he.type(i))he.merge(p,i.nodeType?[i]:i);else if(Je.test(i)){for(a=a||f.appendChild(t.createElement("div")),s=(Ue.exec(i)||["",""])[1].toLowerCase(),u=Xe[s]||Xe._default,a.innerHTML=u[1]+he.htmlPrefilter(i)+u[2],l=u[0];l--;)a=a.lastChild;he.merge(p,a.childNodes),a=f.firstChild,a.textContent=""}else p.push(t.createTextNode(i));for(f.textContent="",d=0;i=p[d++];)if(r&&he.inArray(i,r)>-1)o&&o.push(i);else if(c=he.contains(i.ownerDocument,i),a=m(f.appendChild(i),"script"),c&&v(a),n)for(l=0;i=a[l++];)Ge.test(i.type||"")&&n.push(i);return f}function w(){return!0}function x(){return!1}function T(){try{return te.activeElement}catch(e){}}function O(e,t,n,r,o,i){var a,s;if("object"===("undefined"==typeof t?"undefined":_typeof(t))){"string"!=typeof n&&(r=r||n,n=void 0);for(s in t)O(e,s,n,r,t[s],i);return e}if(null==r&&null==o?(o=n,r=n=void 0):null==o&&("string"==typeof n?(o=r,r=void 0):(o=r,r=n,n=void 0)),o===!1)o=x;else if(!o)return e;return 1===i&&(a=o,o=function(e){return he().off(e),a.apply(this,arguments)},o.guid=a.guid||(a.guid=he.guid++)),e.each(function(){he.event.add(this,t,o,r,n)})}function j(e,t){return he.nodeName(e,"table")&&he.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e:e}function S(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function k(e){var t=rt.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function C(e,t){var n,r,o,i,a,s,u,c;if(1===t.nodeType){if(Fe.hasData(e)&&(i=Fe.access(e),a=Fe.set(t,i),c=i.events)){delete a.handle,a.events={};for(o in c)for(n=0,r=c[o].length;r>n;n++)he.event.add(t,o,c[o][n])}De.hasData(e)&&(s=De.access(e),u=he.extend({},s),De.set(t,u))}}function A(e,t){var n=t.nodeName.toLowerCase();"input"===n&&Ve.test(e.type)?t.checked=e.checked:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}function E(e,t,r,o){t=oe.apply([],t);var i,a,s,u,c,l,f=0,p=e.length,d=p-1,h=t[0],g=he.isFunction(h);if(g||p>1&&"string"==typeof h&&!pe.checkClone&&nt.test(h))return e.each(function(n){var i=e.eq(n);g&&(t[0]=h.call(this,n,i.html())),E(i,t,r,o)});if(p&&(i=b(t,e[0].ownerDocument,!1,e,o),a=i.firstChild,1===i.childNodes.length&&(i=a),a||o)){for(s=he.map(m(i,"script"),S),u=s.length;p>f;f++)c=i,f!==d&&(c=he.clone(c,!0,!0),u&&he.merge(s,m(c,"script"))),r.call(e[f],c,f);if(u)for(l=s[s.length-1].ownerDocument,he.map(s,k),f=0;u>f;f++)c=s[f],Ge.test(c.type||"")&&!Fe.access(c,"globalEval")&&he.contains(l,c)&&(c.src?he._evalUrl&&he._evalUrl(c.src):n(c.textContent.replace(ot,""),l))}return e}function N(e,t,n){for(var r,o=t?he.filter(t,e):e,i=0;null!=(r=o[i]);i++)n||1!==r.nodeType||he.cleanData(m(r)),r.parentNode&&(n&&he.contains(r.ownerDocument,r)&&v(m(r,"script")),r.parentNode.removeChild(r));return e}function P(e,t,n){var r,o,i,a,s=e.style;return n=n||st(e),n&&(a=n.getPropertyValue(t)||n[t],""!==a||he.contains(e.ownerDocument,e)||(a=he.style(e,t)),!pe.pixelMarginRight()&&at.test(a)&&it.test(t)&&(r=s.width,o=s.minWidth,i=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=o,s.maxWidth=i)),void 0!==a?a+"":a}function I(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function _(e){if(e in pt)return e;for(var t=e[0].toUpperCase()+e.slice(1),n=ft.length;n--;)if(e=ft[n]+t,e in pt)return e}function M(e,t,n){var r=He.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function F(e,t,n,r,o){var i,a=0;for(i=n===(r?"border":"content")?4:"width"===t?1:0;4>i;i+=2)"margin"===n&&(a+=he.css(e,n+$e[i],!0,o)),r?("content"===n&&(a-=he.css(e,"padding"+$e[i],!0,o)),"margin"!==n&&(a-=he.css(e,"border"+$e[i]+"Width",!0,o))):(a+=he.css(e,"padding"+$e[i],!0,o),"padding"!==n&&(a+=he.css(e,"border"+$e[i]+"Width",!0,o)));return a}function D(e,t,n){var r,o=!0,i=st(e),a="border-box"===he.css(e,"boxSizing",!1,i);if(e.getClientRects().length&&(r=e.getBoundingClientRect()[t]),0>=r||null==r){if(r=P(e,t,i),(0>r||null==r)&&(r=e.style[t]),at.test(r))return r;o=a&&(pe.boxSizingReliable()||r===e.style[t]),r=parseFloat(r)||0}return r+F(e,t,n||(a?"border":"content"),o,i)+"px"}function L(e,t,n,r,o){return new L.prototype.init(e,t,n,r,o)}function q(){ht&&(e.requestAnimationFrame(q),he.fx.tick())}function R(){return e.setTimeout(function(){dt=void 0}),dt=he.now()}function H(e,t){var n,r=0,o={height:e};for(t=t?1:0;4>r;r+=2-t)n=$e[r],o["margin"+n]=o["padding"+n]=e;return t&&(o.opacity=o.width=e),o}function $(e,t,n){for(var r,o=(B.tweeners[t]||[]).concat(B.tweeners["*"]),i=0,a=o.length;a>i;i++)if(r=o[i].call(n,t,e))return r}function z(e,t,n){var r,o,i,a,s,u,c,l,f="width"in t||"height"in t,p=this,d={},h=e.style,g=e.nodeType&&ze(e),m=Fe.get(e,"fxshow");n.queue||(a=he._queueHooks(e,"fx"),null==a.unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,p.always(function(){p.always(function(){a.unqueued--,he.queue(e,"fx").length||a.empty.fire()})}));for(r in t)if(o=t[r],gt.test(o)){if(delete t[r],i=i||"toggle"===o,o===(g?"hide":"show")){if("show"!==o||!m||void 0===m[r])continue;g=!0}d[r]=m&&m[r]||he.style(e,r)}if(u=!he.isEmptyObject(t),u||!he.isEmptyObject(d)){f&&1===e.nodeType&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],c=m&&m.display,null==c&&(c=Fe.get(e,"display")),l=he.css(e,"display"),"none"===l&&(c?l=c:(y([e],!0),c=e.style.display||c,l=he.css(e,"display"),y([e]))),("inline"===l||"inline-block"===l&&null!=c)&&"none"===he.css(e,"float")&&(u||(p.done(function(){h.display=c}),null==c&&(l=h.display,c="none"===l?"":l)),h.display="inline-block")),n.overflow&&(h.overflow="hidden",p.always(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]})),u=!1;for(r in d)u||(m?"hidden"in m&&(g=m.hidden):m=Fe.access(e,"fxshow",{display:c}),i&&(m.hidden=!g),g&&y([e],!0),p.done(function(){g||y([e]),Fe.remove(e,"fxshow");for(r in d)he.style(e,r,d[r])})),u=$(g?m[r]:0,r,p),r in m||(m[r]=u.start,g&&(u.end=u.start,u.start=0))}}function W(e,t){var n,r,o,i,a;for(n in e)if(r=he.camelCase(n),o=t[r],i=e[n],he.isArray(i)&&(o=i[1],i=e[n]=i[0]),n!==r&&(e[r]=i,delete e[n]),a=he.cssHooks[r],a&&"expand"in a){i=a.expand(i),delete e[r];for(n in i)n in e||(e[n]=i[n],t[n]=o)}else t[r]=o}function B(e,t,n){var r,o,i=0,a=B.prefilters.length,s=he.Deferred().always(function(){delete u.elem}),u=function(){if(o)return!1;for(var t=dt||R(),n=Math.max(0,c.startTime+c.duration-t),r=n/c.duration||0,i=1-r,a=0,u=c.tweens.length;u>a;a++)c.tweens[a].run(i);return s.notifyWith(e,[c,i,n]),1>i&&u?n:(s.resolveWith(e,[c]),!1)},c=s.promise({elem:e,props:he.extend({},t),opts:he.extend(!0,{specialEasing:{},easing:he.easing._default},n),originalProperties:t,originalOptions:n,startTime:dt||R(),duration:n.duration,tweens:[],createTween:function(t,n){var r=he.Tween(e,c.opts,t,n,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(r),r},stop:function(t){var n=0,r=t?c.tweens.length:0;if(o)return this;for(o=!0;r>n;n++)c.tweens[n].run(1);return t?(s.notifyWith(e,[c,1,0]),s.resolveWith(e,[c,t])):s.rejectWith(e,[c,t]),this}}),l=c.props;for(W(l,c.opts.specialEasing);a>i;i++)if(r=B.prefilters[i].call(c,e,l,c.opts))return he.isFunction(r.stop)&&(he._queueHooks(c.elem,c.opts.queue).stop=he.proxy(r.stop,r)),r;return he.map(l,$,c),he.isFunction(c.opts.start)&&c.opts.start.call(e,c),he.fx.timer(he.extend(u,{elem:e,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function V(e){var t=e.match(Ne)||[];return t.join(" ")}function U(e){return e.getAttribute&&e.getAttribute("class")||""}function G(e,t,n,r){var o;if(he.isArray(t))he.each(t,function(t,o){n||kt.test(e)?r(e,o):G(e+"["+("object"===("undefined"==typeof o?"undefined":_typeof(o))&&null!=o?t:"")+"]",o,n,r)});else if(n||"object"!==he.type(t))r(e,t);else for(o in t)G(e+"["+o+"]",t[o],n,r)}function X(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,o=0,i=t.toLowerCase().match(Ne)||[];if(he.isFunction(n))for(;r=i[o++];)"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function J(e,t,n,r){function o(s){var u;return i[s]=!0,he.each(e[s]||[],function(e,s){var c=s(t,n,r);return"string"!=typeof c||a||i[c]?a?!(u=c):void 0:(t.dataTypes.unshift(c),o(c),!1)}),u}var i={},a=e===qt;return o(t.dataTypes[0])||!i["*"]&&o("*")}function Y(e,t){var n,r,o=he.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((o[n]?e:r||(r={}))[n]=t[n]);return r&&he.extend(!0,e,r),e}function Q(e,t,n){for(var r,o,i,a,s=e.contents,u=e.dataTypes;"*"===u[0];)u.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(o in s)if(s[o]&&s[o].test(r)){u.unshift(o);break}if(u[0]in n)i=u[0];else{for(o in n){if(!u[0]||e.converters[o+" "+u[0]]){i=o;break}a||(a=o)}i=i||a}return i?(i!==u[0]&&u.unshift(i),n[i]):void 0}function Z(e,t,n,r){var o,i,a,s,u,c={},l=e.dataTypes.slice();if(l[1])for(a in e.converters)c[a.toLowerCase()]=e.converters[a];for(i=l.shift();i;)if(e.responseFields[i]&&(n[e.responseFields[i]]=t),!u&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=i,i=l.shift())if("*"===i)i=u;else if("*"!==u&&u!==i){if(a=c[u+" "+i]||c["* "+i],!a)for(o in c)if(s=o.split(" "),s[1]===i&&(a=c[u+" "+s[0]]||c["* "+s[0]])){a===!0?a=c[o]:c[o]!==!0&&(i=s[0],l.unshift(s[1]));break}if(a!==!0)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+u+" to "+i}}}return{state:"success",data:t}}function K(e){return he.isWindow(e)?e:9===e.nodeType&&e.defaultView}var ee=[],te=e.document,ne=Object.getPrototypeOf,re=ee.slice,oe=ee.concat,ie=ee.push,ae=ee.indexOf,se={},ue=se.toString,ce=se.hasOwnProperty,le=ce.toString,fe=le.call(Object),pe={},de="3.1.1",he=function e(t,n){return new e.fn.init(t,n)},ge=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ye=/^-ms-/,me=/-([a-z])/g,ve=function(e,t){return t.toUpperCase()};he.fn=he.prototype={jquery:de,constructor:he,length:0,toArray:function(){return re.call(this)},get:function(e){return null==e?re.call(this):0>e?this[e+this.length]:this[e]},pushStack:function(e){var t=he.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return he.each(this,e)},map:function(e){return this.pushStack(he.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(re.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:ie,sort:ee.sort,splice:ee.splice},he.extend=he.fn.extend=function(){var e,t,n,r,o,i,a=arguments[0]||{},s=1,u=arguments.length,c=!1;for("boolean"==typeof a&&(c=a,a=arguments[s]||{},s++),"object"===("undefined"==typeof a?"undefined":_typeof(a))||he.isFunction(a)||(a={}),s===u&&(a=this,s--);u>s;s++)if(null!=(e=arguments[s]))for(t in e)n=a[t],r=e[t],a!==r&&(c&&r&&(he.isPlainObject(r)||(o=he.isArray(r)))?(o?(o=!1,i=n&&he.isArray(n)?n:[]):i=n&&he.isPlainObject(n)?n:{},a[t]=he.extend(c,i,r)):void 0!==r&&(a[t]=r));return a},he.extend({expando:"jQuery"+(de+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===he.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){var t=he.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},isPlainObject:function(e){var t,n;return e&&"[object Object]"===ue.call(e)?(t=ne(e))?(n=ce.call(t,"constructor")&&t.constructor,"function"==typeof n&&le.call(n)===fe):!0:!1},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"===("undefined"==typeof e?"undefined":_typeof(e))||"function"==typeof e?se[ue.call(e)]||"object":"undefined"==typeof e?"undefined":_typeof(e)},globalEval:function(e){n(e)},camelCase:function(e){return e.replace(ye,"ms-").replace(me,ve)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t){var n,o=0;if(r(e))for(n=e.length;n>o&&t.call(e[o],o,e[o])!==!1;o++);else for(o in e)if(t.call(e[o],o,e[o])===!1)break;return e},trim:function(e){return null==e?"":(e+"").replace(ge,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(r(Object(e))?he.merge(n,"string"==typeof e?[e]:e):ie.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:ae.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,o=e.length;n>r;r++)e[o++]=t[r];return e.length=o,e},grep:function(e,t,n){for(var r,o=[],i=0,a=e.length,s=!n;a>i;i++)r=!t(e[i],i),r!==s&&o.push(e[i]);return o},map:function(e,t,n){var o,i,a=0,s=[];if(r(e))for(o=e.length;o>a;a++)i=t(e[a],a,n),null!=i&&s.push(i);else for(a in e)i=t(e[a],a,n),null!=i&&s.push(i);return oe.apply([],s)},guid:1,proxy:function e(t,n){var r,o,e;return"string"==typeof n&&(r=t[n],n=t,t=r),he.isFunction(t)?(o=re.call(arguments,2),e=function(){return t.apply(n||this,o.concat(re.call(arguments)))},e.guid=t.guid=t.guid||he.guid++,e):void 0},now:Date.now,support:pe}),"function"==typeof Symbol&&(he.fn[Symbol.iterator]=ee[Symbol.iterator]),he.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){se["[object "+t+"]"]=t.toLowerCase()});var be=function(e){function t(e,t,n,r){var o,i,a,s,u,c,l,p=t&&t.ownerDocument,h=t?t.nodeType:9;if(n=n||[],"string"!=typeof e||!e||1!==h&&9!==h&&11!==h)return n;if(!r&&((t?t.ownerDocument||t:$)!==_&&I(t),t=t||_,F)){if(11!==h&&(u=me.exec(e)))if(o=u[1]){if(9===h){if(!(a=t.getElementById(o)))return n;if(a.id===o)return n.push(a),n}else if(p&&(a=p.getElementById(o))&&R(t,a)&&a.id===o)return n.push(a),n}else{if(u[2])return Z.apply(n,t.getElementsByTagName(e)),n;if((o=u[3])&&T.getElementsByClassName&&t.getElementsByClassName)return Z.apply(n,t.getElementsByClassName(o)),n}if(!(!T.qsa||U[e+" "]||D&&D.test(e))){if(1!==h)p=t,l=e;else if("object"!==t.nodeName.toLowerCase()){for((s=t.getAttribute("id"))?s=s.replace(xe,Te):t.setAttribute("id",s=H),c=k(e),i=c.length;i--;)c[i]="#"+s+" "+d(c[i]);l=c.join(","),p=ve.test(e)&&f(t.parentNode)||t}if(l)try{return Z.apply(n,p.querySelectorAll(l)),n}catch(e){}finally{s===H&&t.removeAttribute("id")}}}return A(e.replace(se,"$1"),t,n,r)}function n(){function e(n,r){return t.push(n+" ")>O.cacheLength&&delete e[t.shift()],e[n+" "]=r}var t=[];return e}function r(e){return e[H]=!0,e}function o(e){var t=_.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function i(e,t){for(var n=e.split("|"),r=n.length;r--;)O.attrHandle[n[r]]=t}function a(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function s(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function u(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function c(e){return function(t){return"form"in t?t.parentNode&&t.disabled===!1?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&je(t)===e:t.disabled===e:"label"in t?t.disabled===e:!1}}function l(e){return r(function(t){return t=+t,r(function(n,r){for(var o,i=e([],n.length,t),a=i.length;a--;)n[o=i[a]]&&(n[o]=!(r[o]=n[o]))})})}function f(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}function p(){}function d(e){for(var t=0,n=e.length,r="";n>t;t++)r+=e[t].value;return r}function h(e,t,n){var r=t.dir,o=t.next,i=o||r,a=n&&"parentNode"===i,s=W++;return t.first?function(t,n,o){for(;t=t[r];)if(1===t.nodeType||a)return e(t,n,o);return!1}:function(t,n,u){var c,l,f,p=[z,s];if(u){for(;t=t[r];)if((1===t.nodeType||a)&&e(t,n,u))return!0}else for(;t=t[r];)if(1===t.nodeType||a)if(f=t[H]||(t[H]={}),l=f[t.uniqueID]||(f[t.uniqueID]={}),o&&o===t.nodeName.toLowerCase())t=t[r]||t;else{if((c=l[i])&&c[0]===z&&c[1]===s)return p[2]=c[2];if(l[i]=p,p[2]=e(t,n,u))return!0}return!1}}function g(e){return e.length>1?function(t,n,r){for(var o=e.length;o--;)if(!e[o](t,n,r))return!1;return!0}:e[0]}function y(e,n,r){for(var o=0,i=n.length;i>o;o++)t(e,n[o],r);return r}function m(e,t,n,r,o){for(var i,a=[],s=0,u=e.length,c=null!=t;u>s;s++)(i=e[s])&&(!n||n(i,r,o))&&(a.push(i),c&&t.push(s));return a}function v(e,t,n,o,i,a){return o&&!o[H]&&(o=v(o)),i&&!i[H]&&(i=v(i,a)),r(function(r,a,s,u){var c,l,f,p=[],d=[],h=a.length,g=r||y(t||"*",s.nodeType?[s]:s,[]),v=!e||!r&&t?g:m(g,p,e,s,u),b=n?i||(r?e:h||o)?[]:a:v;if(n&&n(v,b,s,u),o)for(c=m(b,d),o(c,[],s,u),l=c.length;l--;)(f=c[l])&&(b[d[l]]=!(v[d[l]]=f));if(r){if(i||e){if(i){for(c=[],l=b.length;l--;)(f=b[l])&&c.push(v[l]=f);i(null,b=[],c,u)}for(l=b.length;l--;)(f=b[l])&&(c=i?ee(r,f):p[l])>-1&&(r[c]=!(a[c]=f))}}else b=m(b===a?b.splice(h,b.length):b),i?i(null,a,b,u):Z.apply(a,b)})}function b(e){for(var t,n,r,o=e.length,i=O.relative[e[0].type],a=i||O.relative[" "],s=i?1:0,u=h(function(e){return e===t},a,!0),c=h(function(e){return ee(t,e)>-1},a,!0),l=[function(e,n,r){var o=!i&&(r||n!==E)||((t=n).nodeType?u(e,n,r):c(e,n,r));return t=null,o}];o>s;s++)if(n=O.relative[e[s].type])l=[h(g(l),n)];else{if(n=O.filter[e[s].type].apply(null,e[s].matches),n[H]){for(r=++s;o>r&&!O.relative[e[r].type];r++);return v(s>1&&g(l),s>1&&d(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(se,"$1"),n,r>s&&b(e.slice(s,r)),o>r&&b(e=e.slice(r)),o>r&&d(e))}l.push(n)}return g(l)}function w(e,n){var o=n.length>0,i=e.length>0,a=function(r,a,s,u,c){var l,f,p,d=0,h="0",g=r&&[],y=[],v=E,b=r||i&&O.find.TAG("*",c),w=z+=null==v?1:Math.random()||.1,x=b.length;for(c&&(E=a===_||a||c);h!==x&&null!=(l=b[h]);h++){if(i&&l){for(f=0,a||l.ownerDocument===_||(I(l),s=!F);p=e[f++];)if(p(l,a||_,s)){u.push(l);break}c&&(z=w)}o&&((l=!p&&l)&&d--,r&&g.push(l))}if(d+=h,o&&h!==d){for(f=0;p=n[f++];)p(g,y,a,s);if(r){if(d>0)for(;h--;)g[h]||y[h]||(y[h]=Y.call(u));y=m(y)}Z.apply(u,y),c&&!r&&y.length>0&&d+n.length>1&&t.uniqueSort(u)}return c&&(z=w,E=v),g};return o?r(a):a}var x,T,O,j,S,k,C,A,E,N,P,I,_,M,F,D,L,q,R,H="sizzle"+1*new Date,$=e.document,z=0,W=0,B=n(),V=n(),U=n(),G=function(e,t){return e===t&&(P=!0),0},X={}.hasOwnProperty,J=[],Y=J.pop,Q=J.push,Z=J.push,K=J.slice,ee=function(e,t){for(var n=0,r=e.length;r>n;n++)if(e[n]===t)return n;return-1},te="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ne="[\\x20\\t\\r\\n\\f]",re="(?:\\\\.|[\\w-]|[^\x00-\\xa0])+",oe="\\["+ne+"*("+re+")(?:"+ne+"*([*^$|!~]?=)"+ne+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+re+"))|)"+ne+"*\\]",ie=":("+re+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+oe+")*)|.*)\\)|)",ae=new RegExp(ne+"+","g"),se=new RegExp("^"+ne+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ne+"+$","g"),ue=new RegExp("^"+ne+"*,"+ne+"*"),ce=new RegExp("^"+ne+"*([>+~]|"+ne+")"+ne+"*"),le=new RegExp("="+ne+"*([^\\]'\"]*?)"+ne+"*\\]","g"),fe=new RegExp(ie),pe=new RegExp("^"+re+"$"),de={ID:new RegExp("^#("+re+")"),CLASS:new RegExp("^\\.("+re+")"),TAG:new RegExp("^("+re+"|[*])"),ATTR:new RegExp("^"+oe),PSEUDO:new RegExp("^"+ie),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ne+"*(even|odd|(([+-]|)(\\d*)n|)"+ne+"*(?:([+-]|)"+ne+"*(\\d+)|))"+ne+"*\\)|)","i"),bool:new RegExp("^(?:"+te+")$","i"),needsContext:new RegExp("^"+ne+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ne+"*((?:-\\d)?\\d*)"+ne+"*\\)|)(?=[^-]|$)","i")},he=/^(?:input|select|textarea|button)$/i,ge=/^h\d$/i,ye=/^[^{]+\{\s*\[native \w/,me=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ve=/[+~]/,be=new RegExp("\\\\([\\da-f]{1,6}"+ne+"?|("+ne+")|.)","ig"),we=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:0>r?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},xe=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,Te=function(e,t){return t?"\x00"===e?"\ufffd":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},Oe=function(){I()},je=h(function(e){return e.disabled===!0&&("form"in e||"label"in e)},{dir:"parentNode",next:"legend"});try{Z.apply(J=K.call($.childNodes),$.childNodes),J[$.childNodes.length].nodeType}catch(e){Z={apply:J.length?function(e,t){Q.apply(e,K.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}T=t.support={},S=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},I=t.setDocument=function(e){var t,n,r=e?e.ownerDocument||e:$;return r!==_&&9===r.nodeType&&r.documentElement?(_=r,M=_.documentElement,F=!S(_),$!==_&&(n=_.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",Oe,!1):n.attachEvent&&n.attachEvent("onunload",Oe)),T.attributes=o(function(e){return e.className="i",!e.getAttribute("className")}),T.getElementsByTagName=o(function(e){return e.appendChild(_.createComment("")),!e.getElementsByTagName("*").length}),T.getElementsByClassName=ye.test(_.getElementsByClassName),T.getById=o(function(e){return M.appendChild(e).id=H,!_.getElementsByName||!_.getElementsByName(H).length}),T.getById?(O.filter.ID=function(e){var t=e.replace(be,we);return function(e){return e.getAttribute("id")===t}},O.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&F){var n=t.getElementById(e);return n?[n]:[]}}):(O.filter.ID=function(e){var t=e.replace(be,we);return function(e){var n="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},O.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&F){var n,r,o,i=t.getElementById(e);if(i){if(n=i.getAttributeNode("id"),n&&n.value===e)return[i];for(o=t.getElementsByName(e),r=0;i=o[r++];)if(n=i.getAttributeNode("id"),n&&n.value===e)return[i]}return[]}}),O.find.TAG=T.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):T.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],o=0,i=t.getElementsByTagName(e);if("*"===e){for(;n=i[o++];)1===n.nodeType&&r.push(n);return r}return i},O.find.CLASS=T.getElementsByClassName&&function(e,t){return"undefined"!=typeof t.getElementsByClassName&&F?t.getElementsByClassName(e):void 0},L=[],D=[],(T.qsa=ye.test(_.querySelectorAll))&&(o(function(e){M.appendChild(e).innerHTML="<a id='"+H+"'></a><select id='"+H+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&D.push("[*^$]="+ne+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||D.push("\\["+ne+"*(?:value|"+te+")"),e.querySelectorAll("[id~="+H+"-]").length||D.push("~="),e.querySelectorAll(":checked").length||D.push(":checked"),e.querySelectorAll("a#"+H+"+*").length||D.push(".#.+[+~]")}),o(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=_.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&D.push("name"+ne+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&D.push(":enabled",":disabled"),M.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&D.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),D.push(",.*:")})),(T.matchesSelector=ye.test(q=M.matches||M.webkitMatchesSelector||M.mozMatchesSelector||M.oMatchesSelector||M.msMatchesSelector))&&o(function(e){T.disconnectedMatch=q.call(e,"*"),q.call(e,"[s!='']:x"),L.push("!=",ie)}),D=D.length&&new RegExp(D.join("|")),L=L.length&&new RegExp(L.join("|")),t=ye.test(M.compareDocumentPosition),R=t||ye.test(M.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},G=t?function(e,t){if(e===t)return P=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n?n:(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&n||!T.sortDetached&&t.compareDocumentPosition(e)===n?e===_||e.ownerDocument===$&&R($,e)?-1:t===_||t.ownerDocument===$&&R($,t)?1:N?ee(N,e)-ee(N,t):0:4&n?-1:1)}:function(e,t){if(e===t)return P=!0,0;var n,r=0,o=e.parentNode,i=t.parentNode,s=[e],u=[t];if(!o||!i)return e===_?-1:t===_?1:o?-1:i?1:N?ee(N,e)-ee(N,t):0;if(o===i)return a(e,t);for(n=e;n=n.parentNode;)s.unshift(n);for(n=t;n=n.parentNode;)u.unshift(n);for(;s[r]===u[r];)r++;return r?a(s[r],u[r]):s[r]===$?-1:u[r]===$?1:0},_):_},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==_&&I(e),n=n.replace(le,"='$1']"),!(!T.matchesSelector||!F||U[n+" "]||L&&L.test(n)||D&&D.test(n)))try{var r=q.call(e,n);if(r||T.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(e){}return t(n,_,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==_&&I(e),R(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==_&&I(e);var n=O.attrHandle[t.toLowerCase()],r=n&&X.call(O.attrHandle,t.toLowerCase())?n(e,t,!F):void 0;return void 0!==r?r:T.attributes||!F?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},t.escape=function(e){return(e+"").replace(xe,Te)},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],r=0,o=0;if(P=!T.detectDuplicates,N=!T.sortStable&&e.slice(0),e.sort(G),P){for(;t=e[o++];)t===e[o]&&(r=n.push(o));for(;r--;)e.splice(n[r],1)}return N=null,e},j=t.getText=function(e){var t,n="",r=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=j(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[r++];)n+=j(t);return n},O=t.selectors={cacheLength:50,createPseudo:r,match:de,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(be,we),e[3]=(e[3]||e[4]||e[5]||"").replace(be,we),
"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return de.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&fe.test(n)&&(t=k(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(be,we).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=B[e+" "];return t||(t=new RegExp("(^|"+ne+")"+e+"("+ne+"|$)"))&&B(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,n,r){return function(o){var i=t.attr(o,e);return null==i?"!="===n:n?(i+="","="===n?i===r:"!="===n?i!==r:"^="===n?r&&0===i.indexOf(r):"*="===n?r&&i.indexOf(r)>-1:"$="===n?r&&i.slice(-r.length)===r:"~="===n?(" "+i.replace(ae," ")+" ").indexOf(r)>-1:"|="===n?i===r||i.slice(0,r.length+1)===r+"-":!1):!0}},CHILD:function(e,t,n,r,o){var i="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===o?function(e){return!!e.parentNode}:function(t,n,u){var c,l,f,p,d,h,g=i!==a?"nextSibling":"previousSibling",y=t.parentNode,m=s&&t.nodeName.toLowerCase(),v=!u&&!s,b=!1;if(y){if(i){for(;g;){for(p=t;p=p[g];)if(s?p.nodeName.toLowerCase()===m:1===p.nodeType)return!1;h=g="only"===e&&!h&&"nextSibling"}return!0}if(h=[a?y.firstChild:y.lastChild],a&&v){for(p=y,f=p[H]||(p[H]={}),l=f[p.uniqueID]||(f[p.uniqueID]={}),c=l[e]||[],d=c[0]===z&&c[1],b=d&&c[2],p=d&&y.childNodes[d];p=++d&&p&&p[g]||(b=d=0)||h.pop();)if(1===p.nodeType&&++b&&p===t){l[e]=[z,d,b];break}}else if(v&&(p=t,f=p[H]||(p[H]={}),l=f[p.uniqueID]||(f[p.uniqueID]={}),c=l[e]||[],d=c[0]===z&&c[1],b=d),b===!1)for(;(p=++d&&p&&p[g]||(b=d=0)||h.pop())&&((s?p.nodeName.toLowerCase()!==m:1!==p.nodeType)||!++b||(v&&(f=p[H]||(p[H]={}),l=f[p.uniqueID]||(f[p.uniqueID]={}),l[e]=[z,b]),p!==t)););return b-=o,b===r||b%r===0&&b/r>=0}}},PSEUDO:function(e,n){var o,i=O.pseudos[e]||O.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return i[H]?i(n):i.length>1?(o=[e,e,"",n],O.setFilters.hasOwnProperty(e.toLowerCase())?r(function(e,t){for(var r,o=i(e,n),a=o.length;a--;)r=ee(e,o[a]),e[r]=!(t[r]=o[a])}):function(e){return i(e,0,o)}):i}},pseudos:{not:r(function(e){var t=[],n=[],o=C(e.replace(se,"$1"));return o[H]?r(function(e,t,n,r){for(var i,a=o(e,null,r,[]),s=e.length;s--;)(i=a[s])&&(e[s]=!(t[s]=i))}):function(e,r,i){return t[0]=e,o(t,null,i,n),t[0]=null,!n.pop()}}),has:r(function(e){return function(n){return t(e,n).length>0}}),contains:r(function(e){return e=e.replace(be,we),function(t){return(t.textContent||t.innerText||j(t)).indexOf(e)>-1}}),lang:r(function(e){return pe.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(be,we).toLowerCase(),function(t){var n;do if(n=F?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===M},focus:function(e){return e===_.activeElement&&(!_.hasFocus||_.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:c(!1),disabled:c(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!O.pseudos.empty(e)},header:function(e){return ge.test(e.nodeName)},input:function(e){return he.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:l(function(){return[0]}),last:l(function(e,t){return[t-1]}),eq:l(function(e,t,n){return[0>n?n+t:n]}),even:l(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:l(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:l(function(e,t,n){for(var r=0>n?n+t:n;--r>=0;)e.push(r);return e}),gt:l(function(e,t,n){for(var r=0>n?n+t:n;++r<t;)e.push(r);return e})}},O.pseudos.nth=O.pseudos.eq;for(x in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})O.pseudos[x]=s(x);for(x in{submit:!0,reset:!0})O.pseudos[x]=u(x);return p.prototype=O.filters=O.pseudos,O.setFilters=new p,k=t.tokenize=function(e,n){var r,o,i,a,s,u,c,l=V[e+" "];if(l)return n?0:l.slice(0);for(s=e,u=[],c=O.preFilter;s;){(!r||(o=ue.exec(s)))&&(o&&(s=s.slice(o[0].length)||s),u.push(i=[])),r=!1,(o=ce.exec(s))&&(r=o.shift(),i.push({value:r,type:o[0].replace(se," ")}),s=s.slice(r.length));for(a in O.filter)!(o=de[a].exec(s))||c[a]&&!(o=c[a](o))||(r=o.shift(),i.push({value:r,type:a,matches:o}),s=s.slice(r.length));if(!r)break}return n?s.length:s?t.error(e):V(e,u).slice(0)},C=t.compile=function(e,t){var n,r=[],o=[],i=U[e+" "];if(!i){for(t||(t=k(e)),n=t.length;n--;)i=b(t[n]),i[H]?r.push(i):o.push(i);i=U(e,w(o,r)),i.selector=e}return i},A=t.select=function(e,t,n,r){var o,i,a,s,u,c="function"==typeof e&&e,l=!r&&k(e=c.selector||e);if(n=n||[],1===l.length){if(i=l[0]=l[0].slice(0),i.length>2&&"ID"===(a=i[0]).type&&9===t.nodeType&&F&&O.relative[i[1].type]){if(t=(O.find.ID(a.matches[0].replace(be,we),t)||[])[0],!t)return n;c&&(t=t.parentNode),e=e.slice(i.shift().value.length)}for(o=de.needsContext.test(e)?0:i.length;o--&&(a=i[o],!O.relative[s=a.type]);)if((u=O.find[s])&&(r=u(a.matches[0].replace(be,we),ve.test(i[0].type)&&f(t.parentNode)||t))){if(i.splice(o,1),e=r.length&&d(i),!e)return Z.apply(n,r),n;break}}return(c||C(e,l))(r,t,!F,n,!t||ve.test(e)&&f(t.parentNode)||t),n},T.sortStable=H.split("").sort(G).join("")===H,T.detectDuplicates=!!P,I(),T.sortDetached=o(function(e){return 1&e.compareDocumentPosition(_.createElement("fieldset"))}),o(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||i("type|href|height|width",function(e,t,n){return n?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),T.attributes&&o(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||i("value",function(e,t,n){return n||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),o(function(e){return null==e.getAttribute("disabled")})||i(te,function(e,t,n){var r;return n?void 0:e[t]===!0?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),t}(e);he.find=be,he.expr=be.selectors,he.expr[":"]=he.expr.pseudos,he.uniqueSort=he.unique=be.uniqueSort,he.text=be.getText,he.isXMLDoc=be.isXML,he.contains=be.contains,he.escapeSelector=be.escape;var we=function(e,t,n){for(var r=[],o=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(o&&he(e).is(n))break;r.push(e)}return r},xe=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},Te=he.expr.match.needsContext,Oe=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i,je=/^.[^:#\[\.,]*$/;he.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?he.find.matchesSelector(r,e)?[r]:[]:he.find.matches(e,he.grep(t,function(e){return 1===e.nodeType}))},he.fn.extend({find:function(e){var t,n,r=this.length,o=this;if("string"!=typeof e)return this.pushStack(he(e).filter(function(){for(t=0;r>t;t++)if(he.contains(o[t],this))return!0}));for(n=this.pushStack([]),t=0;r>t;t++)he.find(e,o[t],n);return r>1?he.uniqueSort(n):n},filter:function(e){return this.pushStack(o(this,e||[],!1))},not:function(e){return this.pushStack(o(this,e||[],!0))},is:function(e){return!!o(this,"string"==typeof e&&Te.test(e)?he(e):e||[],!1).length}});var Se,ke=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,Ce=he.fn.init=function(e,t,n){var r,o;if(!e)return this;if(n=n||Se,"string"==typeof e){if(r="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:ke.exec(e),!r||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof he?t[0]:t,he.merge(this,he.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:te,!0)),Oe.test(r[1])&&he.isPlainObject(t))for(r in t)he.isFunction(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return o=te.getElementById(r[2]),o&&(this[0]=o,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):he.isFunction(e)?void 0!==n.ready?n.ready(e):e(he):he.makeArray(e,this)};Ce.prototype=he.fn,Se=he(te);var Ae=/^(?:parents|prev(?:Until|All))/,Ee={children:!0,contents:!0,next:!0,prev:!0};he.fn.extend({has:function(e){var t=he(e,this),n=t.length;return this.filter(function(){for(var e=0;n>e;e++)if(he.contains(this,t[e]))return!0})},closest:function(e,t){var n,r=0,o=this.length,i=[],a="string"!=typeof e&&he(e);if(!Te.test(e))for(;o>r;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&he.find.matchesSelector(n,e))){i.push(n);break}return this.pushStack(i.length>1?he.uniqueSort(i):i)},index:function(e){return e?"string"==typeof e?ae.call(he(e),this[0]):ae.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(he.uniqueSort(he.merge(this.get(),he(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),he.each({parent:function e(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(e){return we(e,"parentNode")},parentsUntil:function(e,t,n){return we(e,"parentNode",n)},next:function(e){return i(e,"nextSibling")},prev:function(e){return i(e,"previousSibling")},nextAll:function(e){return we(e,"nextSibling")},prevAll:function(e){return we(e,"previousSibling")},nextUntil:function(e,t,n){return we(e,"nextSibling",n)},prevUntil:function(e,t,n){return we(e,"previousSibling",n)},siblings:function(e){return xe((e.parentNode||{}).firstChild,e)},children:function(e){return xe(e.firstChild)},contents:function(e){return e.contentDocument||he.merge([],e.childNodes)}},function(e,t){he.fn[e]=function(n,r){var o=he.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(o=he.filter(r,o)),this.length>1&&(Ee[e]||he.uniqueSort(o),Ae.test(e)&&o.reverse()),this.pushStack(o)}});var Ne=/[^\x20\t\r\n\f]+/g;he.Callbacks=function(e){e="string"==typeof e?a(e):he.extend({},e);var t,n,r,o,i=[],s=[],u=-1,c=function(){for(o=e.once,r=t=!0;s.length;u=-1)for(n=s.shift();++u<i.length;)i[u].apply(n[0],n[1])===!1&&e.stopOnFalse&&(u=i.length,n=!1);e.memory||(n=!1),t=!1,o&&(i=n?[]:"")},l={add:function(){return i&&(n&&!t&&(u=i.length-1,s.push(n)),function t(n){he.each(n,function(n,r){he.isFunction(r)?e.unique&&l.has(r)||i.push(r):r&&r.length&&"string"!==he.type(r)&&t(r)})}(arguments),n&&!t&&c()),this},remove:function(){return he.each(arguments,function(e,t){for(var n;(n=he.inArray(t,i,n))>-1;)i.splice(n,1),u>=n&&u--}),this},has:function(e){return e?he.inArray(e,i)>-1:i.length>0},empty:function(){return i&&(i=[]),this},disable:function(){return o=s=[],i=n="",this},disabled:function(){return!i},lock:function(){return o=s=[],n||t||(i=n=""),this},locked:function(){return!!o},fireWith:function(e,n){return o||(n=n||[],n=[e,n.slice?n.slice():n],s.push(n),t||c()),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!r}};return l},he.extend({Deferred:function(t){var n=[["notify","progress",he.Callbacks("memory"),he.Callbacks("memory"),2],["resolve","done",he.Callbacks("once memory"),he.Callbacks("once memory"),0,"resolved"],["reject","fail",he.Callbacks("once memory"),he.Callbacks("once memory"),1,"rejected"]],r="pending",o={state:function(){return r},always:function(){return i.done(arguments).fail(arguments),this},catch:function(e){return o.then(null,e)},pipe:function(){var e=arguments;return he.Deferred(function(t){he.each(n,function(n,r){var o=he.isFunction(e[r[4]])&&e[r[4]];i[r[1]](function(){var e=o&&o.apply(this,arguments);e&&he.isFunction(e.promise)?e.promise().progress(t.notify).done(t.resolve).fail(t.reject):t[r[0]+"With"](this,o?[e]:arguments)})}),e=null}).promise()},then:function(t,r,o){function i(t,n,r,o){return function(){var c=this,l=arguments,f=function(){var e,f;if(!(a>t)){if(e=r.apply(c,l),e===n.promise())throw new TypeError("Thenable self-resolution");f=e&&("object"===("undefined"==typeof e?"undefined":_typeof(e))||"function"==typeof e)&&e.then,he.isFunction(f)?o?f.call(e,i(a,n,s,o),i(a,n,u,o)):(a++,f.call(e,i(a,n,s,o),i(a,n,u,o),i(a,n,s,n.notifyWith))):(r!==s&&(c=void 0,l=[e]),(o||n.resolveWith)(c,l))}},p=o?f:function(){try{f()}catch(e){he.Deferred.exceptionHook&&he.Deferred.exceptionHook(e,p.stackTrace),t+1>=a&&(r!==u&&(c=void 0,l=[e]),n.rejectWith(c,l))}};t?p():(he.Deferred.getStackHook&&(p.stackTrace=he.Deferred.getStackHook()),e.setTimeout(p))}}var a=0;return he.Deferred(function(e){n[0][3].add(i(0,e,he.isFunction(o)?o:s,e.notifyWith)),n[1][3].add(i(0,e,he.isFunction(t)?t:s)),n[2][3].add(i(0,e,he.isFunction(r)?r:u))}).promise()},promise:function(e){return null!=e?he.extend(e,o):o}},i={};return he.each(n,function(e,t){var a=t[2],s=t[5];o[t[1]]=a.add,s&&a.add(function(){r=s},n[3-e][2].disable,n[0][2].lock),a.add(t[3].fire),i[t[0]]=function(){return i[t[0]+"With"](this===i?void 0:this,arguments),this},i[t[0]+"With"]=a.fireWith}),o.promise(i),t&&t.call(i,i),i},when:function(e){var t=arguments.length,n=t,r=Array(n),o=re.call(arguments),i=he.Deferred(),a=function(e){return function(n){r[e]=this,o[e]=arguments.length>1?re.call(arguments):n,--t||i.resolveWith(r,o)}};if(1>=t&&(c(e,i.done(a(n)).resolve,i.reject),"pending"===i.state()||he.isFunction(o[n]&&o[n].then)))return i.then();for(;n--;)c(o[n],a(n),i.reject);return i.promise()}});var Pe=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;he.Deferred.exceptionHook=function(t,n){e.console&&e.console.warn&&t&&Pe.test(t.name)&&e.console.warn("jQuery.Deferred exception: "+t.message,t.stack,n)},he.readyException=function(t){e.setTimeout(function(){throw t})};var Ie=he.Deferred();he.fn.ready=function(e){return Ie.then(e).catch(function(e){he.readyException(e)}),this},he.extend({isReady:!1,readyWait:1,holdReady:function(e){e?he.readyWait++:he.ready(!0)},ready:function(e){(e===!0?--he.readyWait:he.isReady)||(he.isReady=!0,e!==!0&&--he.readyWait>0||Ie.resolveWith(te,[he]))}}),he.ready.then=Ie.then,"complete"===te.readyState||"loading"!==te.readyState&&!te.documentElement.doScroll?e.setTimeout(he.ready):(te.addEventListener("DOMContentLoaded",l),e.addEventListener("load",l));var _e=function e(t,n,r,o,i,a,s){var u=0,c=t.length,l=null==r;if("object"===he.type(r)){i=!0;for(u in r)e(t,n,u,r[u],!0,a,s)}else if(void 0!==o&&(i=!0,he.isFunction(o)||(s=!0),l&&(s?(n.call(t,o),n=null):(l=n,n=function(e,t,n){return l.call(he(e),n)})),n))for(;c>u;u++)n(t[u],r,s?o:o.call(t[u],u,n(t[u],r)));return i?t:l?n.call(t):c?n(t[0],r):a},Me=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};f.uid=1,f.prototype={cache:function(e){var t=e[this.expando];return t||(t={},Me(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,o=this.cache(e);if("string"==typeof t)o[he.camelCase(t)]=n;else for(r in t)o[he.camelCase(r)]=t[r];return o},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][he.camelCase(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r=e[this.expando];if(void 0!==r){if(void 0!==t){he.isArray(t)?t=t.map(he.camelCase):(t=he.camelCase(t),t=t in r?[t]:t.match(Ne)||[]),n=t.length;for(;n--;)delete r[t[n]]}(void 0===t||he.isEmptyObject(r))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!he.isEmptyObject(t)}};var Fe=new f,De=new f,Le=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,qe=/[A-Z]/g;he.extend({hasData:function(e){return De.hasData(e)||Fe.hasData(e)},data:function(e,t,n){return De.access(e,t,n)},removeData:function(e,t){De.remove(e,t)},_data:function(e,t,n){return Fe.access(e,t,n)},_removeData:function(e,t){Fe.remove(e,t)}}),he.fn.extend({data:function e(t,n){var r,o,e,i=this[0],a=i&&i.attributes;if(void 0===t){if(this.length&&(e=De.get(i),1===i.nodeType&&!Fe.get(i,"hasDataAttrs"))){for(r=a.length;r--;)a[r]&&(o=a[r].name,0===o.indexOf("data-")&&(o=he.camelCase(o.slice(5)),d(i,o,e[o])));Fe.set(i,"hasDataAttrs",!0)}return e}return"object"===("undefined"==typeof t?"undefined":_typeof(t))?this.each(function(){De.set(this,t)}):_e(this,function(e){var n;if(i&&void 0===e){if(n=De.get(i,t),void 0!==n)return n;if(n=d(i,t),void 0!==n)return n}else this.each(function(){De.set(this,t,e)})},null,n,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){De.remove(this,e)})}}),he.extend({queue:function e(t,n,r){var e;return t?(n=(n||"fx")+"queue",e=Fe.get(t,n),r&&(!e||he.isArray(r)?e=Fe.access(t,n,he.makeArray(r)):e.push(r)),e||[]):void 0},dequeue:function(e,t){t=t||"fx";var n=he.queue(e,t),r=n.length,o=n.shift(),i=he._queueHooks(e,t),a=function(){he.dequeue(e,t)};"inprogress"===o&&(o=n.shift(),r--),o&&("fx"===t&&n.unshift("inprogress"),delete i.stop,o.call(e,a,i)),!r&&i&&i.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return Fe.get(e,n)||Fe.access(e,n,{empty:he.Callbacks("once memory").add(function(){Fe.remove(e,[t+"queue",n])})})}}),he.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?he.queue(this[0],e):void 0===t?this:this.each(function(){var n=he.queue(this,e,t);he._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&he.dequeue(this,e)})},dequeue:function(e){return this.each(function(){he.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,o=he.Deferred(),i=this,a=this.length,s=function(){--r||o.resolveWith(i,[i])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)n=Fe.get(i[a],e+"queueHooks"),n&&n.empty&&(r++,n.empty.add(s));return s(),o.promise(t)}});var Re=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,He=new RegExp("^(?:([+-])=|)("+Re+")([a-z%]*)$","i"),$e=["Top","Right","Bottom","Left"],ze=function(e,t){return e=t||e,"none"===e.style.display||""===e.style.display&&he.contains(e.ownerDocument,e)&&"none"===he.css(e,"display")},We=function(e,t,n,r){var o,i,a={};for(i in t)a[i]=e.style[i],e.style[i]=t[i];o=n.apply(e,r||[]);for(i in t)e.style[i]=a[i];return o},Be={};he.fn.extend({show:function(){return y(this,!0)},hide:function(){return y(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){ze(this)?he(this).show():he(this).hide()})}});var Ve=/^(?:checkbox|radio)$/i,Ue=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,Ge=/^$|\/(?:java|ecma)script/i,Xe={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Xe.optgroup=Xe.option,Xe.tbody=Xe.tfoot=Xe.colgroup=Xe.caption=Xe.thead,Xe.th=Xe.td;var Je=/<|&#?\w+;/;!function(){var e=te.createDocumentFragment(),t=e.appendChild(te.createElement("div")),n=te.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),t.appendChild(n),pe.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",pe.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue}();var Ye=te.documentElement,Qe=/^key/,Ze=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Ke=/^([^.]*)(?:\.(.+)|)/;he.event={global:{},add:function(e,t,n,r,o){var i,a,s,u,c,l,f,p,d,h,g,y=Fe.get(e);if(y)for(n.handler&&(i=n,n=i.handler,o=i.selector),o&&he.find.matchesSelector(Ye,o),n.guid||(n.guid=he.guid++),(u=y.events)||(u=y.events={}),(a=y.handle)||(a=y.handle=function(t){return"undefined"!=typeof he&&he.event.triggered!==t.type?he.event.dispatch.apply(e,arguments):void 0}),t=(t||"").match(Ne)||[""],c=t.length;c--;)s=Ke.exec(t[c])||[],d=g=s[1],h=(s[2]||"").split(".").sort(),d&&(f=he.event.special[d]||{},d=(o?f.delegateType:f.bindType)||d,f=he.event.special[d]||{},l=he.extend({type:d,origType:g,data:r,handler:n,guid:n.guid,selector:o,needsContext:o&&he.expr.match.needsContext.test(o),namespace:h.join(".")},i),(p=u[d])||(p=u[d]=[],p.delegateCount=0,f.setup&&f.setup.call(e,r,h,a)!==!1||e.addEventListener&&e.addEventListener(d,a)),f.add&&(f.add.call(e,l),l.handler.guid||(l.handler.guid=n.guid)),o?p.splice(p.delegateCount++,0,l):p.push(l),he.event.global[d]=!0)},remove:function(e,t,n,r,o){var i,a,s,u,c,l,f,p,d,h,g,y=Fe.hasData(e)&&Fe.get(e);if(y&&(u=y.events)){for(t=(t||"").match(Ne)||[""],c=t.length;c--;)if(s=Ke.exec(t[c])||[],d=g=s[1],h=(s[2]||"").split(".").sort(),d){for(f=he.event.special[d]||{},d=(r?f.delegateType:f.bindType)||d,p=u[d]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=i=p.length;i--;)l=p[i],!o&&g!==l.origType||n&&n.guid!==l.guid||s&&!s.test(l.namespace)||r&&r!==l.selector&&("**"!==r||!l.selector)||(p.splice(i,1),l.selector&&p.delegateCount--,f.remove&&f.remove.call(e,l));a&&!p.length&&(f.teardown&&f.teardown.call(e,h,y.handle)!==!1||he.removeEvent(e,d,y.handle),delete u[d])}else for(d in u)he.event.remove(e,d+t[c],n,r,!0);he.isEmptyObject(u)&&Fe.remove(e,"handle events")}},dispatch:function(e){var t,n,r,o,i,a,s=he.event.fix(e),u=new Array(arguments.length),c=(Fe.get(this,"events")||{})[s.type]||[],l=he.event.special[s.type]||{};for(u[0]=s,t=1;t<arguments.length;t++)u[t]=arguments[t];if(s.delegateTarget=this,!l.preDispatch||l.preDispatch.call(this,s)!==!1){for(a=he.event.handlers.call(this,s,c),t=0;(o=a[t++])&&!s.isPropagationStopped();)for(s.currentTarget=o.elem,n=0;(i=o.handlers[n++])&&!s.isImmediatePropagationStopped();)(!s.rnamespace||s.rnamespace.test(i.namespace))&&(s.handleObj=i,s.data=i.data,r=((he.event.special[i.origType]||{}).handle||i.handler).apply(o.elem,u),void 0!==r&&(s.result=r)===!1&&(s.preventDefault(),s.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,s),s.result}},handlers:function(e,t){var n,r,o,i,a,s=[],u=t.delegateCount,c=e.target;if(u&&c.nodeType&&!("click"===e.type&&e.button>=1))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==e.type||c.disabled!==!0)){for(i=[],a={},n=0;u>n;n++)r=t[n],o=r.selector+" ",void 0===a[o]&&(a[o]=r.needsContext?he(o,this).index(c)>-1:he.find(o,this,null,[c]).length),a[o]&&i.push(r);i.length&&s.push({elem:c,handlers:i})}return c=this,u<t.length&&s.push({elem:c,handlers:t.slice(u)}),s},addProp:function(e,t){Object.defineProperty(he.Event.prototype,e,{enumerable:!0,configurable:!0,get:he.isFunction(t)?function(){return this.originalEvent?t(this.originalEvent):void 0}:function(){return this.originalEvent?this.originalEvent[e]:void 0},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[he.expando]?e:new he.Event(e)},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==T()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===T()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&he.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(e){return he.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},he.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},he.Event=function(e,t){return this instanceof he.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&e.returnValue===!1?w:x,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&he.extend(this,t),this.timeStamp=e&&e.timeStamp||he.now(),void(this[he.expando]=!0)):new he.Event(e,t)},he.Event.prototype={constructor:he.Event,isDefaultPrevented:x,isPropagationStopped:x,isImmediatePropagationStopped:x,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=w,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=w,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=w,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},he.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&Qe.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&Ze.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},he.event.addProp),he.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){he.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,o=e.relatedTarget,i=e.handleObj;return(!o||o!==r&&!he.contains(r,o))&&(e.type=i.origType,n=i.handler.apply(this,arguments),e.type=t),n}}}),he.fn.extend({on:function(e,t,n,r){return O(this,e,t,n,r)},one:function(e,t,n,r){return O(this,e,t,n,r,1)},off:function(e,t,n){var r,o;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,he(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"===("undefined"==typeof e?"undefined":_typeof(e))){for(o in e)this.off(o,t,e[o]);return this}return(t===!1||"function"==typeof t)&&(n=t,t=void 0),n===!1&&(n=x),this.each(function(){he.event.remove(this,e,n,t)})}});var et=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,tt=/<script|<style|<link/i,nt=/checked\s*(?:[^=]|=\s*.checked.)/i,rt=/^true\/(.*)/,ot=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;he.extend({htmlPrefilter:function(e){return e.replace(et,"<$1></$2>")},clone:function e(t,n,r){var o,i,a,s,e=t.cloneNode(!0),u=he.contains(t.ownerDocument,t);if(!(pe.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||he.isXMLDoc(t)))for(s=m(e),a=m(t),o=0,i=a.length;i>o;o++)A(a[o],s[o]);if(n)if(r)for(a=a||m(t),s=s||m(e),o=0,i=a.length;i>o;o++)C(a[o],s[o]);else C(t,e);return s=m(e,"script"),s.length>0&&v(s,!u&&m(t,"script")),e},cleanData:function(e){for(var t,n,r,o=he.event.special,i=0;void 0!==(n=e[i]);i++)if(Me(n)){if(t=n[Fe.expando]){if(t.events)for(r in t.events)o[r]?he.event.remove(n,r):he.removeEvent(n,r,t.handle);n[Fe.expando]=void 0}n[De.expando]&&(n[De.expando]=void 0)}}}),he.fn.extend({detach:function(e){return N(this,e,!0)},remove:function(e){return N(this,e)},text:function(e){return _e(this,function(e){return void 0===e?he.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=e)})},null,e,arguments.length)},append:function(){return E(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=j(this,e);t.appendChild(e)}})},prepend:function(){return E(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=j(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return E(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return E(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(he.cleanData(m(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return he.clone(this,e,t)})},html:function(e){return _e(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!tt.test(e)&&!Xe[(Ue.exec(e)||["",""])[1].toLowerCase()]){e=he.htmlPrefilter(e);try{for(;r>n;n++)t=this[n]||{},1===t.nodeType&&(he.cleanData(m(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return E(this,arguments,function(t){var n=this.parentNode;he.inArray(this,e)<0&&(he.cleanData(m(this)),n&&n.replaceChild(t,this))},e)}}),he.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){he.fn[e]=function(e){for(var n,r=[],o=he(e),i=o.length-1,a=0;i>=a;a++)n=a===i?this:this.clone(!0),he(o[a])[t](n),ie.apply(r,n.get());return this.pushStack(r)}});var it=/^margin/,at=new RegExp("^("+Re+")(?!px)[a-z%]+$","i"),st=function(t){var n=t.ownerDocument.defaultView;return n&&n.opener||(n=e),n.getComputedStyle(t)};!function(){function t(){if(s){s.style.cssText="box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",s.innerHTML="",Ye.appendChild(a);var t=e.getComputedStyle(s);n="1%"!==t.top,i="2px"===t.marginLeft,r="4px"===t.width,s.style.marginRight="50%",o="4px"===t.marginRight,Ye.removeChild(a),s=null}}var n,r,o,i,a=te.createElement("div"),s=te.createElement("div");s.style&&(s.style.backgroundClip="content-box",s.cloneNode(!0).style.backgroundClip="",pe.clearCloneStyle="content-box"===s.style.backgroundClip,a.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",a.appendChild(s),he.extend(pe,{pixelPosition:function(){return t(),n},boxSizingReliable:function(){return t(),r},pixelMarginRight:function(){return t(),o},reliableMarginLeft:function(){return t(),i}}))}();var ut=/^(none|table(?!-c[ea]).+)/,ct={position:"absolute",visibility:"hidden",display:"block"},lt={letterSpacing:"0",fontWeight:"400"},ft=["Webkit","Moz","ms"],pt=te.createElement("div").style;he.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=P(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function e(t,n,r,o){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var i,a,s,u=he.camelCase(n),e=t.style;return n=he.cssProps[u]||(he.cssProps[u]=_(u)||u),s=he.cssHooks[n]||he.cssHooks[u],void 0===r?s&&"get"in s&&void 0!==(i=s.get(t,!1,o))?i:e[n]:(a="undefined"==typeof r?"undefined":_typeof(r),"string"===a&&(i=He.exec(r))&&i[1]&&(r=h(t,n,i),a="number"),null!=r&&r===r&&("number"===a&&(r+=i&&i[3]||(he.cssNumber[u]?"":"px")),pe.clearCloneStyle||""!==r||0!==n.indexOf("background")||(e[n]="inherit"),s&&"set"in s&&void 0===(r=s.set(t,r,o))||(e[n]=r)),void 0)}},css:function(e,t,n,r){var o,i,a,s=he.camelCase(t);return t=he.cssProps[s]||(he.cssProps[s]=_(s)||s),a=he.cssHooks[t]||he.cssHooks[s],a&&"get"in a&&(o=a.get(e,!0,n)),void 0===o&&(o=P(e,t,r)),"normal"===o&&t in lt&&(o=lt[t]),""===n||n?(i=parseFloat(o),n===!0||isFinite(i)?i||0:o):o}}),he.each(["height","width"],function(e,t){he.cssHooks[t]={get:function(e,n,r){return n?!ut.test(he.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?D(e,t,r):We(e,ct,function(){return D(e,t,r)}):void 0},set:function(e,n,r){var o,i=r&&st(e),a=r&&F(e,t,r,"border-box"===he.css(e,"boxSizing",!1,i),i);return a&&(o=He.exec(n))&&"px"!==(o[3]||"px")&&(e.style[t]=n,n=he.css(e,t)),M(e,n,a)}}}),he.cssHooks.marginLeft=I(pe.reliableMarginLeft,function(e,t){return t?(parseFloat(P(e,"marginLeft"))||e.getBoundingClientRect().left-We(e,{
marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px":void 0}),he.each({margin:"",padding:"",border:"Width"},function(e,t){he.cssHooks[e+t]={expand:function(n){for(var r=0,o={},i="string"==typeof n?n.split(" "):[n];4>r;r++)o[e+$e[r]+t]=i[r]||i[r-2]||i[0];return o}},it.test(e)||(he.cssHooks[e+t].set=M)}),he.fn.extend({css:function(e,t){return _e(this,function(e,t,n){var r,o,i={},a=0;if(he.isArray(t)){for(r=st(e),o=t.length;o>a;a++)i[t[a]]=he.css(e,t[a],!1,r);return i}return void 0!==n?he.style(e,t,n):he.css(e,t)},e,t,arguments.length>1)}}),he.Tween=L,L.prototype={constructor:L,init:function(e,t,n,r,o,i){this.elem=e,this.prop=n,this.easing=o||he.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=i||(he.cssNumber[n]?"":"px")},cur:function(){var e=L.propHooks[this.prop];return e&&e.get?e.get(this):L.propHooks._default.get(this)},run:function(e){var t,n=L.propHooks[this.prop];return this.pos=t=this.options.duration?he.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):L.propHooks._default.set(this),this}},L.prototype.init.prototype=L.prototype,L.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=he.css(e.elem,e.prop,""),t&&"auto"!==t?t:0)},set:function(e){he.fx.step[e.prop]?he.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[he.cssProps[e.prop]]&&!he.cssHooks[e.prop]?e.elem[e.prop]=e.now:he.style(e.elem,e.prop,e.now+e.unit)}}},L.propHooks.scrollTop=L.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},he.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},he.fx=L.prototype.init,he.fx.step={};var dt,ht,gt=/^(?:toggle|show|hide)$/,yt=/queueHooks$/;he.Animation=he.extend(B,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return h(n.elem,e,He.exec(t),n),n}]},tweener:function(e,t){he.isFunction(e)?(t=e,e=["*"]):e=e.match(Ne);for(var n,r=0,o=e.length;o>r;r++)n=e[r],B.tweeners[n]=B.tweeners[n]||[],B.tweeners[n].unshift(t)},prefilters:[z],prefilter:function(e,t){t?B.prefilters.unshift(e):B.prefilters.push(e)}}),he.speed=function(e,t,n){var r=e&&"object"===("undefined"==typeof e?"undefined":_typeof(e))?he.extend({},e):{complete:n||!n&&t||he.isFunction(e)&&e,duration:e,easing:n&&t||t&&!he.isFunction(t)&&t};return he.fx.off||te.hidden?r.duration=0:"number"!=typeof r.duration&&(r.duration=r.duration in he.fx.speeds?he.fx.speeds[r.duration]:he.fx.speeds._default),(null==r.queue||r.queue===!0)&&(r.queue="fx"),r.old=r.complete,r.complete=function(){he.isFunction(r.old)&&r.old.call(this),r.queue&&he.dequeue(this,r.queue)},r},he.fn.extend({fadeTo:function(e,t,n,r){return this.filter(ze).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var o=he.isEmptyObject(e),i=he.speed(t,n,r),a=function(){var t=B(this,he.extend({},e),i);(o||Fe.get(this,"finish"))&&t.stop(!0)};return a.finish=a,o||i.queue===!1?this.each(a):this.queue(i.queue,a)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,o=null!=e&&e+"queueHooks",i=he.timers,a=Fe.get(this);if(o)a[o]&&a[o].stop&&r(a[o]);else for(o in a)a[o]&&a[o].stop&&yt.test(o)&&r(a[o]);for(o=i.length;o--;)i[o].elem!==this||null!=e&&i[o].queue!==e||(i[o].anim.stop(n),t=!1,i.splice(o,1));(t||!n)&&he.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=Fe.get(this),r=n[e+"queue"],o=n[e+"queueHooks"],i=he.timers,a=r?r.length:0;for(n.finish=!0,he.queue(this,e,[]),o&&o.stop&&o.stop.call(this,!0),t=i.length;t--;)i[t].elem===this&&i[t].queue===e&&(i[t].anim.stop(!0),i.splice(t,1));for(t=0;a>t;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),he.each(["toggle","show","hide"],function(e,t){var n=he.fn[t];he.fn[t]=function(e,r,o){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(H(t,!0),e,r,o)}}),he.each({slideDown:H("show"),slideUp:H("hide"),slideToggle:H("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){he.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),he.timers=[],he.fx.tick=function(){var e,t=0,n=he.timers;for(dt=he.now();t<n.length;t++)e=n[t],e()||n[t]!==e||n.splice(t--,1);n.length||he.fx.stop(),dt=void 0},he.fx.timer=function(e){he.timers.push(e),e()?he.fx.start():he.timers.pop()},he.fx.interval=13,he.fx.start=function(){ht||(ht=e.requestAnimationFrame?e.requestAnimationFrame(q):e.setInterval(he.fx.tick,he.fx.interval))},he.fx.stop=function(){e.cancelAnimationFrame?e.cancelAnimationFrame(ht):e.clearInterval(ht),ht=null},he.fx.speeds={slow:600,fast:200,_default:400},he.fn.delay=function(t,n){return t=he.fx?he.fx.speeds[t]||t:t,n=n||"fx",this.queue(n,function(n,r){var o=e.setTimeout(n,t);r.stop=function(){e.clearTimeout(o)}})},function(){var e=te.createElement("input"),t=te.createElement("select"),n=t.appendChild(te.createElement("option"));e.type="checkbox",pe.checkOn=""!==e.value,pe.optSelected=n.selected,e=te.createElement("input"),e.value="t",e.type="radio",pe.radioValue="t"===e.value}();var mt,vt=he.expr.attrHandle;he.fn.extend({attr:function(e,t){return _e(this,he.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){he.removeAttr(this,e)})}}),he.extend({attr:function(e,t,n){var r,o,i=e.nodeType;if(3!==i&&8!==i&&2!==i)return"undefined"==typeof e.getAttribute?he.prop(e,t,n):(1===i&&he.isXMLDoc(e)||(o=he.attrHooks[t.toLowerCase()]||(he.expr.match.bool.test(t)?mt:void 0)),void 0!==n?null===n?void he.removeAttr(e,t):o&&"set"in o&&void 0!==(r=o.set(e,n,t))?r:(e.setAttribute(t,n+""),n):o&&"get"in o&&null!==(r=o.get(e,t))?r:(r=he.find.attr(e,t),null==r?void 0:r))},attrHooks:{type:{set:function(e,t){if(!pe.radioValue&&"radio"===t&&he.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r=0,o=t&&t.match(Ne);if(o&&1===e.nodeType)for(;n=o[r++];)e.removeAttribute(n)}}),mt={set:function(e,t,n){return t===!1?he.removeAttr(e,n):e.setAttribute(n,n),n}},he.each(he.expr.match.bool.source.match(/\w+/g),function(e,t){var n=vt[t]||he.find.attr;vt[t]=function(e,t,r){var o,i,a=t.toLowerCase();return r||(i=vt[a],vt[a]=o,o=null!=n(e,t,r)?a:null,vt[a]=i),o}});var bt=/^(?:input|select|textarea|button)$/i,wt=/^(?:a|area)$/i;he.fn.extend({prop:function(e,t){return _e(this,he.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[he.propFix[e]||e]})}}),he.extend({prop:function(e,t,n){var r,o,i=e.nodeType;if(3!==i&&8!==i&&2!==i)return 1===i&&he.isXMLDoc(e)||(t=he.propFix[t]||t,o=he.propHooks[t]),void 0!==n?o&&"set"in o&&void 0!==(r=o.set(e,n,t))?r:e[t]=n:o&&"get"in o&&null!==(r=o.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=he.find.attr(e,"tabindex");return t?parseInt(t,10):bt.test(e.nodeName)||wt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),pe.optSelected||(he.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),he.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){he.propFix[this.toLowerCase()]=this}),he.fn.extend({addClass:function(e){var t,n,r,o,i,a,s,u=0;if(he.isFunction(e))return this.each(function(t){he(this).addClass(e.call(this,t,U(this)))});if("string"==typeof e&&e)for(t=e.match(Ne)||[];n=this[u++];)if(o=U(n),r=1===n.nodeType&&" "+V(o)+" "){for(a=0;i=t[a++];)r.indexOf(" "+i+" ")<0&&(r+=i+" ");s=V(r),o!==s&&n.setAttribute("class",s)}return this},removeClass:function(e){var t,n,r,o,i,a,s,u=0;if(he.isFunction(e))return this.each(function(t){he(this).removeClass(e.call(this,t,U(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof e&&e)for(t=e.match(Ne)||[];n=this[u++];)if(o=U(n),r=1===n.nodeType&&" "+V(o)+" "){for(a=0;i=t[a++];)for(;r.indexOf(" "+i+" ")>-1;)r=r.replace(" "+i+" "," ");s=V(r),o!==s&&n.setAttribute("class",s)}return this},toggleClass:function(e,t){var n="undefined"==typeof e?"undefined":_typeof(e);return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):this.each(he.isFunction(e)?function(n){he(this).toggleClass(e.call(this,n,U(this),t),t)}:function(){var t,r,o,i;if("string"===n)for(r=0,o=he(this),i=e.match(Ne)||[];t=i[r++];)o.hasClass(t)?o.removeClass(t):o.addClass(t);else(void 0===e||"boolean"===n)&&(t=U(this),t&&Fe.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||e===!1?"":Fe.get(this,"__className__")||""))})},hasClass:function(e){var t,n,r=0;for(t=" "+e+" ";n=this[r++];)if(1===n.nodeType&&(" "+V(U(n))+" ").indexOf(t)>-1)return!0;return!1}});var xt=/\r/g;he.fn.extend({val:function(e){var t,n,r,o=this[0];{if(arguments.length)return r=he.isFunction(e),this.each(function(n){var o;1===this.nodeType&&(o=r?e.call(this,n,he(this).val()):e,null==o?o="":"number"==typeof o?o+="":he.isArray(o)&&(o=he.map(o,function(e){return null==e?"":e+""})),t=he.valHooks[this.type]||he.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,o,"value")||(this.value=o))});if(o)return t=he.valHooks[o.type]||he.valHooks[o.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(n=t.get(o,"value"))?n:(n=o.value,"string"==typeof n?n.replace(xt,""):null==n?"":n)}}}),he.extend({valHooks:{option:{get:function(e){var t=he.find.attr(e,"value");return null!=t?t:V(he.text(e))}},select:{get:function(e){var t,n,r,o=e.options,i=e.selectedIndex,a="select-one"===e.type,s=a?null:[],u=a?i+1:o.length;for(r=0>i?u:a?i:0;u>r;r++)if(n=o[r],!(!n.selected&&r!==i||n.disabled||n.parentNode.disabled&&he.nodeName(n.parentNode,"optgroup"))){if(t=he(n).val(),a)return t;s.push(t)}return s},set:function(e,t){for(var n,r,o=e.options,i=he.makeArray(t),a=o.length;a--;)r=o[a],(r.selected=he.inArray(he.valHooks.option.get(r),i)>-1)&&(n=!0);return n||(e.selectedIndex=-1),i}}}}),he.each(["radio","checkbox"],function(){he.valHooks[this]={set:function(e,t){return he.isArray(t)?e.checked=he.inArray(he(e).val(),t)>-1:void 0}},pe.checkOn||(he.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var Tt=/^(?:focusinfocus|focusoutblur)$/;he.extend(he.event,{trigger:function(t,n,r,o){var i,a,s,u,c,l,f,p=[r||te],d=ce.call(t,"type")?t.type:t,h=ce.call(t,"namespace")?t.namespace.split("."):[];if(a=s=r=r||te,3!==r.nodeType&&8!==r.nodeType&&!Tt.test(d+he.event.triggered)&&(d.indexOf(".")>-1&&(h=d.split("."),d=h.shift(),h.sort()),c=d.indexOf(":")<0&&"on"+d,t=t[he.expando]?t:new he.Event(d,"object"===("undefined"==typeof t?"undefined":_typeof(t))&&t),t.isTrigger=o?2:3,t.namespace=h.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=r),n=null==n?[t]:he.makeArray(n,[t]),f=he.event.special[d]||{},o||!f.trigger||f.trigger.apply(r,n)!==!1)){if(!o&&!f.noBubble&&!he.isWindow(r)){for(u=f.delegateType||d,Tt.test(u+d)||(a=a.parentNode);a;a=a.parentNode)p.push(a),s=a;s===(r.ownerDocument||te)&&p.push(s.defaultView||s.parentWindow||e)}for(i=0;(a=p[i++])&&!t.isPropagationStopped();)t.type=i>1?u:f.bindType||d,l=(Fe.get(a,"events")||{})[t.type]&&Fe.get(a,"handle"),l&&l.apply(a,n),l=c&&a[c],l&&l.apply&&Me(a)&&(t.result=l.apply(a,n),t.result===!1&&t.preventDefault());return t.type=d,o||t.isDefaultPrevented()||f._default&&f._default.apply(p.pop(),n)!==!1||!Me(r)||c&&he.isFunction(r[d])&&!he.isWindow(r)&&(s=r[c],s&&(r[c]=null),he.event.triggered=d,r[d](),he.event.triggered=void 0,s&&(r[c]=s)),t.result}},simulate:function(e,t,n){var r=he.extend(new he.Event,n,{type:e,isSimulated:!0});he.event.trigger(r,null,t)}}),he.fn.extend({trigger:function(e,t){return this.each(function(){he.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];return n?he.event.trigger(e,t,n,!0):void 0}}),he.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,t){he.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),he.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),pe.focusin="onfocusin"in e,pe.focusin||he.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){he.event.simulate(t,e.target,he.event.fix(e))};he.event.special[t]={setup:function(){var r=this.ownerDocument||this,o=Fe.access(r,t);o||r.addEventListener(e,n,!0),Fe.access(r,t,(o||0)+1)},teardown:function(){var r=this.ownerDocument||this,o=Fe.access(r,t)-1;o?Fe.access(r,t,o):(r.removeEventListener(e,n,!0),Fe.remove(r,t))}}});var Ot=e.location,jt=he.now(),St=/\?/;he.parseXML=function(t){var n;if(!t||"string"!=typeof t)return null;try{n=(new e.DOMParser).parseFromString(t,"text/xml")}catch(e){n=void 0}return(!n||n.getElementsByTagName("parsererror").length)&&he.error("Invalid XML: "+t),n};var kt=/\[\]$/,Ct=/\r?\n/g,At=/^(?:submit|button|image|reset|file)$/i,Et=/^(?:input|select|textarea|keygen)/i;he.param=function(e,t){var n,r=[],o=function(e,t){var n=he.isFunction(t)?t():t;r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(he.isArray(e)||e.jquery&&!he.isPlainObject(e))he.each(e,function(){o(this.name,this.value)});else for(n in e)G(n,e[n],t,o);return r.join("&")},he.fn.extend({serialize:function(){return he.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=he.prop(this,"elements");return e?he.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!he(this).is(":disabled")&&Et.test(this.nodeName)&&!At.test(e)&&(this.checked||!Ve.test(e))}).map(function(e,t){var n=he(this).val();return null==n?null:he.isArray(n)?he.map(n,function(e){return{name:t.name,value:e.replace(Ct,"\r\n")}}):{name:t.name,value:n.replace(Ct,"\r\n")}}).get()}});var Nt=/%20/g,Pt=/#.*$/,It=/([?&])_=[^&]*/,_t=/^(.*?):[ \t]*([^\r\n]*)$/gm,Mt=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Ft=/^(?:GET|HEAD)$/,Dt=/^\/\//,Lt={},qt={},Rt="*/".concat("*"),Ht=te.createElement("a");Ht.href=Ot.href,he.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ot.href,type:"GET",isLocal:Mt.test(Ot.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Rt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":he.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Y(Y(e,he.ajaxSettings),t):Y(he.ajaxSettings,e)},ajaxPrefilter:X(Lt),ajaxTransport:X(qt),ajax:function(t,n){function r(t,n,r,s){var c,p,d,w,x,T=n;l||(l=!0,u&&e.clearTimeout(u),o=void 0,a=s||"",O.readyState=t>0?4:0,c=t>=200&&300>t||304===t,r&&(w=Q(h,O,r)),w=Z(h,w,O,c),c?(h.ifModified&&(x=O.getResponseHeader("Last-Modified"),x&&(he.lastModified[i]=x),x=O.getResponseHeader("etag"),x&&(he.etag[i]=x)),204===t||"HEAD"===h.type?T="nocontent":304===t?T="notmodified":(T=w.state,p=w.data,d=w.error,c=!d)):(d=T,(t||!T)&&(T="error",0>t&&(t=0))),O.status=t,O.statusText=(n||T)+"",c?m.resolveWith(g,[p,T,O]):m.rejectWith(g,[O,T,d]),O.statusCode(b),b=void 0,f&&y.trigger(c?"ajaxSuccess":"ajaxError",[O,h,c?p:d]),v.fireWith(g,[O,T]),f&&(y.trigger("ajaxComplete",[O,h]),--he.active||he.event.trigger("ajaxStop")))}"object"===("undefined"==typeof t?"undefined":_typeof(t))&&(n=t,t=void 0),n=n||{};var o,i,a,s,u,c,l,f,p,d,h=he.ajaxSetup({},n),g=h.context||h,y=h.context&&(g.nodeType||g.jquery)?he(g):he.event,m=he.Deferred(),v=he.Callbacks("once memory"),b=h.statusCode||{},w={},x={},T="canceled",O={readyState:0,getResponseHeader:function(e){var t;if(l){if(!s)for(s={};t=_t.exec(a);)s[t[1].toLowerCase()]=t[2];t=s[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return l?a:null},setRequestHeader:function(e,t){return null==l&&(e=x[e.toLowerCase()]=x[e.toLowerCase()]||e,w[e]=t),this},overrideMimeType:function(e){return null==l&&(h.mimeType=e),this},statusCode:function(e){var t;if(e)if(l)O.always(e[O.status]);else for(t in e)b[t]=[b[t],e[t]];return this},abort:function(e){var t=e||T;return o&&o.abort(t),r(0,t),this}};if(m.promise(O),h.url=((t||h.url||Ot.href)+"").replace(Dt,Ot.protocol+"//"),h.type=n.method||n.type||h.method||h.type,h.dataTypes=(h.dataType||"*").toLowerCase().match(Ne)||[""],null==h.crossDomain){c=te.createElement("a");try{c.href=h.url,c.href=c.href,h.crossDomain=Ht.protocol+"//"+Ht.host!=c.protocol+"//"+c.host}catch(e){h.crossDomain=!0}}if(h.data&&h.processData&&"string"!=typeof h.data&&(h.data=he.param(h.data,h.traditional)),J(Lt,h,n,O),l)return O;f=he.event&&h.global,f&&0===he.active++&&he.event.trigger("ajaxStart"),h.type=h.type.toUpperCase(),h.hasContent=!Ft.test(h.type),i=h.url.replace(Pt,""),h.hasContent?h.data&&h.processData&&0===(h.contentType||"").indexOf("application/x-www-form-urlencoded")&&(h.data=h.data.replace(Nt,"+")):(d=h.url.slice(i.length),h.data&&(i+=(St.test(i)?"&":"?")+h.data,delete h.data),h.cache===!1&&(i=i.replace(It,"$1"),d=(St.test(i)?"&":"?")+"_="+jt++ +d),h.url=i+d),h.ifModified&&(he.lastModified[i]&&O.setRequestHeader("If-Modified-Since",he.lastModified[i]),he.etag[i]&&O.setRequestHeader("If-None-Match",he.etag[i])),(h.data&&h.hasContent&&h.contentType!==!1||n.contentType)&&O.setRequestHeader("Content-Type",h.contentType),O.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+Rt+"; q=0.01":""):h.accepts["*"]);for(p in h.headers)O.setRequestHeader(p,h.headers[p]);if(h.beforeSend&&(h.beforeSend.call(g,O,h)===!1||l))return O.abort();if(T="abort",v.add(h.complete),O.done(h.success),O.fail(h.error),o=J(qt,h,n,O)){if(O.readyState=1,f&&y.trigger("ajaxSend",[O,h]),l)return O;h.async&&h.timeout>0&&(u=e.setTimeout(function(){O.abort("timeout")},h.timeout));try{l=!1,o.send(w,r)}catch(e){if(l)throw e;r(-1,e)}}else r(-1,"No Transport");return O},getJSON:function(e,t,n){return he.get(e,t,n,"json")},getScript:function(e,t){return he.get(e,void 0,t,"script")}}),he.each(["get","post"],function(e,t){he[t]=function(e,n,r,o){return he.isFunction(n)&&(o=o||r,r=n,n=void 0),he.ajax(he.extend({url:e,type:t,dataType:o,data:n,success:r},he.isPlainObject(e)&&e))}}),he._evalUrl=function(e){return he.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},he.fn.extend({wrapAll:function(e){var t;return this[0]&&(he.isFunction(e)&&(e=e.call(this[0])),t=he(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(e){return this.each(he.isFunction(e)?function(t){he(this).wrapInner(e.call(this,t))}:function(){var t=he(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=he.isFunction(e);return this.each(function(n){he(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(e){return this.parent(e).not("body").each(function(){he(this).replaceWith(this.childNodes)}),this}}),he.expr.pseudos.hidden=function(e){return!he.expr.pseudos.visible(e)},he.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},he.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch(e){}};var $t={0:200,1223:204},zt=he.ajaxSettings.xhr();pe.cors=!!zt&&"withCredentials"in zt,pe.ajax=zt=!!zt,he.ajaxTransport(function(t){var n,r;return pe.cors||zt&&!t.crossDomain?{send:function(o,i){var a,s=t.xhr();if(s.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(a in t.xhrFields)s[a]=t.xhrFields[a];t.mimeType&&s.overrideMimeType&&s.overrideMimeType(t.mimeType),t.crossDomain||o["X-Requested-With"]||(o["X-Requested-With"]="XMLHttpRequest");for(a in o)s.setRequestHeader(a,o[a]);n=function(e){return function(){n&&(n=r=s.onload=s.onerror=s.onabort=s.onreadystatechange=null,"abort"===e?s.abort():"error"===e?"number"!=typeof s.status?i(0,"error"):i(s.status,s.statusText):i($t[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=n(),r=s.onerror=n("error"),void 0!==s.onabort?s.onabort=r:s.onreadystatechange=function(){4===s.readyState&&e.setTimeout(function(){n&&r()})},n=n("abort");try{s.send(t.hasContent&&t.data||null)}catch(e){if(n)throw e}},abort:function(){n&&n()}}:void 0}),he.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),he.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return he.globalEval(e),e}}}),he.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),he.ajaxTransport("script",function(e){if(e.crossDomain){var t,n;return{send:function(r,o){t=he("<script>").prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&o("error"===e.type?404:200,e.type)}),te.head.appendChild(t[0])},abort:function(){n&&n()}}}});var Wt=[],Bt=/(=)\?(?=&|$)|\?\?/;he.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Wt.pop()||he.expando+"_"+jt++;return this[e]=!0,e}}),he.ajaxPrefilter("json jsonp",function(t,n,r){var o,i,a,s=t.jsonp!==!1&&(Bt.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Bt.test(t.data)&&"data");return s||"jsonp"===t.dataTypes[0]?(o=t.jsonpCallback=he.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(Bt,"$1"+o):t.jsonp!==!1&&(t.url+=(St.test(t.url)?"&":"?")+t.jsonp+"="+o),t.converters["script json"]=function(){return a||he.error(o+" was not called"),a[0]},t.dataTypes[0]="json",i=e[o],e[o]=function(){a=arguments},r.always(function(){void 0===i?he(e).removeProp(o):e[o]=i,t[o]&&(t.jsonpCallback=n.jsonpCallback,Wt.push(o)),a&&he.isFunction(i)&&i(a[0]),a=i=void 0}),"script"):void 0}),pe.createHTMLDocument=function(){var e=te.implementation.createHTMLDocument("").body;return e.innerHTML="<form></form><form></form>",2===e.childNodes.length}(),he.parseHTML=function(e,t,n){if("string"!=typeof e)return[];"boolean"==typeof t&&(n=t,t=!1);var r,o,i;return t||(pe.createHTMLDocument?(t=te.implementation.createHTMLDocument(""),r=t.createElement("base"),r.href=te.location.href,t.head.appendChild(r)):t=te),o=Oe.exec(e),i=!n&&[],o?[t.createElement(o[1])]:(o=b([e],t,i),i&&i.length&&he(i).remove(),he.merge([],o.childNodes))},he.fn.load=function(e,t,n){var r,o,i,a=this,s=e.indexOf(" ");return s>-1&&(r=V(e.slice(s)),e=e.slice(0,s)),he.isFunction(t)?(n=t,t=void 0):t&&"object"===("undefined"==typeof t?"undefined":_typeof(t))&&(o="POST"),a.length>0&&he.ajax({url:e,type:o||"GET",dataType:"html",data:t}).done(function(e){i=arguments,a.html(r?he("<div>").append(he.parseHTML(e)).find(r):e)}).always(n&&function(e,t){a.each(function(){n.apply(this,i||[e.responseText,t,e])})}),this},he.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){he.fn[t]=function(e){return this.on(t,e)}}),he.expr.pseudos.animated=function(e){return he.grep(he.timers,function(t){return e===t.elem}).length},he.offset={setOffset:function(e,t,n){var r,o,i,a,s,u,c,l=he.css(e,"position"),f=he(e),p={};"static"===l&&(e.style.position="relative"),s=f.offset(),i=he.css(e,"top"),u=he.css(e,"left"),c=("absolute"===l||"fixed"===l)&&(i+u).indexOf("auto")>-1,c?(r=f.position(),a=r.top,o=r.left):(a=parseFloat(i)||0,o=parseFloat(u)||0),he.isFunction(t)&&(t=t.call(e,n,he.extend({},s))),null!=t.top&&(p.top=t.top-s.top+a),null!=t.left&&(p.left=t.left-s.left+o),"using"in t?t.using.call(e,p):f.css(p)}},he.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){he.offset.setOffset(this,e,t)});var t,n,r,o,i=this[0];if(i)return i.getClientRects().length?(r=i.getBoundingClientRect(),r.width||r.height?(o=i.ownerDocument,n=K(o),t=o.documentElement,{top:r.top+n.pageYOffset-t.clientTop,left:r.left+n.pageXOffset-t.clientLeft}):r):{top:0,left:0}},position:function(){if(this[0]){var e,t,n=this[0],r={top:0,left:0};return"fixed"===he.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),he.nodeName(e[0],"html")||(r=e.offset()),r={top:r.top+he.css(e[0],"borderTopWidth",!0),left:r.left+he.css(e[0],"borderLeftWidth",!0)}),{top:t.top-r.top-he.css(n,"marginTop",!0),left:t.left-r.left-he.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===he.css(e,"position");)e=e.offsetParent;return e||Ye})}}),he.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n="pageYOffset"===t;he.fn[e]=function(r){return _e(this,function(e,r,o){var i=K(e);return void 0===o?i?i[t]:e[r]:void(i?i.scrollTo(n?i.pageXOffset:o,n?o:i.pageYOffset):e[r]=o)},e,r,arguments.length)}}),he.each(["top","left"],function(e,t){he.cssHooks[t]=I(pe.pixelPosition,function(e,n){return n?(n=P(e,t),at.test(n)?he(e).position()[t]+"px":n):void 0})}),he.each({Height:"height",Width:"width"},function(e,t){he.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){he.fn[r]=function(o,i){var a=arguments.length&&(n||"boolean"!=typeof o),s=n||(o===!0||i===!0?"margin":"border");return _e(this,function(t,n,o){var i;return he.isWindow(t)?0===r.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll"+e],i["scroll"+e],t.body["offset"+e],i["offset"+e],i["client"+e])):void 0===o?he.css(t,n,s):he.style(t,n,o,s)},t,a?o:void 0,a)}})}),he.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}}),he.parseJSON=JSON.parse,"function"==typeof define&&define.amd&&define("jquery",[],function(){return he});var Vt=e.jQuery,Ut=e.$;return he.noConflict=function(t){return e.$===he&&(e.$=Ut),t&&e.jQuery===he&&(e.jQuery=Vt),he},t||(e.jQuery=e.$=he),he}),/*!
  * https://github.com/paulmillr/es6-shim
  * @license es6-shim Copyright 2013-2016 by Paul Miller (http://paulmillr.com)
  *   and contributors,  MIT License
  * es6-shim: v0.35.1
  * see https://github.com/paulmillr/es6-shim/blob/0.35.1/LICENSE
  * Details and documentation:
  * https://github.com/paulmillr/es6-shim/
  */
function(e,t){"function"==typeof define&&define.amd?define("es6-shim",t):"object"===("undefined"==typeof exports?"undefined":_typeof(exports))?module.exports=t():e.returnExports=t()}(this,function(){var e,t=Function.call.bind(Function.apply),n=Function.call.bind(Function.call),r=Array.isArray,o=Object.keys,i=function(e){return function(){return!t(e,this,arguments)}},a=function(e){try{return e(),!1}catch(e){return!0}},s=function(e){try{return e()}catch(e){return!1}},u=i(a),c=function(){return!a(function(){Object.defineProperty({},"x",{get:function(){}})})},l=!!Object.defineProperty&&c(),f="foo"===function(){}.name,p=Function.call.bind(Array.prototype.forEach),d=Function.call.bind(Array.prototype.reduce),h=Function.call.bind(Array.prototype.filter),g=Function.call.bind(Array.prototype.some),y=function(e,t,n,r){!r&&t in e||(l?Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:!0,value:n}):e[t]=n)},m=function(e,t,n){p(o(t),function(r){var o=t[r];y(e,r,o,!!n)})},v=Function.call.bind(Object.prototype.toString),b="function"==typeof/abc/?function(e){return"function"==typeof e&&"[object Function]"===v(e)}:function(e){return"function"==typeof e},w={getter:function(e,t,n){if(!l)throw new TypeError("getters require true ES5 support");Object.defineProperty(e,t,{configurable:!0,enumerable:!1,get:n})},proxy:function(e,t,n){if(!l)throw new TypeError("getters require true ES5 support");var r=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(n,t,{configurable:r.configurable,enumerable:r.enumerable,get:function(){return e[t]},set:function(n){e[t]=n}})},redefine:function(e,t,n){if(l){var r=Object.getOwnPropertyDescriptor(e,t);r.value=n,Object.defineProperty(e,t,r)}else e[t]=n},defineByDescriptor:function(e,t,n){l?Object.defineProperty(e,t,n):"value"in n&&(e[t]=n.value)},preserveToString:function(e,t){t&&b(t.toString)&&y(e,"toString",t.toString.bind(t),!0)}},x=Object.create||function(e,t){var n=function(){};n.prototype=e;var r=new n;return"undefined"!=typeof t&&o(t).forEach(function(e){w.defineByDescriptor(r,e,t[e])}),r},T=function(e,t){return Object.setPrototypeOf?s(function(){var n=function t(n){var r=new e(n);return Object.setPrototypeOf(r,t.prototype),r};return Object.setPrototypeOf(n,e),n.prototype=x(e.prototype,{constructor:{value:n}}),t(n)}):!1},O=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("unable to locate global object")},j=O(),S=j.isFinite,k=Function.call.bind(String.prototype.indexOf),C=Function.apply.bind(Array.prototype.indexOf),A=Function.call.bind(Array.prototype.concat),E=Function.call.bind(String.prototype.slice),N=Function.call.bind(Array.prototype.push),P=Function.apply.bind(Array.prototype.push),I=Function.call.bind(Array.prototype.shift),_=Math.max,M=Math.min,F=Math.floor,D=Math.abs,L=Math.exp,q=Math.log,R=Math.sqrt,H=Function.call.bind(Object.prototype.hasOwnProperty),$=function(){},z=j.Symbol||{},W=z.species||"@@species",B=Number.isNaN||function(e){return e!==e},V=Number.isFinite||function(e){return"number"==typeof e&&S(e)},U=b(Math.sign)?Math.sign:function(e){var t=Number(e);return 0===t?t:B(t)?t:0>t?-1:1},G=function(e){return"[object Arguments]"===v(e)},X=function(e){return null!==e&&"object"===("undefined"==typeof e?"undefined":_typeof(e))&&"number"==typeof e.length&&e.length>=0&&"[object Array]"!==v(e)&&"[object Function]"===v(e.callee)},J=G(arguments)?G:X,Y={primitive:function(e){return null===e||"function"!=typeof e&&"object"!==("undefined"==typeof e?"undefined":_typeof(e))},string:function(e){return"[object String]"===v(e)},regex:function(e){return"[object RegExp]"===v(e)},symbol:function(e){return"function"==typeof j.Symbol&&"symbol"===("undefined"==typeof e?"undefined":_typeof(e))}},Q=function(e,t,n){var r=e[t];y(e,t,n,!0),w.preserveToString(e[t],r)},Z="function"==typeof z&&"function"==typeof z.for&&Y.symbol(z()),K=Y.symbol(z.iterator)?z.iterator:"_es6-shim iterator_";j.Set&&"function"==typeof(new j.Set)["@@iterator"]&&(K="@@iterator"),j.Reflect||y(j,"Reflect",{},!0);var ee=j.Reflect,te=String,ne={Call:function(e,n){var r=arguments.length>2?arguments[2]:[];if(!ne.IsCallable(e))throw new TypeError(e+" is not a function");return t(e,n,r)},RequireObjectCoercible:function(e,t){if(null==e)throw new TypeError(t||"Cannot call method on "+e);return e},TypeIsObject:function(e){return void 0===e||null===e||e===!0||e===!1?!1:"function"==typeof e||"object"===("undefined"==typeof e?"undefined":_typeof(e))},ToObject:function(e,t){return Object(ne.RequireObjectCoercible(e,t))},IsCallable:b,IsConstructor:function(e){return ne.IsCallable(e)},ToInt32:function(e){return ne.ToNumber(e)>>0},ToUint32:function(e){return ne.ToNumber(e)>>>0},ToNumber:function(e){if("[object Symbol]"===v(e))throw new TypeError("Cannot convert a Symbol value to a number");return+e},ToInteger:function(e){var t=ne.ToNumber(e);return B(t)?0:0!==t&&V(t)?(t>0?1:-1)*F(D(t)):t},ToLength:function(e){var t=ne.ToInteger(e);return 0>=t?0:t>Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:t},SameValue:function(e,t){return e===t?0===e?1/e===1/t:!0:B(e)&&B(t)},SameValueZero:function(e,t){return e===t||B(e)&&B(t)},IsIterable:function(e){return ne.TypeIsObject(e)&&("undefined"!=typeof e[K]||J(e))},GetIterator:function(t){if(J(t))return new e(t,"value");var n=ne.GetMethod(t,K);if(!ne.IsCallable(n))throw new TypeError("value is not an iterable");var r=ne.Call(n,t);if(!ne.TypeIsObject(r))throw new TypeError("bad iterator");return r},GetMethod:function(e,t){var n=ne.ToObject(e)[t];if(void 0===n||null===n)return void 0;if(!ne.IsCallable(n))throw new TypeError("Method not callable: "+t);return n},IteratorComplete:function(e){return!!e.done},IteratorClose:function(e,t){var n=ne.GetMethod(e,"return");if(void 0!==n){var r,o;try{r=ne.Call(n,e)}catch(e){o=e}if(!t){if(o)throw o;if(!ne.TypeIsObject(r))throw new TypeError("Iterator's return method returned a non-object.")}}},IteratorNext:function(e){var t=arguments.length>1?e.next(arguments[1]):e.next();if(!ne.TypeIsObject(t))throw new TypeError("bad iterator");return t},IteratorStep:function(e){var t=ne.IteratorNext(e),n=ne.IteratorComplete(t);return n?!1:t},Construct:function(e,t,n,r){var o="undefined"==typeof n?e:n;if(!r&&ee.construct)return ee.construct(e,t,o);var i=o.prototype;ne.TypeIsObject(i)||(i=Object.prototype);var a=x(i),s=ne.Call(e,a,t);return ne.TypeIsObject(s)?s:a},SpeciesConstructor:function(e,t){var n=e.constructor;if(void 0===n)return t;if(!ne.TypeIsObject(n))throw new TypeError("Bad constructor");var r=n[W];if(void 0===r||null===r)return t;if(!ne.IsConstructor(r))throw new TypeError("Bad @@species");return r},CreateHTML:function(e,t,n,r){var o=ne.ToString(e),i="<"+t;if(""!==n){var a=ne.ToString(r),s=a.replace(/"/g,"&quot;");i+=" "+n+'="'+s+'"'}var u=i+">",c=u+o;return c+"</"+t+">"},IsRegExp:function(e){if(!ne.TypeIsObject(e))return!1;var t=e[z.match];return"undefined"!=typeof t?!!t:Y.regex(e)},ToString:function(e){return te(e)}};if(l&&Z){var re=function(e){if(Y.symbol(z[e]))return z[e];var t=z.for("Symbol."+e);return Object.defineProperty(z,e,{configurable:!1,enumerable:!1,writable:!1,value:t}),t};if(!Y.symbol(z.search)){var oe=re("search"),ie=String.prototype.search;y(RegExp.prototype,oe,function(e){return ne.Call(ie,e,[this])});var ae=function(e){var t=ne.RequireObjectCoercible(this);if(null!==e&&"undefined"!=typeof e){var n=ne.GetMethod(e,oe);if("undefined"!=typeof n)return ne.Call(n,e,[t])}return ne.Call(ie,t,[ne.ToString(e)])};Q(String.prototype,"search",ae)}if(!Y.symbol(z.replace)){var se=re("replace"),ue=String.prototype.replace;y(RegExp.prototype,se,function(e,t){return ne.Call(ue,e,[this,t])});var ce=function(e,t){var n=ne.RequireObjectCoercible(this);if(null!==e&&"undefined"!=typeof e){var r=ne.GetMethod(e,se);if("undefined"!=typeof r)return ne.Call(r,e,[n,t])}return ne.Call(ue,n,[ne.ToString(e),t])};Q(String.prototype,"replace",ce)}if(!Y.symbol(z.split)){var le=re("split"),fe=String.prototype.split;y(RegExp.prototype,le,function(e,t){return ne.Call(fe,e,[this,t])});var pe=function(e,t){var n=ne.RequireObjectCoercible(this);if(null!==e&&"undefined"!=typeof e){var r=ne.GetMethod(e,le);if("undefined"!=typeof r)return ne.Call(r,e,[n,t])}return ne.Call(fe,n,[ne.ToString(e),t])};Q(String.prototype,"split",pe)}var de=Y.symbol(z.match),he=de&&function(){var e={};return e[z.match]=function(){return 42},42!=="a".match(e)}();if(!de||he){var ge=re("match"),ye=String.prototype.match;y(RegExp.prototype,ge,function(e){return ne.Call(ye,e,[this])});var me=function(e){var t=ne.RequireObjectCoercible(this);if(null!==e&&"undefined"!=typeof e){var n=ne.GetMethod(e,ge);if("undefined"!=typeof n)return ne.Call(n,e,[t])}return ne.Call(ye,t,[ne.ToString(e)])};Q(String.prototype,"match",me)}}var ve=function(e,t,n){w.preserveToString(t,e),Object.setPrototypeOf&&Object.setPrototypeOf(e,t),l?p(Object.getOwnPropertyNames(e),function(r){r in $||n[r]||w.proxy(e,r,t)}):p(Object.keys(e),function(r){r in $||n[r]||(t[r]=e[r])}),t.prototype=e.prototype,w.redefine(e.prototype,"constructor",t)},be=function(){return this},we=function(e){l&&!H(e,W)&&w.getter(e,W,be)},xe=function(e,t){var n=t||function(){return this};y(e,K,n),!e[K]&&Y.symbol(K)&&(e[K]=n)},Te=function(e,t,n){l?Object.defineProperty(e,t,{configurable:!0,enumerable:!0,writable:!0,value:n}):e[t]=n},Oe=function(e,t,n){if(Te(e,t,n),!ne.SameValue(e[t],n))throw new TypeError("property is nonconfigurable")},je=function(e,t,n,r){if(!ne.TypeIsObject(e))throw new TypeError("Constructor requires `new`: "+t.name);var o=t.prototype;ne.TypeIsObject(o)||(o=n);var i=x(o);for(var a in r)if(H(r,a)){var s=r[a];y(i,a,s,!0)}return i};if(String.fromCodePoint&&1!==String.fromCodePoint.length){var Se=String.fromCodePoint;Q(String,"fromCodePoint",function(){return ne.Call(Se,this,arguments)})}var ke={fromCodePoint:function(){for(var e,t=[],n=0,r=arguments.length;r>n;n++){if(e=Number(arguments[n]),!ne.SameValue(e,ne.ToInteger(e))||0>e||e>1114111)throw new RangeError("Invalid code point "+e);65536>e?N(t,String.fromCharCode(e)):(e-=65536,N(t,String.fromCharCode((e>>10)+55296)),N(t,String.fromCharCode(e%1024+56320)))}return t.join("")},raw:function(e){var t=ne.ToObject(e,"bad callSite"),n=ne.ToObject(t.raw,"bad raw value"),r=n.length,o=ne.ToLength(r);if(0>=o)return"";for(var i,a,s,u,c=[],l=0;o>l&&(i=ne.ToString(l),s=ne.ToString(n[i]),N(c,s),!(l+1>=o));)a=l+1<arguments.length?arguments[l+1]:"",u=ne.ToString(a),N(c,u),l+=1;return c.join("")}};String.raw&&"xy"!==String.raw({raw:{0:"x",1:"y",length:2}})&&Q(String,"raw",ke.raw),m(String,ke);var Ce=function e(t,n){if(1>n)return"";if(n%2)return e(t,n-1)+t;var r=e(t,n/2);return r+r},Ae=1/0,Ee={repeat:function(e){var t=ne.ToString(ne.RequireObjectCoercible(this)),n=ne.ToInteger(e);if(0>n||n>=Ae)throw new RangeError("repeat count must be less than infinity and not overflow maximum string size");return Ce(t,n)},startsWith:function(e){var t=ne.ToString(ne.RequireObjectCoercible(this));if(ne.IsRegExp(e))throw new TypeError('Cannot call method "startsWith" with a regex');var n,r=ne.ToString(e);arguments.length>1&&(n=arguments[1]);var o=_(ne.ToInteger(n),0);return E(t,o,o+r.length)===r},endsWith:function(e){var t=ne.ToString(ne.RequireObjectCoercible(this));if(ne.IsRegExp(e))throw new TypeError('Cannot call method "endsWith" with a regex');var n,r=ne.ToString(e),o=t.length;arguments.length>1&&(n=arguments[1]);var i="undefined"==typeof n?o:ne.ToInteger(n),a=M(_(i,0),o);return E(t,a-r.length,a)===r},includes:function(e){if(ne.IsRegExp(e))throw new TypeError('"includes" does not accept a RegExp');var t,n=ne.ToString(e);return arguments.length>1&&(t=arguments[1]),-1!==k(this,n,t)},codePointAt:function(e){var t=ne.ToString(ne.RequireObjectCoercible(this)),n=ne.ToInteger(e),r=t.length;if(n>=0&&r>n){var o=t.charCodeAt(n),i=n+1===r;if(55296>o||o>56319||i)return o;var a=t.charCodeAt(n+1);return 56320>a||a>57343?o:1024*(o-55296)+(a-56320)+65536}}};if(String.prototype.includes&&"a".includes("a",1/0)!==!1&&Q(String.prototype,"includes",Ee.includes),String.prototype.startsWith&&String.prototype.endsWith){var Ne=a(function(){"/a/".startsWith(/a/)}),Pe=s(function(){return"abc".startsWith("a",1/0)===!1});Ne&&Pe||(Q(String.prototype,"startsWith",Ee.startsWith),Q(String.prototype,"endsWith",Ee.endsWith))}if(Z){var Ie=s(function(){var e=/a/;return e[z.match]=!1,"/a/".startsWith(e)});Ie||Q(String.prototype,"startsWith",Ee.startsWith);var _e=s(function(){var e=/a/;return e[z.match]=!1,"/a/".endsWith(e)});_e||Q(String.prototype,"endsWith",Ee.endsWith);var Me=s(function(){var e=/a/;return e[z.match]=!1,"/a/".includes(e)});Me||Q(String.prototype,"includes",Ee.includes)}m(String.prototype,Ee);var Fe=["	\n\f\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003","\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028","\u2029\ufeff"].join(""),De=new RegExp("(^["+Fe+"]+)|(["+Fe+"]+$)","g"),Le=function(){return ne.ToString(ne.RequireObjectCoercible(this)).replace(De,"")},qe=["\x85","\u200b","\ufffe"].join(""),Re=new RegExp("["+qe+"]","g"),He=/^[\-+]0x[0-9a-f]+$/i,$e=qe.trim().length!==qe.length;y(String.prototype,"trim",Le,$e);var ze=function(e){return{value:e,done:0===arguments.length}},We=function(e){ne.RequireObjectCoercible(e),this._s=ne.ToString(e),this._i=0};We.prototype.next=function(){var e=this._s,t=this._i;if("undefined"==typeof e||t>=e.length)return this._s=void 0,ze();var n,r,o=e.charCodeAt(t);return 55296>o||o>56319||t+1===e.length?r=1:(n=e.charCodeAt(t+1),r=56320>n||n>57343?1:2),this._i=t+r,ze(e.substr(t,r))},xe(We.prototype),xe(String.prototype,function(){return new We(this)});var Be={from:function(e){var t,r=this;arguments.length>1&&(t=arguments[1]);var o,i;if("undefined"==typeof t)o=!1;else{if(!ne.IsCallable(t))throw new TypeError("Array.from: when provided, the second argument must be a function");arguments.length>2&&(i=arguments[2]),o=!0}var a,s,u,c="undefined"!=typeof(J(e)||ne.GetMethod(e,K));if(c){s=ne.IsConstructor(r)?Object(new r):[];var l,f,p=ne.GetIterator(e);for(u=0;;){if(l=ne.IteratorStep(p),l===!1)break;f=l.value;try{o&&(f="undefined"==typeof i?t(f,u):n(t,i,f,u)),s[u]=f}catch(e){throw ne.IteratorClose(p,!0),e}u+=1}a=u}else{var d=ne.ToObject(e);a=ne.ToLength(d.length),s=ne.IsConstructor(r)?Object(new r(a)):new Array(a);var h;for(u=0;a>u;++u)h=d[u],o&&(h="undefined"==typeof i?t(h,u):n(t,i,h,u)),Oe(s,u,h)}return s.length=a,s},of:function(){for(var e=arguments.length,t=this,n=r(t)||!ne.IsCallable(t)?new Array(e):ne.Construct(t,[e]),o=0;e>o;++o)Oe(n,o,arguments[o]);return n.length=e,n}};m(Array,Be),we(Array),e=function(e,t){this.i=0,this.array=e,this.kind=t},m(e.prototype,{next:function(){var t=this.i,n=this.array;if(!(this instanceof e))throw new TypeError("Not an ArrayIterator");if("undefined"!=typeof n)for(var r=ne.ToLength(n.length);r>t;t++){var o,i=this.kind;return"key"===i?o=t:"value"===i?o=n[t]:"entry"===i&&(o=[t,n[t]]),this.i=t+1,ze(o)}return this.array=void 0,ze()}}),xe(e.prototype);var Ve=Array.of===Be.of||function(){var e=function(e){this.length=e};e.prototype=[];var t=Array.of.apply(e,[1,2]);return t instanceof e&&2===t.length}();Ve||Q(Array,"of",Be.of);var Ue={copyWithin:function(e,t){var n,r=ne.ToObject(this),o=ne.ToLength(r.length),i=ne.ToInteger(e),a=ne.ToInteger(t),s=0>i?_(o+i,0):M(i,o),u=0>a?_(o+a,0):M(a,o);arguments.length>2&&(n=arguments[2]);var c="undefined"==typeof n?o:ne.ToInteger(n),l=0>c?_(o+c,0):M(c,o),f=M(l-u,o-s),p=1;for(s>u&&u+f>s&&(p=-1,u+=f-1,s+=f-1);f>0;)u in r?r[s]=r[u]:delete r[s],u+=p,s+=p,f-=1;return r},fill:function(e){var t;arguments.length>1&&(t=arguments[1]);var n;arguments.length>2&&(n=arguments[2]);var r=ne.ToObject(this),o=ne.ToLength(r.length);t=ne.ToInteger("undefined"==typeof t?0:t),n=ne.ToInteger("undefined"==typeof n?o:n);for(var i=0>t?_(o+t,0):M(t,o),a=0>n?o+n:n,s=i;o>s&&a>s;++s)r[s]=e;return r},find:function(e){var t=ne.ToObject(this),r=ne.ToLength(t.length);if(!ne.IsCallable(e))throw new TypeError("Array#find: predicate must be a function");for(var o,i=arguments.length>1?arguments[1]:null,a=0;r>a;a++)if(o=t[a],i){if(n(e,i,o,a,t))return o}else if(e(o,a,t))return o},findIndex:function(e){var t=ne.ToObject(this),r=ne.ToLength(t.length);if(!ne.IsCallable(e))throw new TypeError("Array#findIndex: predicate must be a function");for(var o=arguments.length>1?arguments[1]:null,i=0;r>i;i++)if(o){if(n(e,o,t[i],i,t))return i}else if(e(t[i],i,t))return i;return-1},keys:function(){return new e(this,"key")},values:function(){return new e(this,"value")},entries:function(){return new e(this,"entry")}};if(Array.prototype.keys&&!ne.IsCallable([1].keys().next)&&delete Array.prototype.keys,Array.prototype.entries&&!ne.IsCallable([1].entries().next)&&delete Array.prototype.entries,Array.prototype.keys&&Array.prototype.entries&&!Array.prototype.values&&Array.prototype[K]&&(m(Array.prototype,{values:Array.prototype[K]}),Y.symbol(z.unscopables)&&(Array.prototype[z.unscopables].values=!0)),f&&Array.prototype.values&&"values"!==Array.prototype.values.name){var Ge=Array.prototype.values;Q(Array.prototype,"values",function(){return ne.Call(Ge,this,arguments)}),y(Array.prototype,K,Array.prototype.values,!0)}m(Array.prototype,Ue),1/[!0].indexOf(!0,-0)<0&&y(Array.prototype,"indexOf",function(){var e=C(this,arguments);return 0===e&&0>1/e?0:e},!0),xe(Array.prototype,function(){return this.values()}),Object.getPrototypeOf&&xe(Object.getPrototypeOf([].values()));var Xe=function(){return s(function(){return 0===Array.from({length:-1}).length})}(),Je=function(){var e=Array.from([0].entries());return 1===e.length&&r(e[0])&&0===e[0][0]&&0===e[0][1]}();Xe&&Je||Q(Array,"from",Be.from);var Ye=function(){return s(function(){return Array.from([0],void 0)})}();if(!Ye){var Qe=Array.from;Q(Array,"from",function(e){return arguments.length>1&&"undefined"!=typeof arguments[1]?ne.Call(Qe,this,arguments):n(Qe,this,e)})}var Ze=-(Math.pow(2,32)-1),Ke=function(e,t){var r={length:Ze};return r[t?(r.length>>>0)-1:0]=!0,s(function(){return n(e,r,function(){throw new RangeError("should not reach here")},[]),!0})};if(!Ke(Array.prototype.forEach)){var et=Array.prototype.forEach;Q(Array.prototype,"forEach",function(){return ne.Call(et,this.length>=0?this:[],arguments)},!0)}if(!Ke(Array.prototype.map)){var tt=Array.prototype.map;Q(Array.prototype,"map",function(){return ne.Call(tt,this.length>=0?this:[],arguments)},!0)}if(!Ke(Array.prototype.filter)){var nt=Array.prototype.filter;Q(Array.prototype,"filter",function(){return ne.Call(nt,this.length>=0?this:[],arguments)},!0)}if(!Ke(Array.prototype.some)){var rt=Array.prototype.some;Q(Array.prototype,"some",function(){return ne.Call(rt,this.length>=0?this:[],arguments)},!0)}if(!Ke(Array.prototype.every)){var ot=Array.prototype.every;Q(Array.prototype,"every",function(){return ne.Call(ot,this.length>=0?this:[],arguments)},!0)}if(!Ke(Array.prototype.reduce)){var it=Array.prototype.reduce;Q(Array.prototype,"reduce",function(){return ne.Call(it,this.length>=0?this:[],arguments)},!0)}if(!Ke(Array.prototype.reduceRight,!0)){var at=Array.prototype.reduceRight;Q(Array.prototype,"reduceRight",function(){return ne.Call(at,this.length>=0?this:[],arguments)},!0)}var st=8!==Number("0o10"),ut=2!==Number("0b10"),ct=g(qe,function(e){return 0===Number(e+0+e)});if(st||ut||ct){var lt=Number,ft=/^0b[01]+$/i,pt=/^0o[0-7]+$/i,dt=ft.test.bind(ft),ht=pt.test.bind(pt),gt=function(e){var t;if("function"==typeof e.valueOf&&(t=e.valueOf(),Y.primitive(t)))return t;if("function"==typeof e.toString&&(t=e.toString(),Y.primitive(t)))return t;throw new TypeError("No default value")},yt=Re.test.bind(Re),mt=He.test.bind(He),vt=function(){var e=function(t){var n;n=arguments.length>0?Y.primitive(t)?t:gt(t,"number"):0,"string"==typeof n&&(n=ne.Call(Le,n),dt(n)?n=parseInt(E(n,2),2):ht(n)?n=parseInt(E(n,2),8):(yt(n)||mt(n))&&(n=0/0));var r=this,o=s(function(){return lt.prototype.valueOf.call(r),!0});return r instanceof e&&!o?new lt(n):lt(n)};return e}();ve(lt,vt,{}),m(vt,{NaN:lt.NaN,MAX_VALUE:lt.MAX_VALUE,MIN_VALUE:lt.MIN_VALUE,NEGATIVE_INFINITY:lt.NEGATIVE_INFINITY,POSITIVE_INFINITY:lt.POSITIVE_INFINITY}),Number=vt,w.redefine(j,"Number",vt)}var bt=Math.pow(2,53)-1;m(Number,{MAX_SAFE_INTEGER:bt,MIN_SAFE_INTEGER:-bt,EPSILON:2.220446049250313e-16,parseInt:j.parseInt,parseFloat:j.parseFloat,isFinite:V,isInteger:function(e){return V(e)&&ne.ToInteger(e)===e},isSafeInteger:function(e){return Number.isInteger(e)&&D(e)<=Number.MAX_SAFE_INTEGER},isNaN:B}),y(Number,"parseInt",j.parseInt,Number.parseInt!==j.parseInt),[,1].find(function(e,t){return 0===t})||Q(Array.prototype,"find",Ue.find),0!==[,1].findIndex(function(e,t){return 0===t})&&Q(Array.prototype,"findIndex",Ue.findIndex);var wt=Function.bind.call(Function.bind,Object.prototype.propertyIsEnumerable),xt=function(e,t){l&&wt(e,t)&&Object.defineProperty(e,t,{enumerable:!1})},Tt=function(){for(var e=Number(this),t=arguments.length,n=t-e,r=new Array(0>n?0:n),o=e;t>o;++o)r[o-e]=arguments[o];return r},Ot=function(e){return function(t,n){return t[n]=e[n],t}},jt=function(e,t){var n,r=o(Object(t));return ne.IsCallable(Object.getOwnPropertySymbols)&&(n=h(Object.getOwnPropertySymbols(Object(t)),wt(t))),d(A(r,n||[]),Ot(t),e)},St={assign:function(e){var t=ne.ToObject(e,"Cannot convert undefined or null to object");return d(ne.Call(Tt,1,arguments),jt,t)},is:function(e,t){return ne.SameValue(e,t)}},kt=Object.assign&&Object.preventExtensions&&function(){var e=Object.preventExtensions({1:2});try{Object.assign(e,"xy")}catch(t){return"y"===e[1]}}();if(kt&&Q(Object,"assign",St.assign),m(Object,St),l){var Ct={setPrototypeOf:function(e,t){var r,o=function(e,t){if(!ne.TypeIsObject(e))throw new TypeError("cannot set prototype on a non-object");if(null!==t&&!ne.TypeIsObject(t))throw new TypeError("can only set prototype to an object or null"+t)},i=function(e,t){return o(e,t),n(r,e,t),e};try{r=e.getOwnPropertyDescriptor(e.prototype,t).set,n(r,{},null)}catch(n){if(e.prototype!=={}[t])return;r=function(e){this[t]=e},i.polyfill=i(i({},null),e.prototype)instanceof e}return i}(Object,"__proto__")};m(Object,Ct)}Object.setPrototypeOf&&Object.getPrototypeOf&&null!==Object.getPrototypeOf(Object.setPrototypeOf({},null))&&null===Object.getPrototypeOf(Object.create(null))&&!function(){var e=Object.create(null),t=Object.getPrototypeOf,n=Object.setPrototypeOf;Object.getPrototypeOf=function(n){var r=t(n);return r===e?null:r},Object.setPrototypeOf=function(t,r){var o=null===r?e:r;return n(t,o)},Object.setPrototypeOf.polyfill=!1}();var At=!a(function(){Object.keys("foo")});if(!At){var Et=Object.keys;Q(Object,"keys",function(e){return Et(ne.ToObject(e))}),o=Object.keys}var Nt=a(function(){Object.keys(/a/g)});if(Nt){var Pt=Object.keys;Q(Object,"keys",function(e){if(Y.regex(e)){var t=[];for(var n in e)H(e,n)&&N(t,n);return t}return Pt(e)}),o=Object.keys}if(Object.getOwnPropertyNames){var It=!a(function(){Object.getOwnPropertyNames("foo")});if(!It){var _t="object"===("undefined"==typeof window?"undefined":_typeof(window))?Object.getOwnPropertyNames(window):[],Mt=Object.getOwnPropertyNames;Q(Object,"getOwnPropertyNames",function(e){var t=ne.ToObject(e);if("[object Window]"===v(t))try{return Mt(t)}catch(e){return A([],_t)}return Mt(t)})}}if(Object.getOwnPropertyDescriptor){var Ft=!a(function(){Object.getOwnPropertyDescriptor("foo","bar")});if(!Ft){var Dt=Object.getOwnPropertyDescriptor;Q(Object,"getOwnPropertyDescriptor",function(e,t){return Dt(ne.ToObject(e),t)})}}if(Object.seal){var Lt=!a(function(){Object.seal("foo")});if(!Lt){var qt=Object.seal;Q(Object,"seal",function(e){return ne.TypeIsObject(e)?qt(e):e})}}if(Object.isSealed){var Rt=!a(function(){Object.isSealed("foo")});if(!Rt){var Ht=Object.isSealed;Q(Object,"isSealed",function(e){return ne.TypeIsObject(e)?Ht(e):!0})}}if(Object.freeze){var $t=!a(function(){Object.freeze("foo")});if(!$t){var zt=Object.freeze;Q(Object,"freeze",function(e){return ne.TypeIsObject(e)?zt(e):e})}}if(Object.isFrozen){var Wt=!a(function(){Object.isFrozen("foo")});if(!Wt){var Bt=Object.isFrozen;Q(Object,"isFrozen",function(e){return ne.TypeIsObject(e)?Bt(e):!0})}}if(Object.preventExtensions){var Vt=!a(function(){Object.preventExtensions("foo")});if(!Vt){var Ut=Object.preventExtensions;Q(Object,"preventExtensions",function(e){return ne.TypeIsObject(e)?Ut(e):e})}}if(Object.isExtensible){var Gt=!a(function(){Object.isExtensible("foo")});if(!Gt){var Xt=Object.isExtensible;Q(Object,"isExtensible",function(e){return ne.TypeIsObject(e)?Xt(e):!1})}}if(Object.getPrototypeOf){var Jt=!a(function(){Object.getPrototypeOf("foo")});if(!Jt){var Yt=Object.getPrototypeOf;Q(Object,"getPrototypeOf",function(e){return Yt(ne.ToObject(e))})}}var Qt=l&&function(){var e=Object.getOwnPropertyDescriptor(RegExp.prototype,"flags");return e&&ne.IsCallable(e.get)}();if(l&&!Qt){var Zt=function(){if(!ne.TypeIsObject(this))throw new TypeError("Method called on incompatible type: must be an object.");var e="";return this.global&&(e+="g"),this.ignoreCase&&(e+="i"),this.multiline&&(e+="m"),this.unicode&&(e+="u"),this.sticky&&(e+="y"),e};w.getter(RegExp.prototype,"flags",Zt)}var Kt=l&&s(function(){return"/a/i"===String(new RegExp(/a/g,"i"))}),en=Z&&l&&function(){var e=/./;return e[z.match]=!1,RegExp(e)===e}(),tn=s(function(){return"/abc/"===RegExp.prototype.toString.call({source:"abc"})}),nn=tn&&s(function(){return"/a/b"===RegExp.prototype.toString.call({source:"a",flags:"b"})});if(!tn||!nn){var rn=RegExp.prototype.toString;y(RegExp.prototype,"toString",function(){var e=ne.RequireObjectCoercible(this);if(Y.regex(e))return n(rn,e);var t=te(e.source),r=te(e.flags);return"/"+t+"/"+r},!0),w.preserveToString(RegExp.prototype.toString,rn)}if(l&&(!Kt||en)){var on=Object.getOwnPropertyDescriptor(RegExp.prototype,"flags").get,an=Object.getOwnPropertyDescriptor(RegExp.prototype,"source")||{},sn=function(){return this.source},un=ne.IsCallable(an.get)?an.get:sn,cn=RegExp,ln=function(){return function e(t,n){var r=ne.IsRegExp(t),o=this instanceof e;if(!o&&r&&"undefined"==typeof n&&t.constructor===e)return t;var i=t,a=n;return Y.regex(t)?(i=ne.Call(un,t),a="undefined"==typeof n?ne.Call(on,t):n,new e(i,a)):(r&&(i=t.source,a="undefined"==typeof n?t.flags:n),new cn(t,n))}}();ve(cn,ln,{$input:!0}),RegExp=ln,w.redefine(j,"RegExp",ln)}if(l){var fn={input:"$_",lastMatch:"$&",lastParen:"$+",leftContext:"$`",rightContext:"$'"};p(o(fn),function(e){e in RegExp&&!(fn[e]in RegExp)&&w.getter(RegExp,fn[e],function(){return RegExp[e]})})}we(RegExp);var pn=1/Number.EPSILON,dn=function(e){return e+pn-pn},hn=Math.pow(2,-23),gn=Math.pow(2,127)*(2-hn),yn=Math.pow(2,-126),mn=Math.E,vn=Math.LOG2E,bn=Math.LOG10E,wn=Number.prototype.clz;delete Number.prototype.clz;var xn={acosh:function(e){var t=Number(e);return B(t)||1>e?0/0:1===t?0:t===1/0?t:q(t/mn+R(t+1)*R(t-1)/mn)+1},asinh:function e(t){var n=Number(t);return 0!==n&&S(n)?0>n?-e(-n):q(n+R(n*n+1)):n},atanh:function(e){var t=Number(e);return B(t)||-1>t||t>1?0/0:-1===t?-(1/0):1===t?1/0:0===t?t:.5*q((1+t)/(1-t))},cbrt:function(e){var t=Number(e);if(0===t)return t;var n,r=0>t;return r&&(t=-t),t===1/0?n=1/0:(n=L(q(t)/3),n=(t/(n*n)+2*n)/3),r?-n:n},clz32:function(e){var t=Number(e),n=ne.ToUint32(t);return 0===n?32:wn?ne.Call(wn,n):31-F(q(n+.5)*vn)},cosh:function(e){var t=Number(e);return 0===t?1:B(t)?0/0:S(t)?(0>t&&(t=-t),t>21?L(t)/2:(L(t)+L(-t))/2):1/0},expm1:function(e){var t=Number(e);if(t===-(1/0))return-1;if(!S(t)||0===t)return t;if(D(t)>.5)return L(t)-1;for(var n=t,r=0,o=1;r+n!==r;)r+=n,o+=1,n*=t/o;return r},hypot:function(){for(var e=0,t=0,n=0;n<arguments.length;++n){var r=D(Number(arguments[n]));r>t?(e*=t/r*(t/r),e+=1,t=r):e+=r>0?r/t*(r/t):r}return t===1/0?1/0:t*R(e)},log2:function(e){return q(e)*vn},log10:function(e){return q(e)*bn},log1p:function(e){var t=Number(e);return-1>t||B(t)?0/0:0===t||t===1/0?t:-1===t?-(1/0):1+t-1===0?t:t*(q(1+t)/(1+t-1))},sign:U,sinh:function(e){var t=Number(e);return S(t)&&0!==t?D(t)<1?(Math.expm1(t)-Math.expm1(-t))/2:(L(t-1)-L(-t-1))*mn/2:t},tanh:function(e){var t=Number(e);return B(t)||0===t?t:t>=20?1:-20>=t?-1:(Math.expm1(t)-Math.expm1(-t))/(L(t)+L(-t))},trunc:function(e){var t=Number(e);return 0>t?-F(-t):F(t)},imul:function(e,t){var n=ne.ToUint32(e),r=ne.ToUint32(t),o=n>>>16&65535,i=65535&n,a=r>>>16&65535,s=65535&r;return i*s+(o*s+i*a<<16>>>0)|0},fround:function(e){var t=Number(e);if(0===t||t===1/0||t===-(1/0)||B(t))return t;var n=U(t),r=D(t);if(yn>r)return n*dn(r/yn/hn)*yn*hn;var o=(1+hn/Number.EPSILON)*r,i=o-(o-r);return i>gn||B(i)?n*(1/0):n*i}};m(Math,xn),y(Math,"log1p",xn.log1p,-1e-17!==Math.log1p(-1e-17)),y(Math,"asinh",xn.asinh,Math.asinh(-1e7)!==-Math.asinh(1e7)),y(Math,"tanh",xn.tanh,-2e-17!==Math.tanh(-2e-17)),y(Math,"acosh",xn.acosh,Math.acosh(Number.MAX_VALUE)===1/0),y(Math,"cbrt",xn.cbrt,Math.abs(1-Math.cbrt(1e-300)/1e-100)/Number.EPSILON>8),y(Math,"sinh",xn.sinh,-2e-17!==Math.sinh(-2e-17));var Tn=Math.expm1(10);y(Math,"expm1",xn.expm1,Tn>22025.465794806718||22025.465794806718>Tn);var On=Math.round,jn=0===Math.round(.5-Number.EPSILON/4)&&1===Math.round(-.5+Number.EPSILON/3.99),Sn=pn+1,kn=2*pn-1,Cn=[Sn,kn].every(function(e){return Math.round(e)===e});y(Math,"round",function(e){var t=F(e),n=-1===t?-0:t+1;return.5>e-t?t:n},!jn||!Cn),w.preserveToString(Math.round,On);var An=Math.imul;-5!==Math.imul(4294967295,5)&&(Math.imul=xn.imul,w.preserveToString(Math.imul,An)),2!==Math.imul.length&&Q(Math,"imul",function(){return ne.Call(An,Math,arguments)});var En=function(){var e=j.setTimeout;if("function"==typeof e||"object"===("undefined"==typeof e?"undefined":_typeof(e))){ne.IsPromise=function(e){return ne.TypeIsObject(e)?"undefined"==typeof e._promise?!1:!0:!1};var t,r=function(e){if(!ne.IsConstructor(e))throw new TypeError("Bad promise constructor");var t=this,n=function(e,n){if(void 0!==t.resolve||void 0!==t.reject)throw new TypeError("Bad Promise implementation!");t.resolve=e,t.reject=n};if(t.resolve=void 0,t.reject=void 0,t.promise=new e(n),!ne.IsCallable(t.resolve)||!ne.IsCallable(t.reject))throw new TypeError("Bad promise constructor")};"undefined"!=typeof window&&ne.IsCallable(window.postMessage)&&(t=function(){var e=[],t="zero-timeout-message",n=function(n){N(e,n),window.postMessage(t,"*")},r=function(n){if(n.source===window&&n.data===t){if(n.stopPropagation(),0===e.length)return;var r=I(e);r()}};return window.addEventListener("message",r,!0),n});var o,i,a=function(){var e=j.Promise,t=e&&e.resolve&&e.resolve();return t&&function(e){return t.then(e)}},s=ne.IsCallable(j.setImmediate)?j.setImmediate:"object"===("undefined"==typeof process?"undefined":_typeof(process))&&process.nextTick?process.nextTick:a()||(ne.IsCallable(t)?t():function(t){e(t,0)}),u=function(e){return e},c=function(e){throw e},l=0,f=1,p=2,d=0,h=1,g=2,y={},v=function(e,t,n){s(function(){b(e,t,n)})},b=function(e,t,n){var r,o;if(t===y)return e(n);try{r=e(n),o=t.resolve}catch(e){r=e,o=t.reject}o(r)},w=function(e,t){var n=e._promise,r=n.reactionLength;if(r>0&&(v(n.fulfillReactionHandler0,n.reactionCapability0,t),n.fulfillReactionHandler0=void 0,n.rejectReactions0=void 0,n.reactionCapability0=void 0,r>1))for(var o=1,i=0;r>o;o++,i+=3)v(n[i+d],n[i+g],t),e[i+d]=void 0,e[i+h]=void 0,e[i+g]=void 0;n.result=t,n.state=f,n.reactionLength=0},x=function(e,t){var n=e._promise,r=n.reactionLength;if(r>0&&(v(n.rejectReactionHandler0,n.reactionCapability0,t),n.fulfillReactionHandler0=void 0,n.rejectReactions0=void 0,n.reactionCapability0=void 0,r>1))for(var o=1,i=0;r>o;o++,i+=3)v(n[i+h],n[i+g],t),e[i+d]=void 0,e[i+h]=void 0,e[i+g]=void 0;n.result=t,n.state=p,n.reactionLength=0},T=function(e){var t=!1,n=function(n){var r;if(!t){if(t=!0,n===e)return x(e,new TypeError("Self resolution"));if(!ne.TypeIsObject(n))return w(e,n);try{r=n.then}catch(t){return x(e,t)}return ne.IsCallable(r)?void s(function(){S(e,n,r)}):w(e,n)}},r=function(n){return t?void 0:(t=!0,x(e,n))};return{resolve:n,reject:r}},O=function(e,t,r,o){e===i?n(e,t,r,o,y):n(e,t,r,o)},S=function(e,t,n){var r=T(e),o=r.resolve,i=r.reject;try{O(n,t,o,i)}catch(e){i(e)}},k=function(){var e=function(t){if(!(this instanceof e))throw new TypeError('Constructor Promise requires "new"');

if(this&&this._promise)throw new TypeError("Bad construction");if(!ne.IsCallable(t))throw new TypeError("not a valid resolver");var n=je(this,e,o,{_promise:{result:void 0,state:l,reactionLength:0,fulfillReactionHandler0:void 0,rejectReactionHandler0:void 0,reactionCapability0:void 0}}),r=T(n),i=r.reject;try{t(r.resolve,i)}catch(e){i(e)}return n};return e}();o=k.prototype;var C=function(e,t,n,r){var o=!1;return function(i){if(!o&&(o=!0,t[e]=i,0===--r.count)){var a=n.resolve;a(t)}}},A=function(e,t,n){for(var r,o,i=e.iterator,a=[],s={count:1},u=0;;){try{if(r=ne.IteratorStep(i),r===!1){e.done=!0;break}o=r.value}catch(t){throw e.done=!0,t}a[u]=void 0;var c=t.resolve(o),l=C(u,a,n,s);s.count+=1,O(c.then,c,l,n.reject),u+=1}if(0===--s.count){var f=n.resolve;f(a)}return n.promise},E=function(e,t,n){for(var r,o,i,a=e.iterator;;){try{if(r=ne.IteratorStep(a),r===!1){e.done=!0;break}o=r.value}catch(t){throw e.done=!0,t}i=t.resolve(o),O(i.then,i,n.resolve,n.reject)}return n.promise};return m(k,{all:function(e){var t=this;if(!ne.TypeIsObject(t))throw new TypeError("Promise is not object");var n,o,i=new r(t);try{return n=ne.GetIterator(e),o={iterator:n,done:!1},A(o,t,i)}catch(e){var a=e;if(o&&!o.done)try{ne.IteratorClose(n,!0)}catch(e){a=e}var s=i.reject;return s(a),i.promise}},race:function(e){var t=this;if(!ne.TypeIsObject(t))throw new TypeError("Promise is not object");var n,o,i=new r(t);try{return n=ne.GetIterator(e),o={iterator:n,done:!1},E(o,t,i)}catch(e){var a=e;if(o&&!o.done)try{ne.IteratorClose(n,!0)}catch(e){a=e}var s=i.reject;return s(a),i.promise}},reject:function(e){var t=this;if(!ne.TypeIsObject(t))throw new TypeError("Bad promise constructor");var n=new r(t),o=n.reject;return o(e),n.promise},resolve:function(e){var t=this;if(!ne.TypeIsObject(t))throw new TypeError("Bad promise constructor");if(ne.IsPromise(e)){var n=e.constructor;if(n===t)return e}var o=new r(t),i=o.resolve;return i(e),o.promise}}),m(o,{catch:function(e){return this.then(null,e)},then:function(e,t){var n=this;if(!ne.IsPromise(n))throw new TypeError("not a promise");var o,i=ne.SpeciesConstructor(n,k),a=arguments.length>2&&arguments[2]===y;o=a&&i===k?y:new r(i);var s,m=ne.IsCallable(e)?e:u,b=ne.IsCallable(t)?t:c,w=n._promise;if(w.state===l){if(0===w.reactionLength)w.fulfillReactionHandler0=m,w.rejectReactionHandler0=b,w.reactionCapability0=o;else{var x=3*(w.reactionLength-1);w[x+d]=m,w[x+h]=b,w[x+g]=o}w.reactionLength+=1}else if(w.state===f)s=w.result,v(m,o,s);else{if(w.state!==p)throw new TypeError("unexpected Promise state");s=w.result,v(b,o,s)}return o.promise}}),y=new r(k),i=o.then,k}}();if(j.Promise&&(delete j.Promise.accept,delete j.Promise.defer,delete j.Promise.prototype.chain),"function"==typeof En){m(j,{Promise:En});var Nn=T(j.Promise,function(e){return e.resolve(42).then(function(){})instanceof e}),Pn=!a(function(){j.Promise.reject(42).then(null,5).then(null,$)}),In=a(function(){j.Promise.call(3,$)}),_n=function(e){var t=e.resolve(5);t.constructor={};var n=e.resolve(t);try{n.then(null,$).then(null,$)}catch(e){return!0}return t===n}(j.Promise),Mn=l&&function(){var e=0,t=Object.defineProperty({},"then",{get:function(){e+=1}});return Promise.resolve(t),1===e}(),Fn=function e(t){var n=new Promise(t);t(3,function(){}),this.then=n.then,this.constructor=e};Fn.prototype=Promise.prototype,Fn.all=Promise.all;var Dn=s(function(){return!!Fn.all([1,2])});if(Nn&&Pn&&In&&!_n&&Mn&&!Dn||(Promise=En,Q(j,"Promise",En)),1!==Promise.all.length){var Ln=Promise.all;Q(Promise,"all",function(){return ne.Call(Ln,this,arguments)})}if(1!==Promise.race.length){var qn=Promise.race;Q(Promise,"race",function(){return ne.Call(qn,this,arguments)})}if(1!==Promise.resolve.length){var Rn=Promise.resolve;Q(Promise,"resolve",function(){return ne.Call(Rn,this,arguments)})}if(1!==Promise.reject.length){var Hn=Promise.reject;Q(Promise,"reject",function(){return ne.Call(Hn,this,arguments)})}xt(Promise,"all"),xt(Promise,"race"),xt(Promise,"resolve"),xt(Promise,"reject"),we(Promise)}var $n=function(e){var t=o(d(e,function(e,t){return e[t]=!0,e},{}));return e.join(":")===t.join(":")},zn=$n(["z","a","bb"]),Wn=$n(["z",1,"a","3",2]);if(l){var Bn=function(e){return zn?"undefined"==typeof e||null===e?"^"+ne.ToString(e):"string"==typeof e?"$"+e:"number"==typeof e?Wn?e:"n"+e:"boolean"==typeof e?"b"+e:null:null},Vn=function(){return Object.create?Object.create(null):{}},Un=function(e,t,o){if(r(o)||Y.string(o))p(o,function(e){if(!ne.TypeIsObject(e))throw new TypeError("Iterator value "+e+" is not an entry object");t.set(e[0],e[1])});else if(o instanceof e)n(e.prototype.forEach,o,function(e,n){t.set(n,e)});else{var i,a;if(null!==o&&"undefined"!=typeof o){if(a=t.set,!ne.IsCallable(a))throw new TypeError("bad map");i=ne.GetIterator(o)}if("undefined"!=typeof i)for(;;){var s=ne.IteratorStep(i);if(s===!1)break;var u=s.value;try{if(!ne.TypeIsObject(u))throw new TypeError("Iterator value "+u+" is not an entry object");n(a,t,u[0],u[1])}catch(e){throw ne.IteratorClose(i,!0),e}}}},Gn=function(e,t,o){if(r(o)||Y.string(o))p(o,function(e){t.add(e)});else if(o instanceof e)n(e.prototype.forEach,o,function(e){t.add(e)});else{var i,a;if(null!==o&&"undefined"!=typeof o){if(a=t.add,!ne.IsCallable(a))throw new TypeError("bad set");i=ne.GetIterator(o)}if("undefined"!=typeof i)for(;;){var s=ne.IteratorStep(i);if(s===!1)break;var u=s.value;try{n(a,t,u)}catch(e){throw ne.IteratorClose(i,!0),e}}}},Xn={Map:function(){var e={},t=function(e,t){this.key=e,this.value=t,this.next=null,this.prev=null};t.prototype.isRemoved=function(){return this.key===e};var r=function(e){return!!e._es6map},o=function(e,t){if(!ne.TypeIsObject(e)||!r(e))throw new TypeError("Method Map.prototype."+t+" called on incompatible receiver "+ne.ToString(e))},i=function(e,t){o(e,"[[MapIterator]]"),this.head=e._head,this.i=this.head,this.kind=t};i.prototype={next:function(){var e=this.i,t=this.kind,n=this.head;if("undefined"==typeof this.i)return ze();for(;e.isRemoved()&&e!==n;)e=e.prev;for(var r;e.next!==n;)if(e=e.next,!e.isRemoved())return r="key"===t?e.key:"value"===t?e.value:[e.key,e.value],this.i=e,ze(r);return this.i=void 0,ze()}},xe(i.prototype);var a,s=function e(){if(!(this instanceof e))throw new TypeError('Constructor Map requires "new"');if(this&&this._es6map)throw new TypeError("Bad construction");var n=je(this,e,a,{_es6map:!0,_head:null,_storage:Vn(),_size:0}),r=new t(null,null);return r.next=r.prev=r,n._head=r,arguments.length>0&&Un(e,n,arguments[0]),n};return a=s.prototype,w.getter(a,"size",function(){if("undefined"==typeof this._size)throw new TypeError("size method called on incompatible Map");return this._size}),m(a,{get:function(e){o(this,"get");var t=Bn(e);if(null!==t){var n=this._storage[t];return n?n.value:void 0}for(var r=this._head,i=r;(i=i.next)!==r;)if(ne.SameValueZero(i.key,e))return i.value},has:function(e){o(this,"has");var t=Bn(e);if(null!==t)return"undefined"!=typeof this._storage[t];for(var n=this._head,r=n;(r=r.next)!==n;)if(ne.SameValueZero(r.key,e))return!0;return!1},set:function(e,n){o(this,"set");var r,i=this._head,a=i,s=Bn(e);if(null!==s){if("undefined"!=typeof this._storage[s])return this._storage[s].value=n,this;r=this._storage[s]=new t(e,n),a=i.prev}for(;(a=a.next)!==i;)if(ne.SameValueZero(a.key,e))return a.value=n,this;return r=r||new t(e,n),ne.SameValue(-0,e)&&(r.key=0),r.next=this._head,r.prev=this._head.prev,r.prev.next=r,r.next.prev=r,this._size+=1,this},delete:function(t){o(this,"delete");var n=this._head,r=n,i=Bn(t);if(null!==i){if("undefined"==typeof this._storage[i])return!1;r=this._storage[i].prev,delete this._storage[i]}for(;(r=r.next)!==n;)if(ne.SameValueZero(r.key,t))return r.key=r.value=e,r.prev.next=r.next,r.next.prev=r.prev,this._size-=1,!0;return!1},clear:function(){o(this,"clear"),this._size=0,this._storage=Vn();for(var t=this._head,n=t,r=n.next;(n=r)!==t;)n.key=n.value=e,r=n.next,n.next=n.prev=t;t.next=t.prev=t},keys:function(){return o(this,"keys"),new i(this,"key")},values:function(){return o(this,"values"),new i(this,"value")},entries:function(){return o(this,"entries"),new i(this,"key+value")},forEach:function(e){o(this,"forEach");for(var t=arguments.length>1?arguments[1]:null,r=this.entries(),i=r.next();!i.done;i=r.next())t?n(e,t,i.value[1],i.value[0],this):e(i.value[1],i.value[0],this)}}),xe(a,a.entries),s}(),Set:function(){var e,t=function(e){return e._es6set&&"undefined"!=typeof e._storage},r=function(e,n){if(!ne.TypeIsObject(e)||!t(e))throw new TypeError("Set.prototype."+n+" called on incompatible receiver "+ne.ToString(e))},i=function t(){if(!(this instanceof t))throw new TypeError('Constructor Set requires "new"');if(this&&this._es6set)throw new TypeError("Bad construction");var n=je(this,t,e,{_es6set:!0,"[[SetData]]":null,_storage:Vn()});if(!n._es6set)throw new TypeError("bad set");return arguments.length>0&&Gn(t,n,arguments[0]),n};e=i.prototype;var a=function(e){var t=e;if("^null"===t)return null;if("^undefined"===t)return void 0;var n=t.charAt(0);return"$"===n?E(t,1):"n"===n?+E(t,1):"b"===n?"btrue"===t:+t},s=function(e){if(!e["[[SetData]]"]){var t=e["[[SetData]]"]=new Xn.Map;p(o(e._storage),function(e){var n=a(e);t.set(n,n)}),e["[[SetData]]"]=t}e._storage=null};return w.getter(i.prototype,"size",function(){return r(this,"size"),this._storage?o(this._storage).length:(s(this),this["[[SetData]]"].size)}),m(i.prototype,{has:function(e){r(this,"has");var t;return this._storage&&null!==(t=Bn(e))?!!this._storage[t]:(s(this),this["[[SetData]]"].has(e))},add:function(e){r(this,"add");var t;return this._storage&&null!==(t=Bn(e))?(this._storage[t]=!0,this):(s(this),this["[[SetData]]"].set(e,e),this)},delete:function(e){r(this,"delete");var t;if(this._storage&&null!==(t=Bn(e))){var n=H(this._storage,t);return delete this._storage[t]&&n}return s(this),this["[[SetData]]"].delete(e)},clear:function(){r(this,"clear"),this._storage&&(this._storage=Vn()),this["[[SetData]]"]&&this["[[SetData]]"].clear()},values:function(){return r(this,"values"),s(this),this["[[SetData]]"].values()},entries:function(){return r(this,"entries"),s(this),this["[[SetData]]"].entries()},forEach:function(e){r(this,"forEach");var t=arguments.length>1?arguments[1]:null,o=this;s(o),this["[[SetData]]"].forEach(function(r,i){t?n(e,t,i,i,o):e(i,i,o)})}}),y(i.prototype,"keys",i.prototype.values,!0),xe(i.prototype,i.prototype.values),i}()};if(j.Map||j.Set){var Jn=s(function(){return 2===new Map([[1,2]]).get(1)});if(!Jn){var Yn=j.Map;j.Map=function e(){if(!(this instanceof e))throw new TypeError('Constructor Map requires "new"');var t=new Yn;return arguments.length>0&&Un(e,t,arguments[0]),delete t.constructor,Object.setPrototypeOf(t,j.Map.prototype),t},j.Map.prototype=x(Yn.prototype),y(j.Map.prototype,"constructor",j.Map,!0),w.preserveToString(j.Map,Yn)}var Qn=new Map,Zn=function(){var e=new Map([[1,0],[2,0],[3,0],[4,0]]);return e.set(-0,e),e.get(0)===e&&e.get(-0)===e&&e.has(0)&&e.has(-0)}(),Kn=Qn.set(1,2)===Qn;if(!Zn||!Kn){var er=Map.prototype.set;Q(Map.prototype,"set",function(e,t){return n(er,this,0===e?0:e,t),this})}if(!Zn){var tr=Map.prototype.get,nr=Map.prototype.has;m(Map.prototype,{get:function(e){return n(tr,this,0===e?0:e)},has:function(e){return n(nr,this,0===e?0:e)}},!0),w.preserveToString(Map.prototype.get,tr),w.preserveToString(Map.prototype.has,nr)}var rr=new Set,or=function(e){return e.delete(0),e.add(-0),!e.has(0)}(rr),ir=rr.add(1)===rr;if(!or||!ir){var ar=Set.prototype.add;Set.prototype.add=function(e){return n(ar,this,0===e?0:e),this},w.preserveToString(Set.prototype.add,ar)}if(!or){var sr=Set.prototype.has;Set.prototype.has=function(e){return n(sr,this,0===e?0:e)},w.preserveToString(Set.prototype.has,sr);var ur=Set.prototype.delete;Set.prototype.delete=function(e){return n(ur,this,0===e?0:e)},w.preserveToString(Set.prototype.delete,ur)}var cr=T(j.Map,function(e){var t=new e([]);return t.set(42,42),t instanceof e}),lr=Object.setPrototypeOf&&!cr,fr=function(){try{return!(j.Map()instanceof j.Map)}catch(e){return e instanceof TypeError}}();if(0!==j.Map.length||lr||!fr){var pr=j.Map;j.Map=function e(){if(!(this instanceof e))throw new TypeError('Constructor Map requires "new"');var t=new pr;return arguments.length>0&&Un(e,t,arguments[0]),delete t.constructor,Object.setPrototypeOf(t,e.prototype),t},j.Map.prototype=pr.prototype,y(j.Map.prototype,"constructor",j.Map,!0),w.preserveToString(j.Map,pr)}var dr=T(j.Set,function(e){var t=new e([]);return t.add(42,42),t instanceof e}),hr=Object.setPrototypeOf&&!dr,gr=function(){try{return!(j.Set()instanceof j.Set)}catch(e){return e instanceof TypeError}}();if(0!==j.Set.length||hr||!gr){var yr=j.Set;j.Set=function e(){if(!(this instanceof e))throw new TypeError('Constructor Set requires "new"');var t=new yr;return arguments.length>0&&Gn(e,t,arguments[0]),delete t.constructor,Object.setPrototypeOf(t,e.prototype),t},j.Set.prototype=yr.prototype,y(j.Set.prototype,"constructor",j.Set,!0),w.preserveToString(j.Set,yr)}var mr=new j.Map,vr=!s(function(){return mr.keys().next().done});if(("function"!=typeof j.Map.prototype.clear||0!==(new j.Set).size||0!==mr.size||"function"!=typeof j.Map.prototype.keys||"function"!=typeof j.Set.prototype.keys||"function"!=typeof j.Map.prototype.forEach||"function"!=typeof j.Set.prototype.forEach||u(j.Map)||u(j.Set)||"function"!=typeof mr.keys().next||vr||!cr)&&m(j,{Map:Xn.Map,Set:Xn.Set},!0),j.Set.prototype.keys!==j.Set.prototype.values&&y(j.Set.prototype,"keys",j.Set.prototype.values,!0),xe(Object.getPrototypeOf((new j.Map).keys())),xe(Object.getPrototypeOf((new j.Set).keys())),f&&"has"!==j.Set.prototype.has.name){var br=j.Set.prototype.has;Q(j.Set.prototype,"has",function(e){return n(br,this,e)})}}m(j,Xn),we(j.Map),we(j.Set)}var wr=function(e){if(!ne.TypeIsObject(e))throw new TypeError("target must be an object")},xr={apply:function(){return ne.Call(ne.Call,null,arguments)},construct:function(e,t){if(!ne.IsConstructor(e))throw new TypeError("First argument must be a constructor.");var n=arguments.length>2?arguments[2]:e;if(!ne.IsConstructor(n))throw new TypeError("new.target must be a constructor.");return ne.Construct(e,t,n,"internal")},deleteProperty:function(e,t){if(wr(e),l){var n=Object.getOwnPropertyDescriptor(e,t);if(n&&!n.configurable)return!1}return delete e[t]},has:function(e,t){return wr(e),t in e}};Object.getOwnPropertyNames&&Object.assign(xr,{ownKeys:function(e){wr(e);var t=Object.getOwnPropertyNames(e);return ne.IsCallable(Object.getOwnPropertySymbols)&&P(t,Object.getOwnPropertySymbols(e)),t}});var Tr=function(e){return!a(e)};if(Object.preventExtensions&&Object.assign(xr,{isExtensible:function(e){return wr(e),Object.isExtensible(e)},preventExtensions:function(e){return wr(e),Tr(function(){Object.preventExtensions(e)})}}),l){var Or=function(e,t,n){var r=Object.getOwnPropertyDescriptor(e,t);if(!r){var o=Object.getPrototypeOf(e);return null===o?void 0:Or(o,t,n)}return"value"in r?r.value:r.get?ne.Call(r.get,n):void 0},jr=function(e,t,r,o){var i=Object.getOwnPropertyDescriptor(e,t);if(!i){var a=Object.getPrototypeOf(e);if(null!==a)return jr(a,t,r,o);i={value:void 0,writable:!0,enumerable:!0,configurable:!0}}if("value"in i){if(!i.writable)return!1;if(!ne.TypeIsObject(o))return!1;var s=Object.getOwnPropertyDescriptor(o,t);return s?ee.defineProperty(o,t,{value:r}):ee.defineProperty(o,t,{value:r,writable:!0,enumerable:!0,configurable:!0})}return i.set?(n(i.set,o,r),!0):!1};Object.assign(xr,{defineProperty:function(e,t,n){return wr(e),Tr(function(){Object.defineProperty(e,t,n)})},getOwnPropertyDescriptor:function(e,t){return wr(e),Object.getOwnPropertyDescriptor(e,t)},get:function(e,t){wr(e);var n=arguments.length>2?arguments[2]:e;return Or(e,t,n)},set:function(e,t,n){wr(e);var r=arguments.length>3?arguments[3]:e;return jr(e,t,n,r)}})}if(Object.getPrototypeOf){var Sr=Object.getPrototypeOf;xr.getPrototypeOf=function(e){return wr(e),Sr(e)}}if(Object.setPrototypeOf&&xr.getPrototypeOf){var kr=function(e,t){for(var n=t;n;){if(e===n)return!0;n=xr.getPrototypeOf(n)}return!1};Object.assign(xr,{setPrototypeOf:function(e,t){if(wr(e),null!==t&&!ne.TypeIsObject(t))throw new TypeError("proto must be an object or null");return t===ee.getPrototypeOf(e)?!0:ee.isExtensible&&!ee.isExtensible(e)?!1:kr(e,t)?!1:(Object.setPrototypeOf(e,t),!0)}})}var Cr=function(e,t){if(ne.IsCallable(j.Reflect[e])){var n=s(function(){return j.Reflect[e](1),j.Reflect[e](0/0),j.Reflect[e](!0),!0});n&&Q(j.Reflect,e,t)}else y(j.Reflect,e,t)};Object.keys(xr).forEach(function(e){Cr(e,xr[e])});var Ar=j.Reflect.getPrototypeOf;if(f&&Ar&&"getPrototypeOf"!==Ar.name&&Q(j.Reflect,"getPrototypeOf",function(e){return n(Ar,j.Reflect,e)}),j.Reflect.setPrototypeOf&&s(function(){return j.Reflect.setPrototypeOf(1,{}),!0})&&Q(j.Reflect,"setPrototypeOf",xr.setPrototypeOf),j.Reflect.defineProperty&&(s(function(){var e=!j.Reflect.defineProperty(1,"test",{value:1}),t="function"!=typeof Object.preventExtensions||!j.Reflect.defineProperty(Object.preventExtensions({}),"test",{});return e&&t})||Q(j.Reflect,"defineProperty",xr.defineProperty)),j.Reflect.construct&&(s(function(){var e=function(){};return j.Reflect.construct(function(){},[],e)instanceof e})||Q(j.Reflect,"construct",xr.construct)),"Invalid Date"!==String(new Date(0/0))){var Er=Date.prototype.toString,Nr=function(){var e=+this;return e!==e?"Invalid Date":ne.Call(Er,this)};Q(Date.prototype,"toString",Nr)}var Pr={anchor:function(e){return ne.CreateHTML(this,"a","name",e)},big:function(){return ne.CreateHTML(this,"big","","")},blink:function(){return ne.CreateHTML(this,"blink","","")},bold:function(){return ne.CreateHTML(this,"b","","")},fixed:function(){return ne.CreateHTML(this,"tt","","")},fontcolor:function(e){return ne.CreateHTML(this,"font","color",e)},fontsize:function(e){return ne.CreateHTML(this,"font","size",e)},italics:function(){return ne.CreateHTML(this,"i","","")},link:function(e){return ne.CreateHTML(this,"a","href",e)},small:function(){return ne.CreateHTML(this,"small","","")},strike:function(){return ne.CreateHTML(this,"strike","","")},sub:function(){return ne.CreateHTML(this,"sub","","")},sup:function(){return ne.CreateHTML(this,"sup","","")}};p(Object.keys(Pr),function(e){var t=String.prototype[e],r=!1;if(ne.IsCallable(t)){var o=n(t,"",' " '),i=A([],o.match(/"/g)).length;r=o!==o.toLowerCase()||i>2}else r=!0;r&&Q(String.prototype,e,Pr[e])});var Ir=function(){if(!Z)return!1;var e="object"===("undefined"==typeof JSON?"undefined":_typeof(JSON))&&"function"==typeof JSON.stringify?JSON.stringify:null;if(!e)return!1;if("undefined"!=typeof e(z()))return!0;if("[null]"!==e([z()]))return!0;var t={a:z()};return t[z()]=!0,"{}"!==e(t)?!0:!1}(),_r=s(function(){return Z?"{}"===JSON.stringify(Object(z()))&&"[{}]"===JSON.stringify([Object(z())]):!0});if(Ir||!_r){var Mr=JSON.stringify;Q(JSON,"stringify",function(e){if("symbol"!==("undefined"==typeof e?"undefined":_typeof(e))){var t;arguments.length>1&&(t=arguments[1]);var o=[e];if(r(t))o.push(t);else{var i=ne.IsCallable(t)?t:null,a=function(e,t){var r=i?n(i,this,e,t):t;return"symbol"!==("undefined"==typeof r?"undefined":_typeof(r))?Y.symbol(r)?Ot({})(r):r:void 0};o.push(a)}return arguments.length>2&&o.push(arguments[2]),Mr.apply(this,o)}})}return j}),define("jqueryplugins",["jquery"],function(e){e.prototype.extend({popAttr:function(e){var t=this.attr(e);return this.removeAttr(e),t},popData:function(e){var t=this.data(e);return this.removeData(e),t},tag:function(){return this[0]&&this[0].tagName&&this[0].tagName.toLowerCase()},textNodes:function(){return 1===this.length&&this[0]instanceof Text?[this[0]]:Array.from(this.add(this.contents().add(this.find("*").contents())).filter(function(){return this instanceof Text})).sort(function(e,t){return 2&e.compareDocumentPosition(t)?1:-1})},prevTextNode:function(){var e=this.first()[0],t=this.parent();if(!t.length)return null;var n=t.textNodes().filter(function(t){var n=t.compareDocumentPosition(e);return 4&n&&!(8&n)});return n=n[n.length-1],n?n:t.prevTextNode()},nextTextNode:function(){var e=this.last()[0],t=this.parent();if(!t.length)return null;var n=t.textNodes().filter(function(t){var n=t.compareDocumentPosition(e);return 2&n&&!(8&n)})[0];return n?n:t.nextTextNode()}})}),function(){function e(){for(var e=0;e<arguments.length;e++)for(var t in arguments[e])this[t]=arguments[e][t]}function t(e,t){e.childAt=e.childAt||{};for(var n=t.start;n<t.end;n+=1)e.childAt[n]=t}function n(e,t,n,r){return!(e.canFollow&&!(e.canFollow.indexOf(n&&n.type)>-1)||e.cannotFollow&&(-1!==e.cannotFollow.indexOf(n&&n.type)||e.cannotFollow.indexOf("text")>-1&&r)||e.peek&&e.peek!==t.slice(0,e.peek.length))}function r(e){for(var t=e.innerText,r=[],i=0,s=i,u=t.length,c=null;u>i;){for(var l=t.slice(i),f=(r.length?r[0]:e).innerMode,p=0,d=f.length;d>p;p+=1){var h=a[f[p]];if(n(h,l,c,i>s)&&h.pattern.test(l)){var g=h.pattern.exec(l),y=h.fn(g),m=!1,v=0;if(y.matches){for(;v<r.length;v+=1){var b=r[v].type;if(b in y.matches){m=!0;break}0===b.indexOf("verbatim")&&(b="verbatimOpener"),y.cannotCross&&y.cannotCross.indexOf(b)>-1&&(v=r.length-1)}if(v>=r.length&&!y.isFront)continue}i>s&&e.addChild({type:"text",text:t.slice(s,i),innerMode:f}),c=e.addChild(y),i+=c.text.length,s=i,m&&(o(e,c,r[v]),r=r.slice(v+1)),c.isFrontToken()&&r.unshift(c);break}}p===d&&(i+=1,null===c&&(c={type:"text"}))}for(i>s&&e.addChild({type:"text",text:t.slice(s,i),innerMode:(r.length?r[0]:e).innerMode});r.length>0;)r.shift().demote();return e}function o(e,n,r){var o=e.children.indexOf(n),i=e.children.indexOf(r);n.children=e.children.splice(i+1,o-(i+1)),n.children.forEach(function(e){t(n,e)}),n.type=n.matches[r.type],n.innerText="";for(var a=0,s=n.children.length;s>a;a++)n.innerText+=n.children[a].text;n.start=r.start,n.text=r.text+n.innerText+n.text,Object.keys(r).forEach(function(e){Object.hasOwnProperty.call(n,e)||(n[e]=r[e])}),n.isFront&&(n.isFront=!1),e.children.splice(i,1),t(e,n)}var i=void 0,a={};e.prototype={constructor:e,addChild:function(n){var o=this.lastChildEnd(),i=new e({start:o,end:n.text&&o+n.text.length,children:[]},n);return i.innerText&&r(i),this.children.push(i),t(this,i),i},lastChild:function(){return this.children?this.children[this.children.length-1]||null:null},lastChildEnd:function(){var e=this.lastChild();return e?e.end:this.start+Math.max(0,this.text.indexOf(this.innerText))},tokenAt:function(e){if(e<this.start||e>=this.end)return null;if(this.childAt)return this.childAt[e]&&this.childAt[e].tokenAt(e)||this;if(this.children.length)for(var t=0;t<this.children.length;t+=1){var n=this.children[t].tokenAt(e);if(n)return n}return this},pathAt:function(e){if(e<this.start||e>=this.end)return[];if(this.childAt)return(this.childAt[e]&&this.childAt[e].pathAt(e)||[]).concat(this);var t=[];if(this.children.length)for(var n=0;n<this.children.length;n+=1){var r=this.children[n].pathAt(e);if(r.length){t.concat(r);break}}return t.concat(this)},nearestTokenAt:function(e){return e<this.start||e>=this.end?null:this.children?this.children.reduce(function(t,n){return t||(e>=n.start&&e<n.end?n:null)},null):this},everyLeaf:function e(t){if(!this.children||0===this.children.length)return!!t(this);var n=void 0;return this.children.everyLeaf(function(){n=n&&!!e(t)})},isWhitespace:function(){return this.everyLeaf(function(e){return"whitespace"===e.type||!e.text.trim()})},isFrontToken:function(){return this.isFront},isBackToken:function(){return"matches"in this},demote:function(){this.type="text"},error:function(e){this.type="error",this.message=e},toString:function(){var e=this.type+"("+this.start+"\u2192"+this.end+")";return this.children&&this.children.length>0&&(e+="["+this.children+"]"),e}},i={lex:function(t,n){return r(new e({type:"root",start:n||0,end:t.length,text:t,innerText:t,children:[],childAt:{},innerMode:i.startMode}))},rules:a},"object"===("undefined"==typeof module?"undefined":_typeof(module))?module.exports=i:"function"==typeof define&&define.amd?define("lexer",[],function(){return i}):this&&this.loaded?(this.modules||(this.modules={}),this.modules.Lexer=i):this.TwineLexer=i}.call(eval("this")||("undefined"!=typeof global?global:window)),function(){function e(t){return t&&"object"===("undefined"==typeof t?"undefined":_typeof(t))?(Object.keys(t).forEach(function(n){t[n]=e(t[n])}),t):(t+"").replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}function t(){return"[^"+Array.apply(0,arguments).map(e).join("")+"]*"}function n(e){return function(){return"("+e+Array.apply(0,arguments).join("|")+")"}}var r=void 0,o=n("?:"),i=n("?!"),a=n("?="),s="[ \\f\\t\\v\xa0\u1680\u180e\u2000-\u200a\u2028\u2029\u202f\u205f\u3000]*",u=s.replace("*","+"),c="\\b",l="\\\\\\n\\\\?|\\n\\\\",f="\\n(?!\\\\)",p="[\\w\\-\xc0-\xde\xdf-\xff\u0150\u0170\u0151\u0171]",d="[\\w\xc0-\xde\xdf-\xff\u0150\u0170\u0151\u0171]",h=o("\\n","$"),g="("+o(l,"[^\\n]")+"+)",y="\\*",m=s+"("+y+"+)"+u+g+h,v="(?:0\\.)",b=s+"("+v+"+)"+u+g+h,w=s+"-{3,}"+s+h,x=s+"(#{1,6})"+s+g+h,T=s+"(==+>|<=+|=+><=+|<==+>)"+s+h,O={opener:"\\[\\[(?!\\[)",text:"("+t("]")+")",rightSeparator:o("\\->","\\|"),leftSeparator:"<\\-",closer:"\\]\\]",legacySeparator:"\\|",legacyText:"("+o("[^\\|\\]]","\\]"+i("\\]"))+"+)"},j=p.replace("\\-","")+"*"+p.replace("\\-","").replace("\\w","a-zA-Z")+p.replace("\\-","")+"*",S="\\$("+j+")",k="'s"+u+"("+j+")",C="("+j+")"+u+"of"+c+i("it"+c),A="'s"+u,E="of"+c,N=o("it","time")+c,P="its"+u+"("+j+")",I="its"+u,_="("+j+")"+u+"of"+u+"it"+c,M="of"+c+u+"it"+c,F={opener:"\\(",name:"("+o(p.replace("]","\\/]")+p+"*",S)+"):",closer:"\\)"},D="<<[^>\\s]+\\s*(?:\\\\.|'(?:[^'\\\\]*\\\\.)*[^'\\\\]*'|\"(?:[^\"\\\\]*\\\\.)*[^\"\\\\]*\"|[^'\"\\\\>]|>(?!>))*>>",L={name:"[a-zA-Z][\\w\\-]*",attrs:"(?:\"[^\"]*\"|'[^']*'|[^'\">])*?"},q="\\|("+p.replace("]","_]")+"*)>",R="<("+p.replace("]","_]")+"*)\\|",H="\\b(\\d+(?:\\.\\d+)?(?:[eE][+\\-]?\\d+)?|NaN)"+i("m?s")+"\\b";O.main=O.opener+o(O.text+O.rightSeparator,O.text.replace("*","*?")+O.leftSeparator)+O.text,r={upperLetter:"[A-Z\xc0-\xde\u0150\u0170]",lowerLetter:"[a-z0-9_\\-\xdf-\xff\u0151\u0171]",anyLetter:p,anyLetterStrict:d,whitespace:u,escapedLine:l,br:f,commentFront:"<!--",commentBack:"-->",tag:"<\\/?"+L.name+L.attrs+">",tagPeek:"<",scriptStyleTag:"<("+o("script","style")+")"+L.attrs+">[^]*?<\\/\\1>",scriptStyleTagOpener:"<",url:"("+o("https?","mailto","javascript","ftp","data")+":\\/\\/[^\\s<]+[^<.,:;\"')\\]\\s])",bullet:y,hr:w,heading:x,align:T,bulleted:m,numbered:b,delOpener:e("~~"),italicOpener:e("//"),boldOpener:e("''"),supOpener:e("^^"),strongFront:e("**"),strongBack:e("**"),emFront:e("*"),emBack:e("*"),verbatimOpener:"`+",collapsedFront:"{",collapsedBack:"}",hookAppendedFront:"\\[",hookPrependedFront:q+"\\[",hookAnonymousFront:"\\[",hookBack:"\\]"+i(R),hookAppendedBack:"\\]"+R,passageLink:O.main+O.closer,passageLinkPeek:"[[",legacyLink:O.opener+O.legacyText+O.legacySeparator+O.legacyText+O.closer,legacyLinkPeek:"[[",simpleLink:O.opener+O.legacyText+O.closer,simpleLinkPeek:"[[",macroFront:F.opener+a(F.name),macroFrontPeek:"(",macroName:F.name,groupingFront:"\\("+i(F.name),groupingFrontPeek:"(",groupingBack:"\\)",twine1Macro:D,twine1MacroPeek:"<<",property:k,propertyPeek:"'s",belongingProperty:C,possessiveOperator:A,belongingOperator:E,belongingOperatorPeek:"of",itsOperator:I,itsOperatorPeek:"its",belongingItOperator:M,belongingItOperatorPeek:"of",variable:S,variablePeek:"$",hookRef:"\\?("+p+"+)\\b",hookRefPeek:"?",cssTime:"(\\d+\\.?\\d*|\\d*\\.?\\d+)(m?s)"+c,colour:o(o("Red","Orange","Yellow","Lime","Green","Cyan","Aqua","Blue","Navy","Purple","Fuchsia","Magenta","White","Gray","Grey","Black"),"#[\\dA-Fa-f]{3}(?:[\\dA-Fa-f]{3})?"),number:H,boolean:o("true","false")+c,identifier:N,itsProperty:P,itsPropertyPeek:"its",belongingItProperty:_,escapedStringChar:"\\\\[^\\n]",singleStringOpener:"'",doubleStringOpener:'"',is:"is"+i(" not"," in")+c,isNot:"is not"+c,and:"and"+c,or:"or"+c,not:"not"+c,inequality:o("<(?!=)","<=",">(?!=)",">="),isIn:"is in"+c,contains:"contains"+c,addition:e("+")+i("="),subtraction:e("-")+i("="),multiplication:e("*")+i("="),division:o("/","%")+i("="),comma:",",spread:"\\.\\.\\."+i("\\."),to:o("to"+c,"="),into:"into"+c,augmentedAssign:o("\\+","\\-","\\*","\\/","%")+"="},"object"===("undefined"==typeof module?"undefined":_typeof(module))?module.exports=r:"function"==typeof define&&define.amd?define("patterns",[],function(){return r}):this&&this.loaded?(this.modules||(this.modules={}),this.modules.Patterns=r):this.Patterns=r}.call(eval("this")||("undefined"!=typeof global?global:window)),function(){function e(e){function t(e){return e=e||"innerText",function(t){var n=t.reduceRight(function(e,t,n){return e||(n?t:"")},""),r={};return r[e]=n,r}}function r(e,t){var n={};return n[e]=t,function(){return{isFront:!0,matches:n,cannotCross:["verbatimOpener"]}}}function o(e,t){return Object.keys(t).forEach(function(n){var r=t[n].fn;t[n].fn=function(t){var o=r(t);return o.text||(o.text=t[0]),o.type||(o.type=n),o.innerMode||(o.innerMode=e),o}}),t}var i=Object.bind(0,null),a=[],s=[],u=o(a,{hr:{fn:i},bulleted:{fn:function(e){return{depth:e[1].length,innerText:e[2]}}},numbered:{fn:function(e){return{depth:e[1].length/2,innerText:e[2]}}},heading:{fn:function(e){return{depth:e[1].length,innerText:e[2]}}},align:{fn:function(e){var t=void 0,n=e[1],r=n.indexOf("><");return~r?(t=Math.round(r/(n.length-2)*50),25===t&&(t="center")):"<"===n[0]&&">"===n.slice(-1)?t="justify":n.indexOf(">")>-1?t="right":n.indexOf("<")>-1&&(t="left"),{align:t}}}});Object.keys(u).forEach(function(e){u[e].canFollow=[null,"br","hr","bulleted","numbered","heading","align"],u[e].cannotFollow=["text"]});var c=o(a,{twine1Macro:{fn:function(){return{type:"error",message:"Harlowe macros use a different syntax to Twine 1 and SugarCube macros."}}},br:{fn:i},emBack:{fn:function(){return{matches:{emFront:"em"},cannotCross:["verbatimOpener"]}}},strongBack:{fn:function(){return{matches:{strongFront:"strong"},cannotCross:["verbatimOpener"]}}},strongFront:{fn:function(){return{isFront:!0}}},emFront:{fn:function(){return{isFront:!0}}},boldOpener:{fn:r("boldOpener","bold")},italicOpener:{fn:r("italicOpener","italic")},delOpener:{fn:r("delOpener","del")},supOpener:{fn:r("supOpener","sup")},commentFront:{fn:function(){return{isFront:!0}}},commentBack:{fn:function(){return{matches:{commentFront:"comment"}}}},scriptStyleTag:{fn:i},tag:{fn:i},url:{fn:i},passageLink:{fn:function(e){var t=e[1],n=e[2],r=e[3];return{type:"twineLink",innerText:n?r:t,passage:t?r:n}}},simpleLink:{fn:function(e){return{type:"twineLink",innerText:e[1],passage:e[1]}}},hookPrependedFront:{fn:function(e){return{name:e[1],isFront:!0,tagPosition:"prepended"}}},hookAnonymousFront:{fn:function(){return{isFront:!0,demote:function(){this.error("This tagged hook doesn't have a matching ].")}}},canFollow:["macro","variable"]},hookAppendedFront:{fn:function(){return{isFront:!0}},cannotFollow:["macro","variable"]},hookBack:{fn:function(){return{type:"hookAppendedBack",matches:{hookPrependedFront:"hook",hookAnonymousFront:"hook"},cannotCross:["verbatimOpener"]}}},hookAppendedBack:{fn:function(e){return{name:e[1],tagPosition:"appended",matches:{hookAppendedFront:"hook"},cannotCross:["verbatimOpener"]}}},verbatimOpener:{fn:function(e){var t=e[0].length,n={};return n["verbatim"+t]="verbatim",{type:"verbatim"+t,isFront:!0,matches:n}}},collapsedFront:{fn:function(){return{isFront:!0}}},collapsedBack:{fn:function(){return{matches:{collapsedFront:"collapsed"},cannotCross:["verbatimOpener"]}}},escapedLine:{fn:i},legacyLink:{fn:function(e){return{type:"twineLink",innerText:e[1],passage:e[2]}}}}),l=o(s,{macroFront:{fn:function(e){return{isFront:!0,name:e[1]}}},groupingBack:{fn:function(){return{matches:{groupingFront:"grouping",macroFront:"macro"},cannotCross:["singleStringOpener","doubleStringOpener"]}}},hookRef:{fn:t("name")},variable:{fn:t("name")},whitespace:{fn:i,cannotFollow:"text"}}),f=o(s,Object.assign({macroName:{canFollow:["macroFront"],fn:function(e){return e[2]?{isMethodCall:!0,innerText:e[2]}:{isMethodCall:!1}}},groupingFront:{fn:function(){return{isFront:!0}}},property:{fn:t("name"),canFollow:["variable","hookRef","property","itsProperty","belongingItProperty","macro","grouping","string","boolean","number"]
},possessiveOperator:{fn:i},itsProperty:{cannotFollow:["text"],fn:t("name")},itsOperator:{cannotFollow:["text"],fn:i},belongingItProperty:{cannotFollow:["text"],fn:t("name")},belongingItOperator:{cannotFollow:["text"],fn:i},belongingProperty:{cannotFollow:["text"],fn:t("name")},belongingOperator:{cannotFollow:["text"],fn:i},escapedStringChar:{fn:function(){return{type:"text"}}},singleStringOpener:{fn:function(){return{isFront:!0,matches:{singleStringOpener:"string"}}}},doubleStringOpener:{fn:function(){return{isFront:!0,matches:{doubleStringOpener:"string"}}}},cssTime:{fn:function(e){return{value:+e[1]*("s"===e[2].toLowerCase()?1e3:1)}}},colour:{cannotFollow:["text"],fn:function(e){var t,n=e[0].toLowerCase(),r={red:"e61919",orange:"e68019",yellow:"e5e619",lime:"80e619",green:"19e619",cyan:"19e5e6",aqua:"19e5e6",blue:"197fe6",navy:"1919e6",purple:"7f19e6",fuchsia:"e619e5",magenta:"e619e5",white:"fff",black:"000",gray:"888",grey:"888"};return t=Object.hasOwnProperty.call(r,n)?"#"+r[n]:n,{colour:t}}},number:{fn:function(e){return{value:parseFloat(e[0])}}},addition:{fn:i},subtraction:{fn:i},multiplication:{fn:i},division:{fn:i},inequality:{fn:function(e){return{operator:e[0]}}},augmentedAssign:{fn:function(e){return{operator:e[0][0]}}},identifier:{fn:t("name"),cannotFollow:["text"]}},["boolean","is","to","into","and","or","not","isNot","contains","isIn"].reduce(function(e,t){return e[t]={fn:i,cannotFollow:["text"]},e},{}),["comma","spread","addition","subtraction","multiplication","division"].reduce(function(e,t){return e[t]={fn:i},e},{})));a.push.apply(a,_toConsumableArray(Object.keys(u)).concat(_toConsumableArray(Object.keys(c)),_toConsumableArray(Object.keys(l)))),s.push.apply(s,_toConsumableArray(Object.keys(l)).concat(_toConsumableArray(Object.keys(f))));var p=Object.assign({},u,c,l,f);return Object.keys(p).forEach(function(e){var t=n[e];p[e].pattern="string"!=typeof t?t:new RegExp("^(?:"+t+")","i"),n[e+"Peek"]&&(p[e].peek=n[e+"Peek"])}),Object.assign(e.rules,p),e.startMode=a,e}function t(t){var r=Object.freeze({lex:e(t).lex,Patterns:n});return r}var n=void 0;Object.assign=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},"object"===("undefined"==typeof module?"undefined":_typeof(module))?(n=require("patterns"),module.exports=t(require("lexer"))):"function"==typeof define&&define.amd?define("markup",["lexer","patterns"],function(e,r){return n=r,t(e)}):this&&this.loaded&&this.modules?(n=this.modules.Patterns,this.modules.Markup=t(this.modules.Lexer)):(n=this.Patterns,this.TwineMarkup=t(this.TwineLexer))}.call(eval("this")||("undefined"!=typeof global?global:window)),define("utils/selectors",[],function(){return Object.freeze({passage:"tw-passage",story:"tw-story",sidebar:"tw-sidebar",internalLink:"tw-link",brokenLink:"tw-broken-link",hook:"tw-hook",pseudoHook:"tw-pseudo-hook",enchantment:"tw-enchantment",expression:"tw-expression",enchanter:"[enchanter]",script:"[role=script]",stylesheet:"[role=stylesheet]",storyData:"tw-storydata",passageData:"tw-passagedata",whitespace:"tw-char[char=space], tw-char[char=tab], br",collapsed:"tw-collapsed"})}),define("utils/customelements",[],function(){if(document.registerElement){var e={};return function t(n){for(var r=Object.create(HTMLElement.prototype),o={},i=arguments.length,a=Array(i>1?i-1:0),s=1;i>s;s++)a[s-1]=arguments[s];a.forEach(function(e){o[e]={value:null}}),Object.defineProperties(r,o);var u=document.registerElement(n,{prototype:r});return e[n]=u,t}("tw-storydata","storyname","startnode","creator","creator-version","options")("tw-passagedata","name","pid","position")("tw-story")("tw-debugger")("tw-passage")("tw-link","passage-name")("tw-broken-link","passage-name")("tw-expression","type","name","js")("tw-sidebar")("tw-icon")("tw-align")("tw-collapsed")("tw-verbatim")("tw-hook","name","source")("tw-pseudo-hook")("tw-transition-container")("tw-error")("tw-error-explanation")("tw-error-explanation-button")("tw-notifier","message"),Object.freeze(e)}}),define("utils",["jquery","markup","utils/selectors","utils/customelements"],function(e,t,n){var r={configurable:0,writable:0},o={"transition-in":Object.create(null),"transition-out":Object.create(null)},i="audio,blockquote,canvas,div,h1,h2,h3,h4,h5,hr,ol,p,pre,table,ul,video,tw-align,tw-story,tw-passage".split(","),a="a,b,i,em,strong,sup,sub,abbr,acronym,s,strike,del,big,small,script,img,button,input,tw-link,tw-broken-link,tw-verbatim,tw-collapsed,tw-error".split(","),s=["audio"],u=void 0,c={lockProperties:function(e){for(var t=Object.keys(e),n={},o=0;o<t.length;o++)n[t[o]]=r;return Object.defineProperties(e,n)},lockProperty:function(e,t,n){var o=Object.create(r);return n&&(o.value=n),Object.defineProperty(e,t,o),e},getInheritedPropertyDescriptor:function(e,t){for(;e&&!e.hasOwnProperty(t);)e=Object.getPrototypeOf(e);return e&&Object.getOwnPropertyDescriptor(e,t)||null},toJSLiteral:JSON.stringify,toTSStringLiteral:function(e){var t=Math.max.apply(Math,_toConsumableArray((e.match(/(`+)/g)||[]).map(function(e){return e.length}).concat(0)))+1;return"`".repeat(t)+e+"`".repeat(t)},cssTimeUnit:function(e){if("string"==typeof e){if(e=e.toLowerCase(),"ms"===e.slice(-2))return+e.slice(0,-2)||0;if("s"===e.slice(-1))return 1e3*+e.slice(0,-1)||0}else if(Array.isArray(e)){var t=function(){var t=[];return e.forEach(function(e){var n=c.cssTimeUnit(e);n>0&&t.push(n)}),{v:t}}();if("object"===("undefined"==typeof t?"undefined":_typeof(t)))return t.v}return 0},nth:function(e){var t=(e+"").slice(-1);return e+("1"===t?"st":"2"===t?"nd":"3"===t?"rd":"th")},plural:function(e,t){return e+" "+t+(e>1?"s":"")},unescape:function(e){return e.replace(/&(?:amp|lt|gt|quot|nbsp|zwnj|#39|#96);/g,function(e){return{"&amp;":"&","&gt;":">","&lt;":"<","&quot;":'"',"&#39;":"'","&nbsp;":String.fromCharCode(160),"&zwnj;":String.fromCharCode(8204)}[e]})},escape:function(e){return e.replace(/[&><"']/g,function(e){return{"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#39;"}[e]})},insensitiveName:function(e){return(e+"").toLowerCase().replace(/-|_/g,"")},wrapHTMLTag:function(e,t){return"<"+t+">"+e+"</"+t+">"},findAndFilter:function(t,n){return t=e(t||c.storyElement),t.filter(n).add(t.find(n))},closestHookSpan:function(e){var t=e.closest(n.hook+","+n.pseudoHook);return t.length?t:e},childrenProbablyInline:function(e){var t=[];return Array.prototype.every.call(e.find("*"),function(e){return e.hidden||/none|inline/.test(e.style.display)?!0:i.indexOf(e.tagName.toLowerCase())>-1||/none|inline/.test(e.style.display)?!1:a.indexOf(e.tagName.toLowerCase())>-1?!0:(t.push(e),!0)})&&t.every(function(e){return/none|inline/.test(e.style.display)})},transitionReplace:function(t,n,r){t=c.closestHookSpan(t);var o=e("<tw-transition-container>").css("position","relative");o.insertBefore(t.first());var i=void 0;n&&(i=e("<tw-transition-container>").appendTo(o),n.appendTo(i));var a=e("<tw-transition-container>").css("position","absolute").prependTo(o);t.detach().appendTo(a),c.transitionOut(a,r),n&&c.transitionIn(i,r,function(){i.unwrap().children().first().unwrap()})},transitionOut:function(e,t){function n(){e.remove()}var r=c.childrenProbablyInline(e),o=e.length>1||!r||-1===["tw-hook","tw-passage"].indexOf(e.tag());o&&(e=e.wrapAll("<tw-transition-container>").parent()),e.attr("data-t8n",t).addClass("transition-out"),c.childrenProbablyInline(e)&&e.css("display","inline-block");var i=c.transitionTime(t,"transition-out");i?window.setTimeout(n,i):n()},transitionIn:function(e,t){function n(){var t=0===c.findAndFilter(e,s.join(",")).length;o&&t?e.contents().unwrap():e.removeClass("transition-in").removeAttr("data-t8n")}var r=c.childrenProbablyInline(e),o=e.length>1||!r||-1===["tw-hook","tw-passage"].indexOf(e.tag());o&&(e=e.wrapAll("<tw-transition-container>").parent()),e.attr("data-t8n",t).addClass("transition-in"),c.childrenProbablyInline(e)&&e.css("display","inline-block");var i=c.transitionTime(t,"transition-in");i?window.setTimeout(n,i):n()},transitionTime:function(t,n){var r=o[n];if(!r[t]){var i=e("<p>").appendTo(document.body).attr("data-t8n",t).addClass(n);r[t]=c.cssTimeUnit(i.css("animation-duration"))+c.cssTimeUnit(i.css("animation-delay")),i.remove()}return r[t]},$:function(t,n){return e(t,n||c.storyElement).not(".transition-out, .transition-out *")},log:function(e){window.console&&console.log(e)},impossible:function(e,t){window.console&&console.error(e+"(): "+t)},assert:function(e){window.console&&(e||console.error("Assertion failed!"))},assertMustHave:function(e,t){if(window.console)for(var n=0;n<t.length;n+=1)t[n]in e||console.error("Assertion failed: "+e+" lacks property "+t[n])},assertOnlyHas:function(e,t){if(window.console)for(var n in e)-1===t.indexOf(n)&&console.error("Assertion failed: "+e+" had unexpected property '"+n+"'!")},get storyElement(){return u}};return e(function(){return u=e(n.story)}),Object.freeze(c)}),define("twinescript/compiler",["utils"],function(e){function t(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;t>r;r++)n[r-1]=arguments[r];for(var o=0;o<e.length;o+=1)if(n.indexOf(e[o].type)>-1)return o;return 0/0}function n(e){for(var n=arguments.length,r=Array(n>1?n-1:0),o=1;n>o;o++)r[o-1]=arguments[o];return e.length-1-t.apply(void 0,[[].concat(_toConsumableArray(e)).reverse()].concat(r))}function r(e,a){if(!e)return"";e=[].concat(e);var s=e[0];if(1===e.length){if("identifier"===s.type)return a?"TwineError.create('keyword','I can\\'t use \\'"+s.text+"\\' in this position.') ":" Operations.Identifiers."+s.text.toLowerCase()+" ";if("variable"===s.type)return"VarRef.create(State.variables,"+o(s.name)+")"+(a?"":".get()");if("hookRef"===s.type)return a?"VarRef.create(section.selectHook('?"+s.name+"'), 'TwineScript_Assignee')":" section.selectHook('?"+s.name+"') ";if("string"===s.type)return s.text.replace(/\n/g,"\\n");if("colour"===s.type)return"Colour.create("+o(s.colour)+")";if("root"===s.type)return r(s.children)}var u=void 0,c=void 0,l=void 0,f=void 0,p=void 0,d=void 0,h=void 0,g=void 0,y=!0,m=!0,v=!1;return(u=t(e,"comma"))>-1?(p=",",m=!1):(u=t(e,"spread"))>-1?(p="Operations.makeSpreader(",f=r(e.splice(u+1))+")",y=!1):(u=t(e,"to"))>-1?(h="to",l="Operations.setIt("+r(e.slice(0,u),"varRef")+")"):(u=t(e,"into"))>-1?(h="into",f=r(e.slice(0,u),"varRef"),l="Operations.setIt("+r(e.slice(u+1),"varRef")+")"):(u=t(e,"augmentedAssign"))>-1?(h=e[u].operator,l=r(e.slice(0,u),"varRef"),f="Operations['"+h+"']("+(r(e.slice(0,u))+","+r(e.splice(u+1)))+")"):(u=t(e,"and","or"))>-1?d=e[u].type:(u=t(e,"is","isNot"))>-1?(v=!0,d=e[u].type):(u=t(e,"contains","isIn"))>-1?(v=!0,d=e[u].type):(u=t(e,"inequality"))>-1?(v=!0,d=e[u].operator):(u=t(e,"addition","subtraction"))>-1?(d=e[u].text,l=r(e.slice(0,u)),l.trim()||(l="0")):(u=t(e,"multiplication","division"))>-1?d=e[u].text:(u=t(e,"not"))>-1?(p="Operations.not(",f=r(e.splice(u+1))+")",y=!1):(u=t(e,"belongingProperty"))>-1?(f="VarRef.create("+r(e.slice(u+1),"varref")+","+o(e[u].name)+")"+(a?"":".get()"),p=" ",y=m=!1):(u=t(e,"belongingOperator","belongingItOperator"))>-1?(e[u].type.includes("It")&&(f="Operations.Identifiers.it",m=!1),g="belonging"):(u=n(e,"property"))>-1?(l="VarRef.create("+r(e.slice(0,u),"varref")+","+o(e[u].name)+")"+(a?"":".get()"),p=" ",y=m=!1):(u=n(e,"itsProperty"))>-1||(u=t(e,"belongingItProperty"))>-1?(l="VarRef.create(Operations.Identifiers.it,"+o(e[u].name)+").get()",p=" ",y=m=!1):(u=n(e,"possessiveOperator","itsOperator"))>-1?(e[u].type.includes("it")&&(l="Operations.Identifiers.it",y=!1),g="possessive"):(u=t(e,"macro"))>-1?(c=e[u].children[0],i("macroName"===c.type),p="Macros.run("+(c.isMethodCall?r(c.children):'"'+e[u].name+'"')+", [section,"+r(e[u].children.slice(1))+"])",y=m=!1):(u=t(e,"grouping"))>-1&&(p="("+r(e[u].children,a)+")",y=m=!1),u>-1?(d&&(a=!1),l=l||r(e.slice(0,u),a).trim(),f=f||r(e.splice(u+1)).trim(),v&&!l&&(l=" Operations.Identifiers.it "),y&&!l||m&&!f?"TwineError.create('operation','I need some code to be "+(y?"left ":"")+(y&&m?"and ":"")+(m?"right ":"")+'of "'+e[u].text+"\"')":p?l+p+f:h?"Operations.makeAssignmentRequest("+[l,f,o(h)]+")":g?"VarRef.create("+("belonging"===g?f:l)+",{computed:true,value:"+("belonging"===g?l:f)+"})"+(a?"":".get()"):d?" Operations["+o(d)+"]("+l+","+f+") ":""):1===e.length?((s.value||s.text)+"").trim()||" ":e.reduce(function(e,t){return e+r(t,a)},"")}var o=e.toJSLiteral,i=e.assert;return r}),define("internaltypes/twineerror",["jquery","utils"],function(e,t){var n=t.impossible,r=t.assert,o=t.escape,i={syntax:"The markup seems to contain a mistake.",saving:"I tried to save or load the game, but I couldn't do it.",operation:"I tried to use an operation on some data, but the data's type was incorrect.",macrocall:"I tried to use a macro, but its call wasn't written correctly.",datatype:"I tried to use a macro, but was given the wrong type of data to it.",keyword:"I was given a keyword in a way that I didn't understand.",changer:"This is a command to change a hook, but it isn't being used correctly.",infinite:"I almost ended up doing the same thing over and over, forever.",property:"I tried to access a value in a string/array/datamap, but I couldn't find it.",unimplemented:"I currently don't have this particular feature. I'm sorry.",javascript:"This error message was reported by your browser's Javascript engine. I don't understand it either, but it usually means that an expression was badly written."},a={create:function(e,t,o){return t||n("TwineError.create","called with only 1 string."),r(o||e in i),Object.assign(Object.create(this),{type:e,message:t,explanation:o})},fromError:function(e){return a.create("javascript","\u2615 "+e.message)},containsError:function(){for(var e=arguments.length,t=Array(e),n=0;e>n;n++)t[n]=arguments[n];return t.reduce(function(e,t){return e?e:t instanceof Error?t:a.isPrototypeOf(t)?t:Array.isArray(t)?a.containsError.apply(a,_toConsumableArray(t)):!1},!1)},createWarning:function(e,t){return Object.assign(this.create(e,t),{warning:!0})},render:function(t){t=t||"";var n=e("<tw-error class='"+("javascript"===this.type?"javascript ":"")+(this.warning?"warning":"error")+"' title='"+o(t)+"'>"+o(this.message)+"</tw-error>"),r=e("<tw-error-explanation>").text(this.explanation||i[this.type]).hide(),a=e("<tw-error-explanation-button tabindex=0>").html("<span class='folddown-arrowhead'>&#9658;</span>");return a.on("click",function(){r.toggle(),a.children(".folddown-arrowhead").css("transform","rotate("+(r.is(":visible")?"90deg":"0deg")+")")}),n.append(a).append(r),n}};return a}),define("renderer",["utils","markup","twinescript/compiler","internaltypes/twineerror"],function(e,t,n,r){function o(e,t){var n=c.render(e.children);return n&&i(n,t)}var i=e.wrapHTMLTag,a=e.escape,s=e.impossible,u=e.toJSLiteral,c=void 0,l="text-align: center; max-width:50%; ";return c={options:{},exec:function(){var e=void 0,n=void 0;return function(r){return"string"!=typeof r?(s("Renderer.exec","source was not a string, but "+("undefined"==typeof r?"undefined":_typeof(r))),""):r===e?n:(e=r,n=c.render(t.lex(r).children))}}(),render:function e(s){var f="";if(!s)return f;for(var p=s.length,d=0;p>d;d+=1){var h=s[d];switch(h.type){case"error":f+=r.create("syntax",h.message).render(a(h.text))[0].outerHTML;break;case"numbered":case"bulleted":var g="numbered"===h.type?"ol":"ul";f+="<"+g+">";for(var y=1;p>d&&s[d]&&s[d].type===h.type;)f+=("<"+g+">").repeat(Math.max(0,s[d].depth-y)),f+=("</"+g+">").repeat(Math.max(0,y-s[d].depth)),y=s[d].depth,f+=o(s[d],"li"),d+=1;d-=1,f+=("</"+g+">").repeat(y+1);break;case"align":for(;h&&"align"===h.type;){var m="",v="",b=h.align,w=d+=1;if("left"===b){d-=1;break}for(;p>d&&s[d]&&"align"!==s[d].type;)d+=1;switch(v+=e(s.slice(w,d)),b){case"center":m+=l+"margin-left: auto; margin-right: auto;";break;case"justify":case"right":m+="text-align: "+b+";";break;default:+b&&(m+=l+"margin-left: "+b+"%;")}f+="<tw-align "+(m?'style="'+m+'"':"")+(c.options.debug?' title="'+h.text+'"':"")+">"+v+"</tw-align>\n",h=s[d]}break;case"heading":f+=o(h,"h"+h.depth);break;case"br":case"hr":f+="<"+h.type+">";break;case"escapedLine":case"comment":break;case"inlineUrl":f+='<a class="link" href="'+a(h.text)+'">'+h.text+"</a>";break;case"scriptStyleTag":case"tag":f+=h.text.startsWith("</")?h.text:h.text.replace(/>$/," data-raw>");break;case"sub":case"sup":case"del":case"strong":case"em":f+=o(h,h.type);break;case"bold":f+=o(h,"b");break;case"italic":f+=o(h,"i");break;case"twineLink":var x=t.lex("(link-goto:"+u(h.innerText)+","+u(h.passage)+")");f+=e(x.children);break;case"hook":f+="<tw-hook "+(h.name?'name="'+h.name+'"':"")+(c.options.debug&&h.name?' title="Hook: ?'+h.name+'"':"")+' source="'+a(h.innerText)+'"></tw-hook>';break;case"verbatim":f+=i(a(h.innerText).replace(/\n/g,"<br>"),"tw-verbatim");break;case"collapsed":f+=o(h,"tw-collapsed");break;case"hookRef":case"variable":case"macro":f+='<tw-expression type="'+h.type+'" name="'+a(h.name||h.text)+'"'+(c.options.debug?' title="'+a(h.text)+'"':"")+' js="'+a(n(h))+'"></tw-expression>';break;default:f+=h.children&&h.children.length?e(h.children):h.text}}return f}},Object.freeze(c)}),define("passages",["jquery","utils","utils/selectors"],function(e,t,n){function r(e){return Object.assign(new Map([["source",o(e.html())],["tags",(e.attr("tags")||"").split(/\s/)],["name",e.attr("name")]]),{TwineScript_TypeName:"passage datamap",TwineScript_ObjectName:"a passage datamap"})}var o=t.unescape,i=Object.assign(new Map,{TwineScript_ObjectName:"the Passages datamap",getTagged:function(e){var t=[];return this.forEach(function(n){var r=n instanceof Map&&n.get("tags");Array.isArray(r)&&r.indexOf(e)>-1&&t.push(n)}),t.sort(function(e,t){return e.get("name")>t.get("name")})},create:r});return e(function(){Array.from(e(n.storyData+" > "+n.passageData)).forEach(function(t){t=e(t),i.set(t.attr("name"),new r(t))})}),i}),define("utils/naturalsort",[],function(){return function(e){return function t(n,r){var o,i,a,s,u=/(^-?[0-9]+(\.?[0-9]*)[df]?e?[0-9]?$|^0x[0-9a-f]+$|[0-9]+)/gi,c=/(^[ ]*|[ ]*$)/g,l=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,f=/^0x[0-9a-f]+$/i,p=/^0/,d=function(e){return t.insensitive&&(""+e).toLowerCase()||""+e},h=d(n).replace(c,"")||"",g=d(r).replace(c,"")||"",y=h.replace(u,"\x00$1\x00").replace(/\0$/,"").replace(/^\0/,"").split("\x00"),m=g.replace(u,"\x00$1\x00").replace(/\0$/,"").replace(/^\0/,"").split("\x00"),v=parseInt(h.match(f))||1!==y.length&&h.match(l)&&Date.parse(h),b=parseInt(g.match(f))||v&&g.match(l)&&Date.parse(g)||null;if(e&&window.Intl&&window.Intl.Collator&&(a=window.Intl.Collator(e)),b){if(b>v)return-1;if(v>b)return 1}for(var w=0,x=Math.max(y.length,m.length);x>w;w++){if(o=!(y[w]||"").match(p)&&parseFloat(y[w])||y[w]||0,i=!(m[w]||"").match(p)&&parseFloat(m[w])||m[w]||0,isNaN(o)!==isNaN(i))return isNaN(o)?1:-1;if(("undefined"==typeof o?"undefined":_typeof(o))!==("undefined"==typeof i?"undefined":_typeof(i)))o+="",i+="";else if("string"==typeof o&&a&&(s=a.compare(o,i),0!==s))return s;if(i>o)return-1;if(o>i)return 1}return 0}}}),define("utils/operationutils",["utils","internaltypes/twineerror"],function(e,t){function n(e){return!!e&&("object"===("undefined"==typeof e?"undefined":_typeof(e))||"function"==typeof e)}function r(e){return Array.isArray(e)?"array":e instanceof Map?"datamap":e instanceof Set?"dataset":e&&"object"===("undefined"==typeof e?"undefined":_typeof(e))?"object":""}function o(e,n){if(d(e instanceof Map),"string"!=typeof n&&"number"!=typeof n)return t.create("property","Only strings and numbers can be used as data names for "+u(e)+", not "+u(n)+".");var r="string"==typeof n?+n:""+n;return!Number.isNaN(r)&&e.has(r)?t.create("property","You mustn't use both "+u(n)+" and "+u(r)+" as data names in the same datamap."):!0}function i(e){return"string"==typeof e||Array.isArray(e)}function a(e){if(!n(e))return e;if("function"==typeof e.TwineScript_Clone)return e.TwineScript_Clone();if(Array.isArray(e))return[].concat(_toConsumableArray(e));if(e instanceof Map)return Object.assign(new Map(e),e);if(e instanceof Set)return Object.assign(new Set(e),e);if("function"==typeof e)return Object.assign(e.bind(),e);switch(Object.getPrototypeOf(e)){case Object.prototype:return Object.assign({},e);case null:return Object.assign(Object.create(null),e)}return h("OperationUtils.clone","The value "+(e.toSource?e.toSource():e)+" cannot be cloned!"),e}function s(e,t,r){return"string"==typeof t&&n(r)&&"TwineScript_ToString"in r?e(t,r.TwineScript_ToString()):"string"==typeof r&&n(t)&&"TwineScript_ToString"in t?e(t.TwineScript_ToString(),r):!1}function u(e){return n(e)&&"TwineScript_ObjectName"in e?e.TwineScript_ObjectName:Array.isArray(e)?"an array":e instanceof Map?"a datamap":e instanceof Set?"a dataset":"boolean"==typeof e?"the logic value '"+e+"'":"string"==typeof e||"number"==typeof e?"the "+("undefined"==typeof e?"undefined":_typeof(e))+" "+g(e):void 0===e?"an empty variable":"...whatever this is"}function c(e){return e.innerType?"either"===e.pattern?(d(Array.isArray(e.innerType)),e.innerType.map(c).join(" or ")):"optional"===e.pattern?"(an optional) "+c(e.innerType):c(e.innerType):e===String||e===Number||e===Boolean?"a "+_typeof(e()):e===Map?"a datamap":e===Set?"a dataset":e===Array?"an array":n(e)&&"TwineScript_TypeName"in e?e.TwineScript_TypeName:u(e)}function l(e,t){return"object"!==("undefined"==typeof e?"undefined":_typeof(e))&&"object"!==("undefined"==typeof t?"undefined":_typeof(t))?e===t:Array.isArray(e)&&Array.isArray(t)?e.length!==t.length?!1:e.every(function(e,n){return l(t[n],e)}):e instanceof Map&&t instanceof Map?l(Array.from(e.entries()).sort(),Array.from(t.entries()).sort()):e instanceof Set&&t instanceof Set?l(Array.from(e.values()),Array.from(t.values())):e&&"function"==typeof e.TwineScript_is?e.TwineScript_is(t):e&&"object"===("undefined"==typeof e?"undefined":_typeof(e))&&t&&"object"===("undefined"==typeof t?"undefined":_typeof(t))&&Object.getPrototypeOf(e)===Object.prototype&&Object.getPrototypeOf(t)===Object.prototype?l(Object.getOwnPropertyNames(e).map(function(t){return[t,e[t]]}),Object.getOwnPropertyNames(t).map(function(e){return[e,t[e]]})):Object.is(e,t)}function f(e,t){if(e){if("string"==typeof e)return e.indexOf(t)>-1;if(Array.isArray(e))return e.some(function(e){return l(e,t)});if(e instanceof Set||e instanceof Map)return Array.from(e.keys()).some(function(e){return l(e,t)})}return l(e,t)}function p(e,n,o){if(!n||!o)return t.create("macrocall","The sub"+r(e)+" index values must not be 0 or NaN.");if(0>n&&(n=e.length+n+1),0>o&&(o=e.length+o+1),n>o)return p(e,o,n);var i="string"==typeof e;i&&(e=Array.from(e));var a=e.slice(n>0?n-1:n,o);return i?a.join(""):a}var d=e.assert,h=e.impossible,g=e.toJSLiteral,y=Object.freeze({isObject:n,isValidDatamapName:o,collectionType:r,isSequential:i,clone:a,coerceToString:s,objectName:u,typeName:c,is:l,contains:f,subset:p,numericIndex:/^(?:[1-9]\d*|0)$/});return y}),define("macros",["jquery","utils/naturalsort","utils","utils/operationutils","internaltypes/twineerror"],function(e,t,n,r,o){function i(e){return function(n){n=n.reduce(function(e,n){if(n&&n.spreader===!0)if(Array.isArray(n.value)||"string"==typeof n.value)for(var r=0;r<n.value.length;r++)e.push(n.value[r]);else e.push(n.value instanceof Set?Array.from(n.value).sort(t("en")):o.create("operation","I can't spread out "+h(n.value)+", which is not a string, dataset or array."));else e.push(n);return e},[]);var r=o.containsError(n);return r?r:e.apply(void 0,_toConsumableArray(n))}}function a(e,t){if(null===t)return void 0===e;if(t.innerType){if("optional"===t.pattern||"zero or more"===t.pattern)return void 0===e?!0:a(e,t.innerType);if("either"===t.pattern)return t.innerType.some(function(t){return a(e,t)});if("wrapped"===t.pattern)return a(e,t.innerType)}return void 0!==t&&void 0===e?!1:t!==y.TypeSignature.Any||void 0===e||e.TwineScript_Unobservable?t===String?"string"==typeof e:t===Boolean?"boolean"==typeof e:t===Number?"number"==typeof e:t===Array?Array.isArray(e):t===Map||t===Set?e instanceof t:Object.isPrototypeOf.call(t,e):!0}function s(e,t,n){if(!n)return t;n=[].concat(n),e="("+(Array.isArray(e)&&e.length>1?e[0]:e)+":)";var r=void 0;return r=n.length>0?"The "+e+" macro must only be given "+n.map(g).reduce(function(e,t,n,r){return e+(0===n?"":n<r.length-1?", ":", and ")+t},"")+(n.length>1?", in that order":"."):"The macro must not be given any data - just write "+e+".",function(i){for(var s=arguments.length,u=Array(s>1?s-1:0),c=1;s>c;c++)u[c-1]=arguments[c];for(var p=void 0,d=0,m=Math.max(u.length,n.length);m>d;d+=1){var v=n[d],b=u[d];if(d>=n.length&&!p)return o.create("typesignature",u.length-n.length+" too many values were given to this "+e+" macro.",r);if(v||(v=p),!v.innerType||"rest"!==v.pattern&&"zero or more"!==v.pattern||(p=v.innerType,"rest"===v.pattern&&(v=v.innerType)),!a(b,v))return void 0===b?o.create("typesignature","The "+e+" macro needs "+f(n.length-d,"more value")+".",r):b&&b.TwineScript_Unobservable&&v===y.TypeSignature.Any?o.create("typesignature",e+"'s "+l(d+1)+" value is not valid data for this macro.",r):o.create("typesignature",e+"'s "+l(d+1)+" value is "+h(b)+", but should be "+g(v)+".",v.message||r)}return t.apply(void 0,[i].concat(u))}}function u(e,t,n){Array.isArray(e)?e.forEach(function(e){return d(m,c(e),n)}):d(m,c(e),n)}var c=n.insensitiveName,l=n.nth,f=n.plural,p=n.assert,d=n.lockProperty,h=r.objectName,g=r.typeName,y=void 0,m={},v={};return y={has:function(e){return e=c(e),m.hasOwnProperty(e)},get:function(e){return e=c(e),m.hasOwnProperty(e)&&m[e]},add:function e(t,n,r){return u(t,"value",i(s(t,n,r))),e},addChanger:function e(t,n,r,o){return p(r),u(t,"changer",i(s(t,n,o))),v[Array.isArray(t)?t[0]:t]=r,e},getChangerFn:function(e){return v[e]},TypeSignature:{optional:function(e){return{pattern:"optional",innerType:e}},zeroOrMore:function(e){return{pattern:"zero or more",innerType:e}},either:function(){for(var e=arguments.length,t=Array(e),n=0;e>n;n++)t[n]=arguments[n];return{pattern:"either",innerType:t}},rest:function(e){return{pattern:"rest",innerType:e}},wrapped:function(e,t){return{pattern:"wrapped",innerType:e,message:t}},Any:{TwineScript_TypeName:"anything"}},run:function(e,t){return o.containsError(e)?e:y.has(e)?y.get(e)(t):o.create("macrocall","I can't run the macro '"+e+"' because it doesn't exist.")}},Object.freeze(y)}),define("datatypes/changercommand",["utils","macros","utils/operationutils"],function(e,t,n){var r=e.assert,o=n.is,i={changer:!0,TwineScript_TypeName:"a changer command",TwineScript_Print:function(){return"[A '"+this.macroName+"' command]"},create:function(e,t,n){return r(void 0===t||Array.isArray(t)),Object.assign(Object.create(this),{macroName:e,params:t,next:n||null,TwineScript_ObjectName:"a ("+e+":) command"})},"TwineScript_+":function(e){for(var t=this.TwineScript_Clone(),n=t;n.next;)n=n.next;return n.next=e,t},TwineScript_is:function(e){return i.isPrototypeOf(e)?this.macroName===e.macroName&&o(this.params,e.params)&&o(this.next,e.next):void 0},TwineScript_Clone:function(){return this.create(this.macroName,this.params,this.next)},run:function(e){t.getChangerFn(this.macroName).apply(void 0,[e].concat(_toConsumableArray(this.params))),this.next&&this.next.run(e)}};return Object.freeze(i)}),define("state",["utils","passages","datatypes/changercommand","internaltypes/twineerror","utils/operationutils"],function(e,t,n,r,o){var i=e.impossible,a=o.objectName,s={TwineScript_ObjectName:"this story's variables",TwineScript_Writeproof:[]},u={passage:"",variables:s,create:function(e,t){var n=Object.create(u);return n.passage=e||"",n.variables=Object.assign(Object.create(this.variables),t),n}},c=[],l=-1,f=u.create(),p=void 0,d=Object.assign({get passage(){return f.passage},get variables(){return f.variables},get pastLength(){return l},get futureLength(){return c.length-1-l},passageNameVisited:function(e){var n=0;if(!t.get(e))return 0;for(var r=0;l>=r;r++)n+=+(e===c[r].passage);return n},passageNameLastVisited:function(e){if(!t.get(e))return 1/0;if(e===f.passage)return 0;for(var n=l;n>0;n--)if(c[n].passage===e)return l-n+1;return 1/0},pastPassageNames:function(){for(var e=[],t=l-1;t>=0;t--)e.unshift(c[t].passage);return e},newPresent:function(e){f=(c[l]||u).create(e)},play:function(e){f||i("State.play","present is undefined!"),f.passage=e,c=c.slice(0,l+1).concat(f),l+=1,this.newPresent(e)},rewind:function(e){var t=1,n=!1;if(e)if("string"==typeof e){if(t=this.passageNameLastVisited(e),t===1/0)return}else"number"==typeof e&&(t=e);for(;t>0&&l>0;t--)n=!0,l-=1;return n&&this.newPresent(c[l].passage),n},fastForward:function(e){var t=1,n=!1;for("number"==typeof e&&(t=e);t>0&&c.length>0;t--)n=!0,l+=1;return n&&this.newPresent(c[l].passage),n},reset:function(){window.jasmine&&(c=[],l=-1,f=u.create(),p=void 0)}},function(){function e(t){return"number"==typeof t||"boolean"==typeof t||"string"==typeof t||null===t||Array.isArray(t)&&t.every(e)||t instanceof Set&&Array.from(t).every(e)||t instanceof Map&&Array.from(t.values()).every(e)||n.isPrototypeOf(t)}function t(e,t){return t instanceof Set?{"(dataset:)":Array.from(t)}:t instanceof Map?{"(datamap:)":Array.from(t)}:n.isPrototypeOf(t)?{changer:{name:t.macroName,params:t.params,next:t.next}}:t}function o(e,t){if(t&&"object"===("undefined"==typeof t?"undefined":_typeof(t))){if(Array.isArray(t["(dataset:)"]))return new Set(t["(dataset:)"]);if(Array.isArray(t["(datamap:)"]))return new Map(t["(datamap:)"]);if(t.changer&&"object"===_typeof(t.changer)){var r=t.changer,o=r.name,i=r.params,a=r.next;return n.create(o,i,a)}}return t}function i(){var n=c.slice(0,l+1),o=n.map(function(t){return Object.keys(t.variables).filter(function(n){return t.variables[n]&&!e(t.variables[n])}).map(function(e){return[e,t.variables[e]]})});if(p||(p=o.reduce(function(e,t,n){var r=_slicedToArray(t,2),o=r[0],i=r[1];return e||o&&[o,i,n+1]},void 0)),p){var i=p,s=_slicedToArray(i,3),u=s[0],f=s[1],d=s[2];return r.create("saving","The variable $"+u+" holds "+a(f)+" (which is, or contains, a complex data value) on turn "+d+"; the game can no longer be saved.")}try{return JSON.stringify(n,t)}catch(e){return!1}}function f(e){var t=void 0,n=s;try{t=JSON.parse(e,o)}catch(e){return!1}return Array.isArray(t)?(t=t.map(function(e){return"object"===("undefined"==typeof e?"undefined":_typeof(e))&&e.hasOwnProperty("passage")&&e.hasOwnProperty("variables")?(e.variables=Object.assign(Object.create(n),e.variables),n=e.variables,Object.assign(Object.create(u),e)):!1})).indexOf(!1)>-1?!1:(c=t,l=c.length-1,void this.newPresent(c[l].passage)):!1}return{serialise:i,deserialise:f}}());return Object.seal(u),Object.freeze(d)}),define("datatypes/colour",["utils","jquery"],function(e,t){function n(e){if(e in u)return u[e];var n=t("<p>").css("background-color",e).css("background-color");return n=n.startsWith("rgb")?n.match(/\d+/g).reduce(function(e,t,n){return e["rgb"[n]]=+t,e},{}):{r:192,g:192,b:192},u[e]=n,n}function r(e){return"string"!=typeof e?e:(e=e.replace("#",""),e=e.replace(a,"$1$1$2$2$3$3"),{r:parseInt(e.slice(0,2),16),g:parseInt(e.slice(2,4),16),b:parseInt(e.slice(4,6),16)})}var o=e.assert,i=/^([\da-fA-F])$/,a=/^([\da-fA-F])([\da-fA-F])([\da-fA-F])$/,s=/^([\da-fA-F])([\da-fA-F])([\da-fA-F])([\da-fA-F])([\da-fA-F])([\da-fA-F])$/,u=Object.create(null),c=Object.freeze({colour:!0,TwineScript_TypeName:"a colour",TwineScript_ObjectName:"a colour","TwineScript_+":function(e){var t=this,n=e;return c.create({r:Math.min(Math.round(.6*(t.r+n.r)),255),g:Math.min(Math.round(.6*(t.g+n.g)),255),b:Math.min(Math.round(.6*(t.b+n.b)),255)})},TwineScript_Print:function(){return"<tw-colour style='background-color:rgb("+[this.r,this.g,this.b].join(",")+");'></span>"},TwineScript_is:function(e){return c.isPrototypeOf(e)&&e.r===this.r&&e.g===this.g&&e.b===this.b},TwineScript_Clone:function(){return c.create(this)},toHexString:function(){return o(this!==c),"#"+this.r.toString(16).replace(i,"0$1")+this.g.toString(16).replace(i,"0$1")+this.b.toString(16).replace(i,"0$1")},create:function(e){return"string"==typeof e?this.create(c.isHexString(e)?r(e):n(e)):Object.assign(Object.create(this),e);

},isHexString:function(e){return"string"==typeof e&&"#"===e[0]&&(e.slice(1).match(a)||e.slice(1).match(s))}});return c}),define("utils/hookutils",["jquery","utils/selectors"],function(e,t){function n(e,t,n){var r=e.textContent.length;if(!(t>=r)){var o=void 0,i=[o=0===t?e:e.splitText(t)];return n&&(0>=n&&(n=r-n),r>n&&i.push(o.splitText(n-t))),i}}function r(e,t){var o=[],i="",a=[];if(!e.length||!t)return a;for(;e.length>0;){o.push(e[0]),i+=e[0].textContent,e.shift();var s=i.indexOf(t);if(s>-1){for(var u,c=i.length-(s+t.length);s>=o[0].textContent.length;)s-=o[0].textContent.length,o.shift();if(1===o.length){var l=n(o[0],s,s+t.length);a.push(l[0]),l[1]&&e.unshift(l[1]);break}a.push(n(o[0],s,o[0].length)[0]),(u=a).push.apply(u,_toConsumableArray(o.slice(1,-1)));var f=n(o[o.length-1],0,o[o.length-1].textContent.length-c);a.push(f[0]),f[1]&&e.unshift(f[1]),a=a.filter(Boolean);break}}return[a].concat(_toConsumableArray(r(e,t)))}var o={wrapTextNodes:function(t,n,o){var i=r(n.textNodes(),t),a=e();return i.forEach(function(t){a=a.add(e(t).wrapAll(o))}),a},selectorType:function(e){if(e&&"string"==typeof e){var t=/\?(\w*)/.exec(e);return t&&t.length?"hookRef":"<"===e[0]&&">"===e[e.length-1]?"html":"string"}return"undefined"},hookToSelector:function(e){return e=e.replace(/"/g,"&quot;"),t.hook+'[name="'+e+'"]'}};return Object.freeze(o)}),define("datatypes/hookset",["jquery","utils/hookutils"],function(e,t){function n(){return this.section.$(o(this.selector.slice(1)))}function r(e){for(var t=n.call(this),r=arguments.length,o=Array(r>1?r-1:0),i=1;r>i;i++)o[i-1]=arguments[i];return e in t&&t[e].apply(t,o)}var o=t.hookToSelector,i=Object.freeze({forEach:function(t){return r.call(this,"each",function(n){t(e(this),n)})},text:function(){return r.call(this,"text")},TwineScript_ToString:function(){return this.text()},TwineScript_Print:function(){return this.text()},get TwineScript_ObjectName(){return this.selector+" (a hook reference)"},TwineScript_TypeName:"a hook reference (like ?this)",set TwineScript_Assignee(e){this.section.renderInto(e,n.call(this),{append:"replace"})},get TwineScript_Assignee(){return this},TwineScript_AssignValue:function(){return r.call(this,"text")},TwineScript_DeleteValue:function(e){"TwineScript_Assignee"===e&&r.call(this,"text","")},create:function(e,t){var n=Object.create(this);return n.section=e,n.selector=t,Object.freeze(n)}});return i}),define("internaltypes/varref",["state","internaltypes/twineerror","utils/operationutils","datatypes/hookset"],function(e,t,n,r){function o(e,n){var r=void 0;if(e instanceof Map&&(r=t.containsError(b(e,n))))return r;if(g(e)){var o=void 0;if("number"==typeof n)n-=1;else if("string"==typeof n&&(o=/(\d+)(?:st|[nr]d|th)last/i.exec(n)))n=-o[1]+"";else if("string"==typeof n&&(o=/(\d+)(?:st|[nr]d|th)/i.exec(n)))n=o[1]-1+"";else if("last"===n)n=-1;else if("length"!==n)return t.create("property","You can only access position strings/numbers ('4th', 'last', '2ndlast', (2), etc.) and 'length' of "+y(e)+", not "+y(n)+".")}else if(e instanceof Set){if("length"!==n)return t.create("property","You can only get the 'length' of a "+y(e)+".","To check contained values, use the 'contains' operator.");n="size"}else if("number"==typeof e||"boolean"==typeof e)return t.create("property","You can't get data values from "+y(e)+".");return n}function i(e,n){var r=n.reduce(function(r,i,a){i.computed&&(i=i.value),i=Array.isArray(i)?i.map(function(t){return o(e,t)}):o(e,i);var s=void 0;return(s=t.containsError(r,i))?s:(a<n.length-1&&(e=p(e,i)),r.push(i),r)},[]);return{compiledPropertyChain:r,deepestObject:e}}function a(e,t){return void 0===e?e:e instanceof Map?e.get(t):(g(e)&&0>t-0&&(t=e.length+(t-0)),e[t])}function s(e){return e.computed?"("+y(e.value)+")":"'"+e+"'"}function u(e,n){if(Array.isArray(n))return n.map(function(t){return u(e,t)});var r="I won't add "+s(n)+" to "+y(e)+" because it's one of my special system collections.",o="I can't modify '"+s(n)+"' because it holds one of my special system collections.";if(e instanceof Map)return e.TwineScript_Sealed&&!e.has(n)?t.create("operation",r):e.TwineScript_Writeproof&&e.TwineScript_Writeproof.indexOf(n)>-1?t.create("operation",o):!0;if(g(e)){if("length"===n)return t.create("operation","I can't forcibly alter the length of "+y(e)+".");if(+n!==(0|n))return t.create("property",y(e)+" can only have position keys ('3rd', '1st', (5), etc.), not "+s(n)+".")}return!e.TwineScript_Sealed||n in e?e.TwineScript_Writeproof&&e.TwineScript_Writeproof.indexOf(n)>-1?t.create("operation",o):"number"==typeof e||"boolean"==typeof e?t.create("operation","You can't alter the data values of "+y(e)+"."):!0:t.create("operation",r)}function c(e,t,n){e instanceof Map?e.set(t,n):(g(e)&&0>t-0&&(t=e.length+(t-0)),e[t]=n)}function l(e,t){g(e)&&0>t-0&&(t=e.length+(t-0)),Array.isArray(e)&&v.exec(t)?e.splice(t,1):e instanceof Map||e instanceof Set?e.delete(t):e.TwineScript_DeleteValue?e.TwineScript_DeleteValue(t):delete e[t]}function f(e){function t(){return e}return{get:t,set:t,delete:t}}function p(n,r,o){if(Array.isArray(r))return r.map(function(e){return p(n,e,e)})["string"==typeof n?"join":"valueOf"]("");"string"==typeof n&&(n=[].concat(_toConsumableArray(n)));var i=a(n,r);return void 0===i?n===e.variables?w:t.create("property","I can't find a "+s(o)+" data name in "+y(n)):i}function d(e,n){var r=this,o=this.compiledPropertyChain.reduce(function(e,t){var n=void 0;return n=0===e.length?r.object:p.apply(void 0,_toConsumableArray(e[e.length-1])),e.push([n,t])&&e},[]).reduceRight(e,n);return t.containsError(o)?o:void 0}var h=n.isObject,g=n.isSequential,y=n.objectName,m=n.clone,v=n.numericIndex,b=n.isValidDatamapName,w=0,x=Object.freeze({varref:!0,get:function(){return p(this.deepestObject,this.compiledPropertyChain.slice(-1)[0],this.propertyChain.slice(-1)[0])},set:function(e){return e&&e.TwineScript_AssignValue&&(e=e.TwineScript_AssignValue()),d.call(this,function(e,n,o){var i=_slicedToArray(n,2),a=i[0],s=i[1],l=void 0;if(l=t.containsError(e,a,s)||t.containsError(h(a)&&u(a,s)))return l;if(r.isPrototypeOf(a)&&"string"!=typeof e)return t.create("datatype","You can only set hook references to strings, not "+y(e)+".");if("string"==typeof a){var f=function(){if("string"!=typeof e||e.length!==(Array.isArray(s)?s.length:1))return{v:t.create("datatype","I can't put this non-string value, "+y(e)+", in a string.")};a=[].concat(_toConsumableArray(a));var n=[].concat(_toConsumableArray(e));[].concat(s).forEach(function(e){0>0+e&&(e=a.length+(0+e)),a=[].concat(_toConsumableArray(a.slice(0,e)),[n.shift()],_toConsumableArray(a.slice(e+1)))}),a=a.join("")}();if("object"===("undefined"==typeof f?"undefined":_typeof(f)))return f.v}else h(a)&&(Array.isArray(s)&&g(e)?("string"==typeof e&&(e=[].concat(_toConsumableArray(e))),s.map(function(t,n){return[t,e[n]]}).forEach(function(e){var t=_slicedToArray(e,2),n=t[0],r=t[1];return c(a,n,r)})):c(a,s,e));return o>0&&(a=m(a)),a},e)},delete:function(){return d.call(this,function(e,n,r){var o=_slicedToArray(n,2),i=o[0],a=o[1],s=void 0;return(s=t.containsError(e,i,a)||t.containsError(h(i)&&u(i,a)))?s:(r>0&&(i=m(i)),null===e?h(i)&&(Array.isArray(a)?a.forEach(function(e){return l(i,e)}):l(i,a)):c(i,a,e),i)},null)},create:function(e,n){var r=void 0;if(r=t.containsError(e))return f(r);n=[].concat(n),x.isPrototypeOf(e)&&(n=e.propertyChain.concat(n),e=e.object);var o=i(e,n),a=o.compiledPropertyChain,s=o.deepestObject;return(r=t.containsError(a,s))?f(r):Object.assign(Object.create(x),{object:e,propertyChain:n,compiledPropertyChain:a,deepestObject:s})},get TwineScript_ObjectName(){return(this.object===e.variables?"$":y(this.object)+"'s ")+this.propertyChain.reduce(function(e,t){return e+"'s "+s(t)})}});return x}),define("internaltypes/assignmentrequest",["utils"],function(e){var t=e.assert,n=Object.freeze({assignmentRequest:!0,TwineScript_TypeName:"an assignment operation",TwineScript_ObjectName:"an assignment operation",TwineScript_Unobservable:!0,create:function(e,n,r){return t("propertyChain"in e&&"object"in e),Object.assign(Object.create(this),{dest:e,src:n,operator:r})}});return n}),define("twinescript/operations",["state","datatypes/colour","internaltypes/assignmentrequest","utils/operationutils","internaltypes/twineerror"],function(e,t,n,r,o){function i(e,t,n,r){return n=n||"do this to",function(i,a){1===t.length&&(a=i);var s=void 0;return(s=o.containsError(i,a))?s:("undefined"==typeof i?"undefined":_typeof(i))!==e||("undefined"==typeof a?"undefined":_typeof(a))!==e?o.create("operation","I can only "+n+" "+e+"s, not "+d(("undefined"==typeof i?"undefined":_typeof(i))!==e?i:a)+".",r):t(i,a)}}function a(e){return function(t,n){var r=void 0;return(r=o.containsError(t,n))?r:t&&t.varref?o.create("operation","I can't give an expression a new value."):("undefined"==typeof t?"undefined":_typeof(t))!==("undefined"==typeof n?"undefined":_typeof(n))||c(t)!==c(n)?l(e,t,n)||o.create("operation",d(t)+" isn't the same type of data as "+d(n)):e(t,n)}}function s(e){return function(t,n){var r=void 0;return(r=o.containsError(t,n))?r:(g=t,e(t,n))}}var u=r.isObject,c=r.collectionType,l=r.coerceToString,f=r.is,p=r.contains,d=r.objectName,h=void 0,g=0,y="If one of these values is a number, you may want to write a check that it 'is not 0'. Also, if one is a string, you may want to write a check that it 'is not \"\" '.";return h={create:function(e){var t=Object.create(this);return t.Identifiers={get it(){return g},get time(){return Date.now()-e.timestamp}},t},and:i("boolean",a(function(e,t){return e&&t}),"use 'and' to join",y),or:i("boolean",a(function(e,t){return e||t}),"use 'or' to join",y),not:i("boolean",function(e){return!e},"use 'not' to invert",y),"+":a(function(e,t){if(Array.isArray(e))return[].concat(_toConsumableArray(e),_toConsumableArray(t));var n=void 0;return e instanceof Map?(n=new Map(e),t.forEach(function(e,t){return n.set(t,e)}),n):e instanceof Set?(n=new Set(e),t.forEach(function(e){return n.add(e)}),n):"function"==typeof e["TwineScript_+"]?e["TwineScript_+"](t):"string|number|boolean".includes("undefined"==typeof e?"undefined":_typeof(e))?e+t:o.create("operation","I can't use + on "+d(e)+".")}),"-":a(function(e,t){if(Array.isArray(e))return e.filter(function(e){return-1===t.indexOf(e)});var n=void 0;return e instanceof Set?(n=new Set(e),t.forEach(function(e){return n.delete(e)}),n):"string"==typeof e?e.split(t).join(""):"number"==typeof e?e-t:o.create("operation","I can't use - on "+d(e)+".")}),"*":i("number",a(function(e,t){return e*t}),"multiply"),"/":i("number",a(function(e,t){return 0===t?o.create("operation","I can't divide "+d(e)+" by zero."):e/t}),"divide"),"%":i("number",a(function(e,t){return 0===t?o.create("operation","I can't modulo "+d(e)+" by zero."):e%t}),"modulus"),"<":s(i("number",a(function(e,t){return t>e}),"do < to")),">":s(i("number",a(function(e,t){return e>t}),"do > to")),"<=":s(i("number",a(function(e,t){return t>=e}),"do <= to")),">=":s(i("number",a(function(e,t){return e>=t}),"do >= to")),is:s(f),isNot:s(function(e,t){return!h.is(e,t)}),contains:s(p),isIn:s(function(e,t){return p(t,e)}),makeSpreader:function(e){return{value:e,spreader:!0}},makeAssignmentRequest:function(e,t,r){var i=o.containsError(e,t);return i?i:t&&t.TwineScript_Unobservable?o.create("operation","That type of value can't be stored."):u(e)&&"propertyChain"in e?n.create(e,t,r):o.create("operation","I can't store a new value inside "+d(e)+".")},setIt:function(e){return o.containsError(e)?e:e.varref?(g=e.get(),e):o.create("operation","I can't put a new value into "+d(e)+".")}},Object.freeze(h)}),define("twinescript/environ",["macros","state","utils","datatypes/colour","internaltypes/varref","internaltypes/twineerror","twinescript/operations"],function(Macros,State,Utils,Colour,VarRef,TwineError,OperationsProto){return function(section){"object"===("undefined"==typeof section?"undefined":_typeof(section))&&section||Utils.impossible("TwineScript.environ","no Section argument was given!");var Operations=OperationsProto.create(section);return section.eval=function(){try{return eval(Array.from(arguments).join(""))}catch(e){return Utils.log(e),Utils.log(Array.from(arguments).join("")),e}},section}}),define("internaltypes/pseudohookset",["jquery","utils/hookutils"],function(e,t){var n=t.wrapTextNodes,r=Object.freeze({forEach:function(t){var r=n(this.selector,this.section.dom,"<tw-pseudo-hook>").parent();r.each(function(n){t(e(this),n)}),r.contents().unwrap().parent().each(function(){this.normalize()})},create:function(e,t){var n=Object.create(this);return n.section=e,n.selector=t,n}});return r}),define("internaltypes/changedescriptor",["jquery","utils","renderer"],function(e,t,n){var r=t.assertOnlyHas,o=t.impossible,i=t.transitionIn,a=n.exec,s=void 0,u={source:"",enabled:!0,target:null,append:"append",transition:"instant",transitionTime:0,styles:null,attr:null,data:null,section:null,create:function(e,t){var n=Object.assign(Object.create(this),{attr:[].concat(this.attr||[]),styles:[].concat(this.styles||[])},e);return t&&t.run(n),n},update:function(){var e=this,t=this.target;Array.isArray(this.styles)&&setTimeout(function(){return t.css(Object.assign.apply(Object,_toConsumableArray([{}].concat(e.styles))))}),this.attr&&this.attr.forEach(function(e){return t.attr(e)}),this.data&&t.data(this.data)},render:function(){var t=this.target,n=this.source,u=this.transition,c=this.enabled,l=this.append;if(r(this,s),!t||!c)return e();if(!(l in t)){if("replace"!==l)return void o("Section.render","The target jQuery doesn't have a '"+l+"' method.");t.empty(),l="append"}var f=e(n&&e.parseHTML(a(n),document,!0));return t[l](f.length?f:void 0),this.update(),u&&i("replace"===l?t:f,u),f}};return s=Object.keys(u),Object.seal(u)}),define("internaltypes/twinenotifier",["jquery","utils"],function(e,t){var n=t.impossible,r={create:function(e){return e||n("TwineNotifier.create","called with only 1 string."),Object.assign(Object.create(r),{message:e})},render:function(){return e("<tw-notifier>").attr("message",this.message)}};return r}),define("section",["jquery","utils","utils/selectors","renderer","twinescript/environ","state","utils/hookutils","datatypes/hookset","internaltypes/pseudohookset","internaltypes/changedescriptor","internaltypes/twineerror","internaltypes/twinenotifier"],function(e,t,n,r,o,i,a,s,u,c,l,f){function p(e,r){var o=e.next(n.hook);if(r&&r.changer)if(o.length){var i=this.renderInto(o.popAttr("source"),o,r);if(!i)return e.addClass("false"),void("elseif"!==t.insensitiveName(e.attr("name"))&&(this.stack[0].lastHookShown=!1))}else e.replaceWith(l.create("changer","The ("+r.macroName+":) command should be assigned to a variable or attached to a hook.","Macros like this should usually be touching the left side of a hook: "+e.attr("title")+"[Some text]").render(e.attr("title")));else if(r&&r.live)g.call(this,o,r.delay,r.event);else if((r===!1||null===r||void 0===r)&&(o.removeAttr("source"),e.addClass("false"),o.length))return void(this.stack[0].lastHookShown=!1);o.length&&(this.stack[0].lastHookShown=!0)}function d(t){var n=this.eval(t.popAttr("js")||"");if(l.containsError(n))n instanceof Error&&(n=l.fromError(n)),t.replaceWith(n.render(t.attr("title"),t));else if(f.isPrototypeOf(n))t.append(n.render());else if(n&&n.TwineScript_Print&&!n.changer){if(n=n.TwineScript_Print(),n.earlyExit)return!1;n instanceof e?t.append(n):l.containsError(n)?(n instanceof Error&&(n=l.fromError(n)),t.replaceWith(n.render(t.attr("title"),t))):this.renderInto(n,t)}else"string"==typeof n||"number"==typeof n||"object"===("undefined"==typeof n?"undefined":_typeof(n))&&n&&n.toString!==Object.prototype.toString?this.renderInto(n+"",t):p.call(this,t,n)}function h(n){function r(t){return 0===e(this||t).parentsUntil("tw-collapsed").filter("tw-verbatim, tw-expression, [collapsing=false]").length}var o=n.prevTextNode();e(o).parents("tw-collapsed").length||(o=null);var i=n.nextTextNode();e(i).parents("tw-collapsed").length||(i=null),t.findAndFilter(n,"br:not([data-raw])").filter(r).replaceWith(document.createTextNode(" "));var a=n.textNodes(),s=0;a.reduce(function(e,t){return r(t)?(t.textContent=t.textContent.replace(/\s+/g," ")," "!==t.textContent[0]||e&&e.textContent&&!(e.textContent.search(/\s$/)>-1)||(t.textContent=t.textContent.slice(1)),t):document.createTextNode("A")},o),[].concat(_toConsumableArray(a)).reverse().every(function(e){return r(e)?e.textContent.match(/^\s*$/)?(s+=e.textContent.length,e.textContent="",!0):(e.textContent=e.textContent.replace(/\s+$/,function(e){return s+=e.length,""}),!1):!1}),s>0&&i&&(a[a.length-1].textContent+=" "),n[0]&&m()&&n[0].normalize()}function g(e,t){var r=this,o=e.popAttr("source")||"";t=void 0===t?20:t;var i=function i(){r.inDOM()&&(r.renderInto(o,e,{append:"replace"}),e.find(n.expression+"[name='stop']").length||r.inDOM()&&setTimeout(i,t))};setTimeout(i,t)}var y=void 0,m=function(){var t=void 0;return function(){if(void 0!==t)return t;var n=e("<p>");return n[0].normalize?(n.append(document.createTextNode("0-"),document.createTextNode("2"),document.createTextNode(""))[0].normalize(),t=1===n.contents().length):t=!1}}();return y={create:function(n){t.assert(n instanceof e&&1===n.length);var r=Object.assign(Object.create(this),{timestamp:Date.now(),dom:n||t.storyElement,stack:[],enchantments:[]});return r=o(r)},inDOM:function(){return e(t.storyElement).find(this.dom).length>0},$:function(e){return t.$(e,this.dom)},evaluateTwineMarkup:function(t){var n=e("<p>");this.renderInto(t,n);var r=void 0;return(r=n.find("tw-error")).length>0?r:n.text()},selectHook:function(e){if(s.isPrototypeOf(e)||u.isPrototypeOf(e))return e;switch(a.selectorType(e)){case"hookRef":return s.create(this,e);case"html":return t.findAndFilter(this.dom.add(t.storyElement),e.slice(1,-1));case"string":return u.create(this,e)}return null},renderInto:function(r,o,i){var a=c.create({target:o,source:r});if(a.section=this,i&&[].concat(i).forEach(function(e){e&&e.changer?e.run(a):Object.assign(a,e)}),"string"==typeof a.target&&(a.target=this.selectHook(a.target)),!a.target)return t.impossible("Section.renderInto","ChangeDescriptor has source but not a target!"),!1;var s=e();this.stack.length>=50?s=l.create("infinite","Printing this expression may have trapped me in an infinite loop.").render(o.attr("title")).replaceAll(o):a.target instanceof e?s=a.render():a.target.forEach(function(e){s=s.add(a.create({target:e}).render())}),this.stack.unshift(Object.create(null));var u=this;return t.findAndFilter(s,n.hook+","+n.expression).each(function(){var t=e(this);switch(t.tag()){case n.hook:t.attr("source")&&(u.renderInto(t.attr("source"),t),t.removeAttr("source"));break;case n.expression:return d.call(u,t)}}),s.length&&o instanceof e&&o.is(n.hook)&&o.parents("tw-collapsed").length>0&&h(s),t.findAndFilter(s,n.collapsed).each(function(){h(e(this))}),this.stack.shift(),0===this.stack.length&&this.updateEnchantments(),a.enabled},updateEnchantments:function(){this.enchantments.forEach(function(e){e.disenchant(),e.enchantScope()})}},Object.preventExtensions(y)}),define("engine",["jquery","utils","utils/selectors","state","section","passages"],function(e,t,n,r,o,i){function a(){var t=e("<tw-passage><tw-sidebar>"),o=t.children(n.sidebar);g.permalink&&r.save&&o.append('<tw-icon tabindex=0 class="permalink" title="Permanent link to this passage"><a href="#'+r.save()+'">&sect;');var i=e('<tw-icon tabindex=0 class="undo" title="Undo">&#8630;</tw-icon>').click(h.goBack),a=e('<tw-icon tabindex=0 class="redo" title="Redo">&#8631;</tw-icon>').click(h.goForward);return r.pastLength<=0&&i.css("visibility","hidden"),r.futureLength<=0&&a.css("visibility","hidden"),o.append(i).append(a),t}function s(e,t){return"<tw-include type="+e+" title='"+c(t.get("name"))+"'>"+t.get("source")+"</tw-include>"}function u(u,c){var h="instant",y=i.get(u),m=t.storyElement,v=m.parent();v.is(n.enchantment)&&(v=m.unwrap().parent()),y&&y instanceof Map&&y.has("source")||l("Engine.showPassage","There's no passage with the name \""+u+'"!'),m.detach();var b=t.$(m.children(f));!c&&h&&p(b,h);var w=a().appendTo(m);d(w.length>0);var x=o.create(w),T=y.get("source");T=(g.debug?i.getTagged("debug-header").map(s.bind(0,"debug-header")).join(""):"")+i.getTagged("header").map(s.bind(0,"header")).join("")+T+i.getTagged("footer").map(s.bind(0,"footer")).join("")+(g.debug?i.getTagged("debug-footer").map(s.bind(0,"debug-footer")).join(""):""),r.pastLength<=0&&(g.debug&&(T=i.getTagged("debug-startup").map(s.bind(0,"debug-startup")).join("")+T),T=i.getTagged("startup").map(s.bind(0,"startup")).join("")+T),x.renderInto(T,w,[{transition:"dissolve"}]),e("html").append(m.parent().length?m.parent():m),scroll(0,c?w.offset().top-.05*e(window).height():v.offset().top)}var c=t.escape,l=t.impossible,f=t.passageSelector,p=t.transitionOut,d=t.assert,h=void 0,g=Object.create(null);return h={goBack:function(){r.rewind()&&u(r.passage)},goForward:function(){r.fastForward()&&u(r.passage)},goToPassage:function(e,t){r.play(e),u(e,t)},showPassage:u,options:g},Object.freeze(h)}),define("macrolib/values",["macros","utils/operationutils","internaltypes/twineerror"],function(e,t,n){function r(e){return function(t){var r=e.apply(void 0,_toConsumableArray(t));return"number"!=typeof r||isNaN(r)?n.create("macrocall","This mathematical expression doesn't compute!"):r}}function o(){var e;return e=~~(Math.random()*arguments.length),arguments.length<=e?void 0:arguments[e]}var i=t.subset,a=t.objectName,s=e.TypeSignature,u=s.rest,c=s.zeroOrMore,l=s.Any;e.add(["text","string"],function(){for(var e=arguments.length,t=Array(e>1?e-1:0),n=1;e>n;n++)t[n-1]=arguments[n];return t.join("")},[c(e.TypeSignature.either(String,Number,Boolean,Array))])("substring",function(e,t,n,r){return i(t,n,r)},[String,Number,Number])(["num","number"],function(e,t){return Number.isNaN(+t)?n.create("macrocall","I couldn't convert "+a(t)+" to a number."):+t},[String]),{weekday:[function(){return["Sun","Mon","Tues","Wednes","Thurs","Fri","Satur"][(new Date).getDay()]+"day"},null],monthday:[function(){return(new Date).getDate()},null],currenttime:[function(){var e=new Date,t=e.getHours()<12,n=e.getHours()%12||12,r=(e.getMinutes()<10?"0":"")+e.getMinutes();return n+":"+r+" "+(t?"A":"P")+"M"},null],currentdate:[function(){return(new Date).toDateString()},null],min:[Math.min,u(Number)],max:[Math.max,u(Number)],abs:[Math.abs,Number],sign:[Math.sign,Number],sin:[Math.sin,Number],cos:[Math.cos,Number],tan:[Math.tan,Number],floor:[Math.floor,Number],round:[Math.round,Number],ceil:[Math.ceil,Number],pow:[r(Math.pow),Number,Number],exp:[Math.exp,Number],sqrt:[r(Math.sqrt),Number],log:[r(Math.log),Number],log10:[r(Math.log10),Number],log2:[r(Math.log2),Number],random:[function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(e!==(0|e)||t!==(0|t))return n.create("macrocall","(random:) only accepts whole numbers, not "+a(e!==(0|e)?e:t));var r=void 0,o=void 0;return t?(r=Math.min(e,t),o=Math.max(e,t)):(r=0,o=e),o+=1,~~(Math.random()*(o-r))+r},[Number,e.TypeSignature.optional(Number)]],either:[o,u(l)],alert:[function(e){return window.alert(e||"")||""},String],prompt:[function(e,t){return window.prompt(e||"",t||"")||""},String,String],confirm:[function(e){return window.confirm(e||"")},String],openURL:[function(e){return window.open(e)&&""},String],reload:[function(){return window.location.reload()||""},null],gotoURL:[function(){return window.location.assign()||""},String],pageURL:[function(){return window.location.href},null],"":function(){var t=this;Object.keys(this).forEach(function(n){n&&!function(){var r=t[n][0],o=t[n][1];e.add(n,function(){for(var e=arguments.length,t=Array(e>1?e-1:0),n=1;e>n;n++)t[n-1]=arguments[n];return r.apply(void 0,t)},o)}()})}}[""]()}),function(e){!function(){if(!e.requestAnimationFrame){if(e.webkitRequestAnimationFrame)return e.requestAnimationFrame=e.webkitRequestAnimationFrame,void(e.cancelAnimationFrame=e.webkitCancelAnimationFrame||e.webkitCancelRequestAnimationFrame);var t=0;e.requestAnimationFrame=function(n){var r=(new Date).getTime(),o=Math.max(0,16-(r-t)),i=e.setTimeout(function(){n(r+o)},o);return t=r+o,i},e.cancelAnimationFrame=function(e){clearTimeout(e)}}}(),"function"==typeof define&&define("requestAnimationFrame",[],function(){return e.requestAnimationFrame})}(window),define("macrolib/commands",["requestAnimationFrame","macros","utils","state","passages","engine","internaltypes/twineerror","utils/operationutils"],function(e,t,n,r,o,i,a,s){function u(e){return"("+e+" "+i.options.ifid+") "}var c=n.toJSLiteral,l=n.unescape,f=s.isObject,p=t.TypeSignature,d=p.Any,h=p.optional,g=!!localStorage&&function(){try{return localStorage.setItem("test","1"),localStorage.removeItem("test"),!0}catch(e){return!1}}();t.add("display",function(e,t){return{TwineScript_ObjectName:"a (display: "+c(t)+") command",TwineScript_TypeName:"a (display:) command",TwineScript_Print:function(){return o.has(t)?l(o.get(t).get("source")):a.create("macrocall","I can't (display:) the passage '"+t+"' because it doesn't exist.")}}},[String])("print",function e(t,n){if(a.containsError(n))return n;if(n&&"function"==typeof n.TwineScript_Print)n=n.TwineScript_Print();else if(n instanceof Map){if(n=Array.from(n.entries()),a.containsError(n))return n;n=n.reduce(function(n,r){return n+"<tr><td>"+e(t,r[0]).TwineScript_Print()+"</td><td>"+e(t,r[1]).TwineScript_Print()+"</td></tr>"},"<table class=datamap>")+"</table>"}else if(n instanceof Set)n=Array.from(n.values());else if(Array.isArray(n))n+="";else{if(f(n))throw new TypeError("I don't know how to print this value yet.");n+=""}return{TwineScript_ObjectName:"a (print: "+c(n)+") command",TwineScript_TypeName:"a (print:) command",TwineScript_Print:function(){return n}}},[d])("goto",function(t,n){return{TwineScript_ObjectName:"a (go-to: "+c(n)+") command",TwineScript_TypeName:"a (go-to:) command",TwineScript_Print:function(){return o.has(n)?(e(i.goToPassage.bind(i,n,!1)),{earlyExit:1}):a.create("macrocall","I can't (go-to:) the passage '"+n+"' because it doesn't exist.")}}},[String])("live",function(e,t){return{TwineScript_ObjectName:"a (live: "+t+") command",TwineScript_TypeName:"a (live:) command",live:!0,delay:t}},[h(Number)])("stop",function(){return{TwineScript_ObjectName:"a (stop:) command",TwineScript_TypeName:"a (stop:) command",TwineScript_Print:function(){return""}}},[])("savegame",function(e,t,n){if(n=n||"",!g)return!1;var o=r.serialise();if(a.containsError(o))return o;try{return localStorage.setItem(u("Saved Game")+t,o),localStorage.setItem(u("Saved Game Filename")+t,n),!0}catch(e){return!1}},[String,h(String)])("loadgame",function(t,n){return{TwineScript_ObjectName:"a (load-game:) command",TwineScript_TypeName:"a (load-game:) command",TwineScript_Print:function(){var t=localStorage.getItem(u("Saved Game")+n);return t?(r.deserialise(t),e(i.showPassage.bind(i,r.passage,!1)),{earlyExit:1}):a.create("saving","I can't find a save slot named '"+n+"'!")}}},[String])}),define("macrolib/datastructures",["jquery","utils/naturalsort","macros","utils/operationutils","state","engine","passages","internaltypes/assignmentrequest","internaltypes/twineerror","internaltypes/twinenotifier"],function(e,t,n,r,o,i,a,s,u,c){var l=r.objectName,f=r.subset,p=r.collectionType,d=r.isValidDatamapName,h=n.TypeSignature,g=h.optional,y=h.rest,m=h.zeroOrMore,v=h.Any;n.add("set",function(){for(var e="",t=0;t<(arguments.length<=1?0:arguments.length-1);t+=1){var n=arguments.length<=t+1?void 0:arguments[t+1];if("into"===n.operator)return u.create("macrocall","Please say 'to' when using the (set:) macro.");var r=n.dest.set(n.src);if(u.isPrototypeOf(r))return r;i.options.debug&&(e+=(e?"; ":"")+l(n.dest)+" is now "+l(n.src))}return{TwineScript_TypeName:"a (set:) operation",TwineScript_ObjectName:"a (set:) operation",TwineScript_Unobservable:!0,TwineScript_Print:function(){return e&&c.create(e).render()}}},[y(s)])("put",function(){for(var e="",t=0;t<(arguments.length<=1?0:arguments.length-1);t+=1){var n=arguments.length<=t+1?void 0:arguments[t+1];if("into"!==n.operator)return u.create("macrocall","Please say 'into' when using the (put:) macro.");var r=n.dest.set(n.src);if(u.isPrototypeOf(r))return r;i.options.debug&&(e+=(e?"; ":"")+l(n.dest)+" is now "+l(n.src))}return{TwineScript_TypeName:"a (put:) operation",TwineScript_ObjectName:"a (put:) operation",TwineScript_Unobservable:!0,TwineScript_Print:function(){return e&&c.create(e).render()}}},[y(s)])("move",function(e,t){if("into"!==t.operator)return u.create("macrocall","Please say 'into' when using the (move:) macro.");if(t.src&&t.src.varref){var n=t.src.get(),r=void 0;if(r=u.containsError(n))return r;t.dest.set(n),t.src.delete()}else t.dest.set(t.src),t.src.TwineScript_DeleteValue&&t.src.TwineScript_DeleteValue();return{TwineScript_TypeName:"a (move:) operation",TwineScript_ObjectName:"a (move:) operation",TwineScript_Unobservable:!0,TwineScript_Print:""}},[y(s)])(["a","array"],function(){for(var e=arguments.length,t=Array(e>1?e-1:0),n=1;e>n;n++)t[n-1]=arguments[n];return t},m(v))("range",function e(t,n,r){if(n>r)return e(t,r,n);var o=[n];for(r-=n;r-->0;)o.push(++n);return o},[Number,Number])("subarray",function(e,t,n,r){return f(t,n,r)},[Array,Number,Number])("shuffled",function(){for(var e=arguments.length,t=Array(e>1?e-1:0),n=1;e>n;n++)t[n-1]=arguments[n];return t.reduce(function(e,t,n){var r=Math.random()*(n+1)|0;return r===n?e.push(t):(e.push(e[r]),e[r]=t),e},[])},[v,y(v)])("sorted",function(){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;e>r;r++)n[r-1]=arguments[r];return n.sort(t("en"))},[String,y(String)])("rotated",function(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),o=2;n>o;o++)r[o-2]=arguments[o];return t*=-1,0===t?u.create("macrocall","I can't rotate these values by 0 positions."):Math.abs(t)>=r.length?u.create("macrocall","I can't rotate these "+r.length+" values by "+t+" positions."):r.slice(t).concat(r.slice(0,t))},[v,v,y(v)])("datanames",function(e,n){return Array.from(n.keys()).sort(t("en"))},[Map])("datavalues",function(e,n){return Array.from(n.entries()).sort(function(e,n){return[e[0],n[0]].sort(t("en"))[0]===e[0]?-1:1}).map(function(e){return e[1]})},[Map])("history",function(){return o.pastPassageNames()},[])("passage",function(e,t){return a.get(t||o.passage)||u.create("macrocall","There's no passage named '"+t+"' in this story.")},[g(String)])("savedgames",function(){function e(e){return"("+e+" "+i.options.ifid+") "}var t=0,n=void 0,r=new Map;do{n=localStorage.key(t),t+=1;var o=e("Saved Game");n&&n.startsWith(o)&&(n=n.slice(o.length),r.set(n,localStorage.getItem(e("Saved Game Filename")+n)))}while(n);return r},[])("datamap",function(){for(var e=arguments.length,t=Array(e>1?e-1:0),n=1;e>n;n++)t[n-1]=arguments[n];var r=void 0,o=new Map,i=t.reduce(function(e,t){var n=void 0;if(u.containsError(e))return e;if(void 0===r)r=t;else{if(n=u.containsError(d(o,r)))return n;if(o.has(r))return u.create("macrocall","You used the same data name ("+l(r)+") twice in the same (datamap:) call.");o.set(r,t),r=void 0}return e},!0);return u.containsError(i)?i:void 0!==r?u.create("macrocall","This datamap has a data name without a value."):o},m(v))("dataset",function(){for(var e=arguments.length,t=Array(e>1?e-1:0),n=1;e>n;n++)t[n-1]=arguments[n];return new Set(t)},m(v))("count",function(e,t,n){switch(p(t)){case"dataset":case"datamap":return+t.has(name);case"string":return"string"!=typeof n?new TypeError(l(t)+" can't contain  "+l(n)+" because it isn't a string."):t.split(n).length-1;case"array":return t.reduce(function(e,t){return e+(t===n)},0)}},[v,v])}),define("macrolib/stylechangers",["jquery","macros","utils","utils/selectors","datatypes/colour","datatypes/changercommand","internaltypes/twineerror"],function(e,t,n,r,o,i,a){var s=n.insensitiveName,u=n.assert,c=n.childrenProbablyInline,l=t.TypeSignature,f=l.either,p=l.wrapped,d=[p(Boolean,'If you gave a number, you may instead want to check that the number is not 0. If you gave a string, you may instead want to check that the string is not "".')];t.addChanger("if",function(e,t){return i.create("if",[t]);

},function(e,t){return e.enabled=e.enabled&&t},d)("unless",function(e,t){return i.create("unless",[!t])},function(e,t){return e.enabled=e.enabled&&t},d)("elseif",function(e,t){return"lastHookShown"in e.stack[0]?i.create("elseif",[e.stack[0].lastHookShown===!1&&!!t]):a.create("macrocall","There's no (if:) or something else before this to do (else-if:) with.")},function(e,t){return e.enabled=e.enabled&&t},d)("else",function(e){return"lastHookShown"in e.stack[0]?i.create("else",[e.stack[0].lastHookShown===!1]):a.create("macrocall","There's nothing before this to do (else:) with.")},function(e,t){return e.enabled=e.enabled&&t},null)(["hook"],function(e,t){return i.create("hook",[t])},function(e,t){return e.attr.push({name:t})},[String])(["transition","t8n"],function(e,t){var n=["dissolve","shudder","pulse"];return t=s(t),-1===n.indexOf(t)?a.create("macrocall","'"+t+'" is not a valid (transition:)',"Only the following names are recognised (capitalisation and hyphens ignored): "+n.join(", ")):i.create("transition",[t])},function(e,t){return e.transition=t,e},[String])("font",function(e,t){return i.create("font",[t])},function(e,t){return e.styles.push({"font-family":t}),e},[String])("align",function(e,t){var n=void 0,r=t.indexOf("><");if(!/^(==+>|<=+|=+><=+|<==+>)$/.test(t))return a.create("macrocall",'The (align:) macro requires an alignment arrow ("==>", "<==", "==><=" etc.) be provided, not "'+t+'"');if(~r){var o=Math.round(r/(t.length-2)*50);n=Object.assign({"text-align":"center","max-width":"50%"},25===o?{"margin-left":"auto","margin-right":"auto"}:{"margin-left":o+"%"})}else n="<"===t[0]&&">"===t.slice(-1)?{"text-align":"justify","max-width":"50%"}:t.includes(">")?{"text-align":"right"}:{"text-align":"left"};return n.display="block",i.create("align",[n])},function(e,t){e.styles.push(t)},[String])(["text-colour","text-color","color","colour"],function(e,t){return t&&t.colour&&(t=t.toHexString(t)),i.create("text-colour",[t])},function(e,t){return e.styles.push({color:t}),e},[f(String,o)])("text-rotate",function(e,t){return i.create("text-rotate",[t])},function(t,n){return t.styles.push({display:"inline-block",transform:function(){var t=e(this).css("transform")||"";return"none"===t&&(t=""),t+" rotate("+n+"deg)"}}),t},[Number])("background",function(e,t){return t&&t.colour&&(t=t.toHexString(t)),i.create("background",[t])},function(t,n){var r=void 0;return r=o.isHexString(n)?{"background-color":n}:{"background-size":"cover","background-image":"url("+n+")"},t.styles.push(r,{display:function(){return c(e(this))?"initial":"block"}}),t},[f(String,o)]).apply(void 0,_toConsumableArray(function(){var t={color:"transparent"},n=Object.assign(Object.create(null),{bold:{"font-weight":"bold"},italic:{"font-style":"italic"},underline:{"text-decoration":"underline"},strike:{"text-decoration":"line-through"},superscript:{"vertical-align":"super","font-size":".83em"},subscript:{"vertical-align":"sub","font-size":".83em"},blink:{animation:"fade-in-out 1s steps(1,end) infinite alternate"},shudder:{animation:"shudder linear 0.1s 0s infinite",display:"inline-block"},mark:{"background-color":"hsla(60, 100%, 50%, 0.6)"},condense:{"letter-spacing":"-0.08em"},expand:{"letter-spacing":"0.1em"},outline:[{"text-shadow":function(){var t=e(this).css("color");return"-1px -1px 0 "+t+", 1px -1px 0 "+t+",-1px  1px 0 "+t+", 1px  1px 0 "+t}},{color:function(){for(var t=e(this);t.length&&t[0]!==document;t=t.parent()){var n=t.css("background-color");if("transparent"!==n&&!n.match(/^\w+a\(.+?,\s*0\s*\)$/))return n}return"#fff"}}],shadow:{"text-shadow":function(){return"0.08em 0.08em 0.08em "+e(this).css("color")}},emboss:{"text-shadow":function(){return"0.08em 0.08em 0em "+e(this).css("color")}},smear:[{"text-shadow":function(){var t=e(this).css("color");return"0em   0em 0.02em "+t+",-0.2em 0em  0.5em "+t+", 0.2em 0em  0.5em "+t}},t],blur:[{"text-shadow":function(){return"0em 0em 0.08em "+e(this).css("color")}},t],blurrier:[{"text-shadow":function(){return"0em 0em 0.2em "+e(this).css("color")},"user-select":"none"},t],mirror:{display:"inline-block",transform:"scaleX(-1)"},upsidedown:{display:"inline-block",transform:"scaleY(-1)"},fadeinout:{animation:"fade-in-out 2s ease-in-out infinite alternate"},rumble:{animation:"rumble linear 0.1s 0s infinite",display:"inline-block"}});return["text-style",function(e,t){return t=s(t),t in n?i.create("text-style",[t]):a.create("macrocall","'"+t+'" is not a valid (textstyle:)',"Only the following names are recognised (capitalisation and hyphens ignored): "+Object.keys(n).join(", "))},function(e,t){return u(t in n),e.styles=e.styles.concat(n[t]),e}]}()).concat([[String]]))("css",function(e,t){return t.trim().endsWith(";")||(t+=";"),i.create("css",[t])},function(t,n){return t.attr.push({style:function(){return(e(this).attr("style")||"")+n}}),t},[String])}),define("internaltypes/enchantment",["jquery","utils","internaltypes/changedescriptor"],function(e,t,n){var r={create:function(n){return t.assertOnlyHas(n,["scope","attr","data","changer"]),Object.assign(Object.create(this),{enchantments:e()},n)},enchantScope:function(){var t=this,r=this.attr,o=this.data,i=this.changer,a=this.scope;a instanceof e&&(a=Array.prototype.map.call(a,function(t){return e(t)})),this.enchantments=e(),a.forEach(function(e){var a=e.wrapAll("<tw-enchantment>").parent();if(r&&a.attr(r),o&&a.data(o),i){var s=n.create({target:a});i.run(s),s.update()}e.is("tw-story")&&a.css({width:"100%",height:"100%"}),t.enchantments=t.enchantments.add(a)})},disenchant:function(){this.enchantments.each(function(){e(this).contents().unwrap()})}};return Object.freeze(r)}),define("macrolib/enchantments",["jquery","utils","macros","datatypes/hookset","datatypes/changercommand","internaltypes/enchantment","internaltypes/twineerror"],function(e,t,n,r,o,i,a){function s(n,s){return t.assert(n),e(function(){t.storyElement.on(n.event+".enchantment","."+n.classList.replace(/ /g,"."),function(){var t=e(this),n=t.data("enchantmentEvent");n&&n(t)})}),[function(e,t){return t.selector&&(t=t.selector),t?o.create(s,[t]):a.create("datatype","The string given to this ("+s+":) macro was empty.")},function(e,t){e.enabled=!1,n.rerender&&(e.target=t,e.append=n.rerender);var r=i.create({attr:Object.assign({class:n.classList},n.classList.includes("link")?{tabIndex:"0"}:{}),data:{enchantmentEvent:function(){if(n.once){var t=e.section.enchantments.indexOf(r);e.section.enchantments.splice(t,1),r.disenchant()}e.section.renderInto(e.source,null,Object.assign({},e,{enabled:!0}))}},scope:e.section.selectHook(t)});return e.section.enchantments.push(r),r.enchantScope(),e},u(r,String)]}var u=n.TypeSignature.either,c=["replace","append","prepend"];c.forEach(function(t){n.addChanger(t,function(e,n){return n?o.create(t,[n]):a.create("datatype","The string given to this ("+t+":) macro was empty.")},function(n,r){var o=e(n.target.context).parents().filter("tw-collapsed").length>0;return o||(n.attr=[].concat(_toConsumableArray(n.attr),[{collapsing:!1}])),n.target=r,n.append=t,n},u(r,String))});var l=[{name:"click",enchantDesc:{event:"click",once:!0,rerender:"",classList:"link enchantment-link"}},{name:"mouseover",enchantDesc:{event:"mouseenter",once:!0,rerender:"",classList:"enchantment-mouseover"}},{name:"mouseout",enchantDesc:{event:"mouseleave",once:!0,rerender:"",classList:"enchantment-mouseout"}}];l.forEach(function(e){return n.addChanger.apply(n,[e.name].concat(_toConsumableArray(s(e.enchantDesc,e.name))))}),c.forEach(function(e){l.forEach(function(t){var r=Object.assign({},t.enchantDesc,{rerender:e}),o=t.name+"-"+e;n.addChanger.apply(n,[o].concat(_toConsumableArray(s(r,o))))})})}),define("macrolib/links",["jquery","macros","utils","utils/selectors","state","passages","engine","datatypes/changercommand"],function(e,t,n,r,o,i,a,s){var u=t.TypeSignature.optional;e(function(){return e(n.storyElement).on("click.passage-link",r.internalLink,function(){var t=e(this),n=t.parent().data("clickEvent");if(n)return void n(t);var r=t.attr("passage-name");r&&a.goToPassage(r,!1)})}),[["link","link-replace"],["link-reveal"],["link-repeat"]].forEach(function(e){return t.addChanger(e,function(t,n){return s.create(e[0],[n])},function(t,n){var r=t.source;t.source="<tw-link tabindex=0>"+n+"</tw-link>",t.append="link"===e[0]?"replace":"append",t.data={clickEvent:function(n){t.source=r,t.section.renderInto(r+"",null,t),"link-reveal"===e[0]&&n.contents().unwrap()}}},[String])}),t.add(["link-goto"],function(t,r,a){return{TwineScript_TypeName:"a (link-goto: "+n.toJSLiteral(r)+", "+n.toJSLiteral(a)+") command",TwineScript_ObjectName:"a (link-goto:) command",TwineScript_Print:function(){var s=t.evaluateTwineMarkup(n.unescape(a||r));if(s instanceof e)return s;if(!i.has(s))return'<tw-broken-link passage-name="'+n.escape(s)+'">'+(r||a)+"</tw-broken-link>";var u=o.passageNameVisited(s);return"<tw-link tabindex=0 "+(u>0?'class="visited" ':"")+'passage-name="'+n.escape(s)+'">'+(r||a)+"</tw-link>"}}},[String,u(String)])}),define("macrolib",["utils","macrolib/values","macrolib/commands","macrolib/datastructures","macrolib/stylechangers","macrolib/enchantments","macrolib/links"],function(e){var t=e.log;t("Loaded the built-in macros.")}),define("repl",["utils","markup","twinescript/compiler","twinescript/environ"],function(e,t,n,r){window.REPL=function(e){var o=n(t.lex("(print:"+e+")"));return console.log(o),r({}).eval(o)},window.LEX=function(e){var n=t.lex(e);return 1===n.length?n[0]:n}}),require.config({paths:{jquery:"../node_modules/jquery/dist/jquery",almond:"../node_modules/almond/almond","es6-shim":"../node_modules/es6-shim/es6-shim",requestAnimationFrame:"../node_modules/requestanimationframe/app/requestAnimationFrame",jqueryplugins:"utils/jqueryplugins",markup:"./markup/markup",lexer:"./markup/lexer",patterns:"./markup/patterns"},deps:["jquery","es6-shim","jqueryplugins"]}),require(["jquery","renderer","state","engine","passages","utils/selectors","macrolib","repl"],function($,Renderer,State,Engine,Passages,Selectors){function _eval(text){return eval(text+"")}function testPlayCleanup(){["_","Backbone","Store","Mn","Marionette","saveAs","FastClick","JSZip","SVG","requestAnimFrame","UUID","XDate","CodeMirror","ui","nwui","AppPref","Passage","StoryFormat","Story","AppPrefCollection","PassageCollection","StoryCollection","StoryFormatCollection","WelcomeView","StoryItemView","StoryListView","PassageItemView","StoryEditView","TwineRouter","TransRegion","TwineApp","app","storyFormat"].forEach(function(e){try{delete window[e]}catch(t){window[e]=void 0}})}var _installHandlers=function(){var e=$(document.documentElement),t="<tw-debugger><button class='show-invisibles'>&#9903; Debug View</button></tw-debugger>";e.on("keydown",function(e){13===e.which&&"0"===e.target.getAttribute("tabindex")&&$(e.target).trigger("click")}),Engine.options.debug&&($(document.body).append(t),$(".show-invisibles").click(function(){e.toggleClass("debug-mode").is(".debug-mode")})),_installHandlers=null};!function(e){window.onerror=function(t,n,r,o,i){var a=i&&i.stack&&"\n"+i.stack.replace(/\([^\)]+\)/g,"")+"\n"||"("+t+")\n";alert("Sorry to interrupt, but this page's code has got itself in a mess. "+a+"(This is probably due to a bug in the Twine game engine.)"),window.onerror=e,"function"==typeof e&&e.apply(void 0,arguments)}}(window.onerror),$(function(){var e=$(Selectors.storyData);if(0!==e.length){"TwineApp"in window&&testPlayCleanup();var t=e.attr("options");t&&t.split(/\s/).forEach(function(e){Renderer.options[e]=Engine.options[e]=!0});var n=e.attr("startnode");return Renderer.options.ifid=Engine.options.ifid=e.attr("ifid"),n||(n=[].reduce.call($(Selectors.passageData),function(e,t){var n=t.getAttribute("pid");return e>n?n:e},1/0)),n=$(Selectors.passageData+"[pid="+n+"]").attr("name"),_installHandlers(),$(Selectors.script).each(function(e){try{_eval($(this).html())}catch(t){alert("There is a problem with this story's script (#"+(e+1)+"):\n\n"+t.message)}}),$(Selectors.stylesheet).each(function(e){$(document.head).append('<style data-title="Story stylesheet '+(e+1)+'">'+$(this).html())}),window.location.hash&&!window.location.hash.includes("stories")&&State.load(window.location.hash)?void Engine.showPassage(State.passage):void Engine.goToPassage(n)}})}),define("harlowe",function(){}),require(["harlowe"])}();</script>


</body>
</html>
